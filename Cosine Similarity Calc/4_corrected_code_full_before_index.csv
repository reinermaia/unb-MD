Language,Comment,SourceCode,Issue Type,Code Fix
Java,fuzzy match ranking,"    public boolean fuzzyMatch(ValueNumber v1, ValueNumber v2) {
        if (REDUNDANT_LOAD_ELIMINATION) {
            return v1.equals(v2) || fromMatchingLoads(v1, v2) || haveMatchingFlags(v1, v2);
        } else {
            return v1.equals(v2);
        }
    }",Código em Conformidade,"public boolean fuzzyMatch(ValueNumber v1, ValueNumber v2) {
    boolean isEqual = v1.equals(v2);
    if (REDUNDANT_LOAD_ELIMINATION) {
        boolean isFromMatchingLoads = fromMatchingLoads(v1, v2);
        boolean hasMatchingFlags = haveMatchingFlags(v1, v2);
        return isEqual || isFromMatchingLoads || hasMatchingFlags;
    } else {
        return isEqual;
    }
}"
Java,create cookie,"  private Cookie createCookie(String str) throws UnsupportedEncodingException {
    if (LOG.isDebugEnabled()) {
      LOG.debug(""Cookie name = "" + AUTH_COOKIE + "" value = "" + str);
    }
    Cookie cookie = new Cookie(AUTH_COOKIE, str);

    cookie.setMaxAge(cookieMaxAge);
    if (cookieDomain != null) {
      cookie.setDomain(cookieDomain);
    }
    if (cookiePath != null) {
      cookie.setPath(cookiePath);
    }
    cookie.setSecure(isCookieSecure);
    return cookie;
  }",Código em Conformidade,"```java
private Cookie createCookie(String str) throws UnsupportedEncodingException {
  if (str == null || str.isEmpty()) {
    throw new IllegalArgumentException(""Cookie value can't be null or empty"");
  }
  if (AUTH_COOKIE == null || AUTH_COOKIE.isEmpty()) {
    throw new IllegalArgumentException(""Cookie name can't be null or empty"");
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug(""Cookie name = "" + AUTH_COOKIE + "" value = "" + str);
  }
  Cookie cookie = new Cookie(AUTH_COOKIE, str);

  cookie.setMaxAge(cookieMaxAge);
  if (cookieDomain != null) {
    cookie.setDomain(cookieDomain);
  }
  if (cookiePath != null) {
    cookie.setPath(cookiePath);
  }
  cookie.setSecure(isCookieSecure);
  return cookie;
}
```"
Java,parse query string in url,"	protected String parseUrl(String url, List<Param> paramList) throws UnsupportedEncodingException {
		StringBuilder sb = new StringBuilder();
		for (Param param : paramList) {
			if (param.getValue() == null) {
				continue;
			}
			if (sb.length() > 0) {
				sb.append('&');
			}

			sb.append(param.getName()).append('=').append(URLEncoder.encode(param.getValue().toString(), ""UTF-8""));
		}
		String queryString = sb.toString();
		// System.err.println(""queryString:"" + queryString);
		if (url.indexOf(""?"") == -1) {
			return url + ""?"" + queryString;
		}
		else {
			return url + ""&"" + queryString;
		}
	}",Código em Conformidade,"```java
protected String parseUrl(String url, List<Param> paramList) throws UnsupportedEncodingException {
    StringBuilder sb = new StringBuilder();
    for (Param param : paramList) {
        if (param.getValue() == null) {
            continue;
        }
        if (sb.length() > 0) {
            sb.append('&');
        }

        sb.append(param.getName()).append('=').append(URLEncoder.encode(param.getValue().toString(), ""UTF-8""));
    }
    String queryString = sb.toString();

    if (!url.contains(""?"")) {
        return url + ""?"" + queryString;
    } else {
        return url + ""&"" + queryString;
    }
}
```"
Java,convert int to string,"    public int getFrequency(String from, String to)
    {
        return getFrequency(convert(from), convert(to));
    }",Código em Conformidade,"```java
public String getFrequency(String from, String to)
{
    int freq = getFrequency(convert(from), convert(to));
    return Integer.toString(freq);
}
```"
Java,deducting the median from each column,"    private List<RowProcessingConsumer> extractConsumers(AnalysisJob analysisJob,
            AnalyzerBeansConfiguration analyzerBeansConfiguration, Configuration configuration) {
        final InjectionManager injectionManager = analyzerBeansConfiguration.getInjectionManager(analysisJob);
        final ReferenceDataActivationManager referenceDataActivationManager = new ReferenceDataActivationManager();

        final LifeCycleHelper lifeCycleHelper = new LifeCycleHelper(injectionManager, referenceDataActivationManager,
                configuration.includeNonDistributedTasks);
        SourceColumnFinder sourceColumnFinder = new SourceColumnFinder();
        sourceColumnFinder.addSources(analysisJob);

        /**
         * Use a single threaded task runner since this handler is invoked in a
         * blocking way - the calling code may itself be multithreaded without
         * issues.
         */
        final SingleThreadedTaskRunner taskRunner = new SingleThreadedTaskRunner();

        final AnalysisListener analysisListener = configuration.analysisListener;
        final RowProcessingPublishers rowProcessingPublishers = new RowProcessingPublishers(analysisJob,
                analysisListener, taskRunner, lifeCycleHelper, sourceColumnFinder);

        final RowProcessingPublisher publisher;
        if (configuration.table != null) {
            publisher = rowProcessingPublishers.getRowProcessingPublisher(configuration.table);
            if (publisher == null) {
                throw new IllegalArgumentException(""Job does not consume records from table: "" + configuration.table);
            }
        } else {
            final Collection<RowProcessingPublisher> publisherCollection = rowProcessingPublishers
                    .getRowProcessingPublishers();
            if (publisherCollection.size() > 1) {
                throw new IllegalArgumentException(
                        ""Job consumes multiple tables, but ConsumeRowHandler can only handle a single table's components. Please specify a Table constructor argument."");
            }
            publisher = publisherCollection.iterator().next();
        }

        final AtomicReference<Throwable> errorReference = new AtomicReference<Throwable>();

        publisher.initializeConsumers(new TaskListener() {
            @Override
            public void onError(Task task, Throwable throwable) {
                logger.error(""Exception thrown while initializing consumers."", throwable);
                errorReference.compareAndSet(null, throwable);
            }

            @Override
            public void onComplete(Task task) {
                logger.info(""Consumers initialized successfully."");
            }

            @Override
            public void onBegin(Task task) {
                logger.info(""Beginning the process of initializing consumers."");
            }
        });

        final Throwable throwable = errorReference.get();
        if (throwable != null) {
            if (throwable instanceof RuntimeException) {

            }
        }

        List<RowProcessingConsumer> consumers = publisher.getConfigurableConsumers();
        if (!configuration.includeAnalyzers) {
            consumers = removeAnalyzers(consumers);
        }

        consumers = RowProcessingPublisher.sortConsumers(consumers);
        return consumers;
    }",Código em Conformidade,"```java
final Throwable throwable = errorReference.get();
if (throwable != null) {
    if (throwable instanceof RuntimeException) {
        throw (RuntimeException) throwable;
    } else {
        throw new RuntimeException(throwable);
    }
}
```"
Java,read properties file,"    public static Properties readPropertiesFromFile(String _fileName, Properties _props) {
        Properties props = _props == null ? new Properties() : _props;

        LOGGER.debug(""Trying to read properties from file: "" + _fileName);
        Properties newProperties = readProperties(new File(_fileName));
        if (newProperties != null) {
            LOGGER.debug(""Successfully read properties from file: "" + _fileName);
            props.putAll(newProperties);
        }

        return props;
    }",Bug Crítico,"```java
import java.util.*;
import java.io.*;
import org.apache.log4j.Logger;

public class Main {
    
    private static final Logger LOGGER = Logger.getLogger(Main.class);

    public static Properties readPropertiesFromFile(String _fileName, Properties _props) {
        Properties props = _props == null ? new Properties() : _props;

        LOGGER.debug(""Trying to read properties from file: "" + _fileName);
        Properties newProperties = readProperties(new File(_fileName));
        if (newProperties != null) {
            LOGGER.debug(""Successfully read properties from file: "" + _fileName);
            props.putAll(newProperties);
        }

        return props;
    }
    
    public static Properties readProperties(File file) {
        Properties props = new Properties();
        InputStream input = null;
        try {
            input = new FileInputStream(file);
            props.load(input);
        } catch (IOException ex) {
            LOGGER.error(""Error reading properties file"", ex);
        } finally {
            if (input != null) {
                try {
                    input.close();
                } catch (IOException e) {
                    LOGGER.error(""Error closing properties file"", e);
                }
            }
        }
        return props;
    }
}
```"
Java,get executable path,"    public static Builder running(File executable) {
        checkArgument(executable.isFile(), ""file not found: %s"", executable);
        checkArgument(executable.canExecute(), ""executable.canExecute"");
        return running(executable.getPath());
    }",Vulnerabilidade (Injeção de Comandos - OWASP),"```java
public static Builder running(File executable) {
    try {
        if (executable == null) {
            throw new IllegalArgumentException(""Executable file must not be null"");
        }
        if (!executable.exists() || !executable.isFile()) {
            throw new IllegalArgumentException(String.format(""File not found: %s"", executable));
        }
        if (!executable.canExecute()) {
            throw new IllegalArgumentException(String.format(""Cannot execute file: %s"", executable));
        }
        
        return running(executable.getPath());
    } catch (Exception e) {
        System.err.println(""Error: "" + e.getMessage());
        return null;
    }
}
```"
Java,set file attrib hidden,"  @Implementation
  protected void setScale(float sx, float sy) {
    setOps.put(SCALE, sx + "" "" + sy);
    simpleMatrix = SimpleMatrix.scale(sx, sy);
  }",Código em Conformidade,"```java
public void setFileHidden(String filePath) {
    try {
        File file = new File(filePath);

        if(!file.exists()) {
            System.out.println(""File does not exist"");
            return;
        }

        Path path = FileSystems.getDefault().getPath(filePath);
        Files.setAttribute(path, ""dos:hidden"", true, LinkOption.NOFOLLOW_LINKS);
    } catch (IOException ex) {
        System.out.println(""Error setting file to hidden: "" + ex.getMessage());
    }
}
```"
Java,how to randomly pick a number,"	private int generateRandomId() {
		int num = (int) (Math.random() * Integer.MAX_VALUE);
		while (RESULT_HOLDER.containsKey(num)) {
			num = (int) (Math.random() * Integer.MAX_VALUE);
		}
		return num;
	}",Código em Conformidade,"```java
private int generateRandomId() {
	int num = (int) (Math.random() * Integer.MAX_VALUE);
	int attempts = 0;
	while (RESULT_HOLDER.containsKey(num) && attempts < 1000) {
		num = (int) (Math.random() * Integer.MAX_VALUE);
		attempts++;
	}
	if (attempts == 1000) {
		throw new RuntimeException(""Failed to generate unique ID after "" + attempts + "" attempts."");
	}
	return num;
}
```"
Java,set file attrib hidden,"	private void setHiddens(ITerminalConsumer... hiddenConsumers) {
		for(ITerminalConsumer hidden: this.hiddens)
			hidden.setHidden(false);
		this.hiddens = hiddenConsumers;
		for(ITerminalConsumer hidden: this.hiddens)
			hidden.setHidden(true);
	}",Código em Conformidade,"```java
	private void setHiddens(ITerminalConsumer... hiddenConsumers) {
		
		if(this.hiddens != null){
			for(ITerminalConsumer hidden: this.hiddens){
				if(hidden != null){
					hidden.setHidden(false);
				}
			}
		}

		this.hiddens = hiddenConsumers;
		
		if(this.hiddens != null){
			for(ITerminalConsumer hidden: this.hiddens){
				if(hidden != null){
					hidden.setHidden(true);
				}
			}
		}
	}
```"
Java,convert json to csv,"	private CSVSettings parseCsvSettings(JSONObject headRecord) throws Exception {
		JSONObject csv = headRecord.getJSONObject(""_csv"");
		
		CSVSettings csvSettings = new CSVSettings();
		
		JSONArray columnArr = csv.getJSONArray(""columns"");
		for(int i=0,e=columnArr.length(); i<e; ++i){
			Object columnObj = columnArr.get(i);
			if( columnObj instanceof JSONObject ){
				JSONObject jsonColumnDef = (JSONObject)columnObj;
				String name = jsonColumnDef.optString(""name"",null);
				String label = jsonColumnDef.optString(""label"",null);
				
				if( null == name ){
					throw new Exception(""Column definition must have a name"");
				}
				if( null == label ){
					label = name;
				}
				
				CSVColumn csvColumn = new CSVColumn();
				csvColumn.setName(name);
				csvColumn.setLabel(label);
				
				csvSettings.addColumn(csvColumn);
				
			} else {
				throw new Exception(""_csv.columns must be array of column definitions (objects)"");
			}
		}
		
		return csvSettings;
	}",Código em Conformidade,
Java,filter array,"  public FilterReply getFilterChainDecision(E event) {
    final Filter<E>[] filterArrray = filterList.asTypedArray();
    final int len = filterArrray.length;

    for (int i = 0; i < len; i++) {
      final FilterReply r = filterArrray[i].decide(event);
      if (r == FilterReply.DENY || r == FilterReply.ACCEPT) {
        return r;
      }
    }

    // no decision
    return FilterReply.NEUTRAL;
  }",Código em Conformidade,"```java
public FilterReply getFilterChainDecision(E event) {
    for (Filter<E> filter : filterList) {
        FilterReply r = filter.decide(event);
      
        if (r == FilterReply.DENY || r == FilterReply.ACCEPT) {
            return r;
        }
    }
    return FilterReply.NEUTRAL;
}
```"
Java,get the description of a http status code,"    @Nullable
    public String getGpsStatusDescription()
    {
        final String value = _directory.getString(TAG_STATUS);
        if (value == null)
            return null;
        String gpsStatus = value.trim();
        if (""A"".equalsIgnoreCase(gpsStatus)) {
            return ""Active (Measurement in progress)"";
        } else if (""V"".equalsIgnoreCase(gpsStatus)) {
            return ""Void (Measurement Interoperability)"";
        } else {
            return ""Unknown ("" + gpsStatus + "")"";
        }
    }",Código em Conformidade,"```java
@Nullable
public String getGpsStatusDescription()
{
    final String value = _directory.getString(TAG_STATUS);
    if (value == null)
        return null;
    String gpsStatus = value.trim();
    if (""A"".equalsIgnoreCase(gpsStatus)) {
        return ""Active (Measurement in progress)"";
    } else if (""V"".equalsIgnoreCase(gpsStatus)) {
        return ""Void (Measurement Interoperability)"";
    } else {
        return ""Unknown ("" + gpsStatus + "")"";
    }
}
```"
Java,how to determine a string is a valid word,"    public static void main(String[] args) throws IOException {

      String serializedClassifier = ""classifiers/english.all.3class.distsim.crf.ser.gz"";

      if (args.length > 0) {
        serializedClassifier = args[0];
      }

      AbstractSequenceClassifier<CoreLabel> classifier = CRFClassifier.getClassifierNoExceptions(serializedClassifier);

      /* For either a file to annotate or for the hardcoded text example,
         this demo file shows two ways to process the output, for teaching
         purposes.  For the file, it shows both how to run NER on a String
         and how to run it on a whole file.  For the hard-coded String,
         it shows how to run it on a single sentence, and how to do this
         and produce an inline XML output format.
      */
      if (args.length > 1) {
        String fileContents = IOUtils.slurpFile(args[1]);
        List<List<CoreLabel>> out = classifier.classify(fileContents);
        for (List<CoreLabel> sentence : out) {
          for (CoreLabel word : sentence) {
            System.out.print(word.word() + '/' + word.get(AnswerAnnotation.class) + ' ');
          }
          System.out.println();
        }
        out = classifier.classifyFile(args[1]);
        for (List<CoreLabel> sentence : out) {
          for (CoreLabel word : sentence) {
            System.out.print(word.word() + '/' + word.get(AnswerAnnotation.class) + ' ');
          }
          System.out.println();
        }

      } else {
        String s1 = ""Good afternoon Rajat Raina, how are you today?"";
        String s2 = ""I go to school at Stanford University, which is located in California."";
        System.out.println(classifier.classifyToString(s1));
        System.out.println(classifier.classifyWithInlineXML(s2));
        System.out.println(classifier.classifyToString(s2, ""xml"", true));
        int i=0;
        for (List<CoreLabel> lcl : classifier.classify(s2)) {
          for (CoreLabel cl : lcl) {
            System.out.println(i++ + "":"");
            System.out.println(cl);
          }
        }
      }
    }",Código com Débito Técnico,"```java
import edu.stanford.nlp.ling.CoreLabel;
import edu.stanford.nlp.io.IOUtils;
import edu.stanford.nlp.sequences.SeqClassifierFlags;
import edu.stanford.nlp.ie.AbstractSequenceClassifier;
import edu.stanford.nlp.ie.crf.CRFClassifier;
import edu.stanford.nlp.ling.CoreAnnotations.AnswerAnnotation;

import java.io.IOException;
import java.util.List;

public class Main {

    private static final String DEFAULT_CLASSIFIER = ""classifiers/english.all.3class.distsim.crf.ser.gz"";

    public static void main(String[] args) throws IOException {
        String classifierPath = args.length > 0 ? args[0] : DEFAULT_CLASSIFIER;
        AbstractSequenceClassifier<CoreLabel> classifier = getClassifierFromPath(classifierPath);

        if (args.length > 1) {
            processFileWithClassifier(args[1], classifier);
        } else {
            processDefaultStrings(classifier);
        }
    }

    private static AbstractSequenceClassifier<CoreLabel> getClassifierFromPath(String path) {
        return CRFClassifier.getClassifierNoExceptions(path);
    }

    private static void processFileWithClassifier(String filePath, AbstractSequenceClassifier<CoreLabel> classifier) throws IOException {
        String fileContents = IOUtils.slurpFile(filePath);
        List<List<CoreLabel>> classifiedContent = classifier.classify(fileContents);
        printClassifiedContent(classifiedContent);
    }

    private static void printClassifiedContent(List<List<CoreLabel>> classifiedContent) {
        for (List<CoreLabel> sentence : classifiedContent) {
            for (CoreLabel word : sentence) {
                System.out.print(word.word() + '/' + word.get(AnswerAnnotation.class) + ' ');
            }
            System.out.println();
        }
    }

    private static void processDefaultStrings(AbstractSequenceClassifier<CoreLabel> classifier) {
        String s1 = ""Good afternoon Rajat Raina, how are you today?"";
        String s2 = ""I go to school at Stanford University, which is located in California."";
        System.out.println(classifier.classifyToString(s1));
        System.out.println(classifier.classifyWithInlineXML(s2));
        System.out.println(classifier.classifyToString(s2, ""xml"", true));
        printClassifiedContent(classifier.classify(s2));
    }
}
```"
Java,all permutations of a list,"	public void completeGroup() {
		// Copy initial set to allow permutations to grow
		List<List<Integer>> gens = new ArrayList<List<Integer>>(permutations);
		// Keep HashSet version of permutations for fast lookup.
		Set<List<Integer>> known = new HashSet<List<Integer>>(permutations);
		//breadth-first search through the map of all members
		List<List<Integer>> currentLevel = new ArrayList<List<Integer>>(permutations);
		while( currentLevel.size() > 0) {
			List<List<Integer>> nextLevel = new ArrayList<List<Integer>>();
			for( List<Integer> p : currentLevel) {
				for(List<Integer> gen : gens) {
					List<Integer> y = combine(p,gen);
					if(!known.contains(y)) {
						nextLevel.add(y);
						//bypass addPermutation(y) for performance
						permutations.add(y);
						known.add(y);
					}
				}
			}
			currentLevel = nextLevel;
		}
	}",Código em Conformidade,"```java
public void completeGroup() {
	List<List<Integer>> gens = new ArrayList<List<Integer>>(permutations);
	Set<List<Integer>> known = new HashSet<List<Integer>>(permutations);
	List<List<Integer>> currentLevel = new ArrayList<List<Integer>>(permutations);
	while( currentLevel.size() > 0) {
		List<List<Integer>> nextLevel = new ArrayList<List<Integer>>();
		for( List<Integer> p : currentLevel) {
			for(List<Integer> gen : gens) {
				List<Integer> y = combine(p,gen);
				if(!known.contains(y)) {
					nextLevel.add(y);
					permutations.add(y);
					known.add(y);
				}
			}
		}
		currentLevel = nextLevel;
	}
}
```"
Java,randomly extract x items from a list,"    public void addExtractResultItem(ExtractResultItem extractResultItem) {
        List<ExtractResultItem> list = extractResultItems.get(extractResultItem.getField());
        if(list == null){
            list = new ArrayList<>();
            extractResultItems.put(extractResultItem.getField(), list);
        }
        list.add(extractResultItem);
    }",Código em Conformidade,"```java
import java.util.List;
import java.util.ArrayList;
import java.util.Random;

public List<ExtractResultItem> extractRandomItems(List<ExtractResultItem> list, int numItems) {
    List<ExtractResultItem> extractedItems = new ArrayList<>();
    Random rand = new Random();
    for (int i = 0; i < numItems; i++) {
        int randomIndex = rand.nextInt(list.size());
        extractedItems.add(list.remove(randomIndex));
    }
    return extractedItems;
}
```"
Java,convert json to csv,"    private String convertToJson(Map<String, ?> map) throws MovieDbException {
        try {
            return MAPPER.writeValueAsString(map);
        } catch (JsonProcessingException ex) {
            throw new MovieDbException(ApiExceptionType.MAPPING_FAILED, ""JSON conversion failed"", """", ex);
        }
    }",Código em Conformidade,"```java
private String convertJsonToCsv(String json) throws MovieDbException {
    try {
        CsvMapper csvMapper = new CsvMapper();
        JsonNode jsonTree = new ObjectMapper().readTree(json);

        CsvSchema.Builder csvSchemaBuilder = CsvSchema.builder();
        JsonNode firstObject = jsonTree.elements().next();
        firstObject.fieldNames().forEachRemaining(fieldName -> { csvSchemaBuilder.addColumn(fieldName);} );
        CsvSchema csvSchema = csvSchemaBuilder.build().withHeader();

        return csvMapper.writerFor(JsonNode.class)
          .with(csvSchema)
          .writeValueAsString(jsonTree);
    } catch (Exception ex) {
        throw new MovieDbException(ApiExceptionType.MAPPING_FAILED, ""CSV conversion failed"", """", ex);
    }
}
```"
Java,string to date,"	public static Date dateStringToDate(String dateString){
		SimpleDateFormat sdf=new SimpleDateFormat(DateTimeKit.FULL_DATE_24HR_STYLE);
		Date date = null;
		try {
			date = sdf.parse(dateString);
		} catch (ParseException e) {}  
		return date;
	}",Código em Conformidade,"```java
public static Date dateStringToDate(String dateString) throws ParseException {
	SimpleDateFormat sdf=new SimpleDateFormat(DateTimeKit.FULL_DATE_24HR_STYLE);
	Date date = null;
	date = sdf.parse(dateString);
	return date;
}
```

```java
public static Date dateStringToDate(String dateString){
	SimpleDateFormat sdf=new SimpleDateFormat(DateTimeKit.FULL_DATE_24HR_STYLE);
	Date date = null;
	try {
		date = sdf.parse(dateString);
	} catch (ParseException e) {
		System.err.println(""Failed to parse date: "" + dateString);
		e.printStackTrace();
	}  
	return date;
}
```"
Java,get name of enumerated value,"    private void parseAttDef(String elementName) throws Exception {
        String name;
        String type;
        String enumer = null;

        // Read the attribute name.
        name = readNmtoken(true);

        // Read the attribute type.
        requireWhitespace();
        type = readAttType();

        // Get the string of enumerated values if necessary.
        if (handler.stringInterning) {
            if ((""ENUMERATION"" == type) || (""NOTATION"" == type)) {
                enumer = dataBufferToString();
            }
        } else {
            if (""ENUMERATION"".equals(type) || ""NOTATION"".equals(type)) {
                enumer = dataBufferToString();
            }
        }

        // Read the default value.
        requireWhitespace();
        parseDefault(elementName, name, type, enumer);
    }",Código em Conformidade,"private void parseAttDef(String elementName) throws Exception {
    String name;
    String type;
    String enumer = null;

    name = readNmtoken(true);

    requireWhitespace();
    type = readAttType();

    if (""ENUMERATION"".equals(type) || ""NOTATION"".equals(type)) {
        enumer = dataBufferToString();
    }

    requireWhitespace();
    parseDefault(elementName, name, type, enumer);
}"
Java,print model summary,"	private void printSummary(PMML pmml){
		MemoryMeasurer measurer = new MemoryMeasurer();
		measurer.applyTo(pmml);

		NumberFormat numberFormat = NumberFormat.getInstance(Locale.US);
		numberFormat.setGroupingUsed(true);

		long size = measurer.getSize();
		System.out.println(""Bytesize of the object graph: "" + numberFormat.format(size));

		Set<Object> objects = measurer.getObjects();
		System.out.println(""Number of distinct Java objects in the object graph: "" + numberFormat.format(objects.size()));
	}",Código com Débito Técnico,"```java
private MemoryMeasurer measureMemory(PMML pmml){
    MemoryMeasurer measurer = new MemoryMeasurer();
    measurer.applyTo(pmml);
    return measurer;
}

private void printSummary(MemoryMeasurer measurer){
    NumberFormat numberFormat = NumberFormat.getInstance(Locale.US);
    numberFormat.setGroupingUsed(true);

    long size = measurer.getSize();
    System.out.println(""Bytesize of the object graph: "" + numberFormat.format(size));

    Set<Object> objects = measurer.getObjects();
    System.out.println(""Number of distinct Java objects in the object graph: "" + numberFormat.format(objects.size()));
}
```"
Java,how to make the checkbox checked,"    public void uncheckCheckboxInCell(int row, int column) {
        String checkboxLocator = getXPathBase() + ""tr["" + row + ""]/td["" + column + ""]/input"";
        CheckBox cb = new CheckBox(checkboxLocator);
        cb.uncheck();
    }",Código em Conformidade,"public void checkCheckboxInCell(int row, int column) {
    String checkboxLocator = getXPathBase() + ""tr["" + row + ""]/td["" + column + ""]/input"";
    CheckBox cb = new CheckBox(checkboxLocator);
    cb.check();
}"
Java,initializing array,"    private void initEmptyArray() {
        String[] emptyArray = {};
        spinner7 = findViewById(R.id.spinner7);
        spinner7.setAdapter(new ArrayAdapter<>(this, android.R.layout.simple_spinner_item, emptyArray));
    }",Código em Conformidade,"```java
private void initArray() {
    String[] array = {""Item 1"", ""Item 2"", ""Item 3""};
    spinner7 = findViewById(R.id.spinner7);
    spinner7.setAdapter(new ArrayAdapter<>(this, android.R.layout.simple_spinner_item, array));
}
```"
Java,convert int to string,"  private static int toInt(String str, int defaultVal) {
    try {
      return Integer.parseInt(str.trim());
    } catch (Exception e) {
      return defaultVal;
    }
  }",Código em Conformidade,"```java
private static String toString(int num, String defaultVal) {
    try {
        return String.valueOf(num);
    } catch (Exception e) {
        return defaultVal;
    }
}
```"
Java,unique elements,"	private String uniquify(String uniqueID)
	{
		while (uniqueIds.contains(uniqueID))
		{
			uniqueID = uniqueID + '\u200B';
		}
		uniqueIds.add(uniqueID);
		return uniqueID;
	}",Código em Conformidade,"```java
    private static int count = 0;
    private String uniquify(String uniqueID)
    {
        while (uniqueIds.contains(uniqueID))
        {
            uniqueID = uniqueID + count;
            count++;
        }
        uniqueIds.add(uniqueID);
        return uniqueID;
    }
```"
Java,copy to clipboard,"    protected void copyToClipboard(String toolTip) {
        Object[] data = new Object[] { toolTip };
        Transfer[] transfer = new Transfer[] { TextTransfer.getInstance() };
        Clipboard clipboard = new Clipboard(Display.getCurrent());
        clipboard.setContents(data, transfer);
        clipboard.dispose();
    }",Código em Conformidade,"protected void copyToClipboard(String toolTip) {
    Object[] data = new Object[] { toolTip };
    Transfer[] transfer = new Transfer[] { TextTransfer.getInstance() };
    Clipboard clipboard = new Clipboard(Display.getCurrent());
    clipboard.setContents(data, transfer);
}"
Java,sorting multiple arrays based on another arrays sorted order,"    public static <T extends Comparable<? super T>>  int[] sort(T[] arr) {
        int[] order = new int[arr.length];
        for (int i = 0; i < order.length; i++) {
            order[i] = i;
        }
        sort(arr, order);
        return order;
    }",Código em Conformidade,"```java
import java.util.stream.IntStream;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;
import java.util.Comparator;

public static <T extends Comparable<? super T>> int[] sort(T[] arr) {
    List<IndexValue<T>> list = IntStream.range(0, arr.length)
        .mapToObj(i -> new IndexValue<>(i, arr[i]))
        .sorted(Comparator.comparing(IndexValue::getValue))
        .collect(Collectors.toList());

    return list.stream().mapToInt(IndexValue::getIndex).toArray();
}

private static class IndexValue<T extends Comparable<? super T>> {
    private final int index;
    private final T value;

    public IndexValue(int index, T value) {
        this.index = index;
        this.value = value;
    }

    public int getIndex() {
        return index;
    }

    public T getValue() {
        return value;
    }
}
```"
Java,readonly array,"    private @NotNull List<?> readArray(@NotNull Array array) {
        try {
            boolean allowNulls = !TypeUtils.isPrimitive(elementType);
            ResultSet resultSet = array.getResultSet();
            try {
                NamedTypeList types = NamedTypeList.builder(1).add(""value"", ResultSetUtils.getColumnType(resultSet.getMetaData(), 2)).build();
                Instantiator<?> ctor = instantiatorRegistry.findInstantiator(elementType, types);
                ArrayList<Object> result = new ArrayList<>();

                // For performance reasons we reuse the same arguments-array and InstantiatorArguments-object for all rows.
                // This should be fine as long as the instantiators don't hang on to their arguments for too long.
                Object[] arguments = new Object[1];
                InstantiatorArguments instantiatorArguments = new InstantiatorArguments(types, arguments);

                while (resultSet.next()) {
                    arguments[0] = resultSet.getObject(2);

                    Object value = ctor.instantiate(instantiatorArguments);
                    if (value != null || allowNulls)
                        result.add(value);
                    else
                        throw new UnexpectedResultException(""Expected "" + elementType + "", but got null"");
                }

                return result;

            } finally {
                try {
                    resultSet.close();
                } finally {
                    SqlUtils.freeArray(array);
                }
            }

        } catch (SQLException e) {
            throw new DatabaseSQLException(e);
        }
    }",Código em Conformidade,
Java,format date,"   private String formatDate(Date value)
   {
      return (value == null ? null : m_formats.getDateFormat().format(value));
   }",Código em Conformidade,"```java
import java.text.DateFormat;
import java.util.Date;

private String formatDate(Date value)
{
   if(value == null)
   {
      return null;
   }
   else
   {
      DateFormat dateFormat = m_formats.getDateFormat();
      
      if(dateFormat == null)
      {
         throw new RuntimeException(""DateFormat is not initialized."");
      }
      
      return dateFormat.format(value);
   }
}
```"
Java,normal distribution,"    public static org.nd4j.linalg.api.rng.distribution.Distribution createDistribution(Distribution dist) {
        if (dist == null)
            return null;
        if (dist instanceof NormalDistribution) {
            NormalDistribution nd = (NormalDistribution) dist;
            return Nd4j.getDistributions().createNormal(nd.getMean(), nd.getStd());
        }
        if (dist instanceof GaussianDistribution) {
            GaussianDistribution nd = (GaussianDistribution) dist;
            return Nd4j.getDistributions().createNormal(nd.getMean(), nd.getStd());
        }
        if (dist instanceof UniformDistribution) {
            UniformDistribution ud = (UniformDistribution) dist;
            return Nd4j.getDistributions().createUniform(ud.getLower(), ud.getUpper());
        }
        if (dist instanceof BinomialDistribution) {
            BinomialDistribution bd = (BinomialDistribution) dist;
            return Nd4j.getDistributions().createBinomial(bd.getNumberOfTrials(), bd.getProbabilityOfSuccess());
        }
        if (dist instanceof LogNormalDistribution) {
            LogNormalDistribution lnd = (LogNormalDistribution) dist;
            return Nd4j.getDistributions().createLogNormal(lnd.getMean(), lnd.getStd());
        }
        if (dist instanceof TruncatedNormalDistribution) {
            TruncatedNormalDistribution tnd = (TruncatedNormalDistribution) dist;
            return Nd4j.getDistributions().createTruncatedNormal(tnd.getMean(), tnd.getStd());
        }
        if (dist instanceof OrthogonalDistribution) {
            OrthogonalDistribution od = (OrthogonalDistribution) dist;
            return Nd4j.getDistributions().createOrthogonal(od.getGain());
        }
        if (dist instanceof ConstantDistribution) {
            ConstantDistribution od = (ConstantDistribution) dist;
            return Nd4j.getDistributions().createConstant(od.getValue());
        }
        throw new RuntimeException(""unknown distribution type: "" + dist.getClass());
    }",Código em Conformidade,
Java,how to get current date,"    @NonNull
    public static String getNowDateTime(@NonNull String format) {
        SimpleDateFormat formatter = new SimpleDateFormat(format, Locale.ENGLISH);
        Date curDate = new Date(System.currentTimeMillis());
        return formatter.format(curDate);
    }",Código em Conformidade,"```java
@NonNull
public static String getNowDateTime(@NonNull String format) {
    SimpleDateFormat formatter = new SimpleDateFormat(format, Locale.ENGLISH);
    Date curDate = new Date(System.currentTimeMillis());
    return formatter.format(curDate);
}
```"
Java,readonly array,"  public void switchReadOnlyConnection(Boolean mustBeReadOnly) throws SQLException {
    if (urlParser.getOptions().assureReadOnly && currentReadOnlyAsked != mustBeReadOnly) {
      proxy.lock.lock();
      try {
        // verify not updated now that hold lock, double check safe due to volatile
        if (currentReadOnlyAsked != mustBeReadOnly) {
          currentReadOnlyAsked = mustBeReadOnly;
          setSessionReadOnly(mustBeReadOnly, currentProtocol);
        }
      } finally {
        proxy.lock.unlock();
      }
    }
  }",Bug Crítico,"```java
public void switchReadOnlyConnection(Boolean mustBeReadOnly) throws SQLException {
  if (urlParser.getOptions().assureReadOnly) {
    proxy.lock.lock();
    try {
      for (int i = 0; i < currentReadOnlyAsked.length; i++) {
        if (currentReadOnlyAsked[i] != mustBeReadOnly) {
          currentReadOnlyAsked[i] = mustBeReadOnly;
          setSessionReadOnly(mustBeReadOnly, currentProtocol);
        }
      }
    } finally {
      proxy.lock.unlock();
    }
  }
}
```"
Java,initializing array,"    public void init(String pin) {
        keygen.setWallet(getDescriptor(false));
        log.info( ""Initializing wallet: "" + descriptor.key + "" pin enabled: "" + pinEnabled);
        try {
            keygen.init(pinEnabled, pinSalt, pin);
        } catch (Exception e) {
            System.out.println(""Error while initializing Keygen..."");
            log.error(""Error initializing wallet: "" + descriptor.key + "" pin enabled: "" + pinEnabled);
        }
    }",Código com Débito Técnico,"```java
public void init(String pin) {
    if(keygen == null || pin == null || pinSalt == null || descriptor == null || log == null) {
        throw new IllegalArgumentException(""One or more required parameters are null"");
    }

    keygen.setWallet(getDescriptor(false));
    log.info(""Initializing wallet: "" + descriptor.key + "" pin enabled: "" + pinEnabled);

    try {
        keygen.init(pinEnabled, pinSalt, pin);
    } catch (Exception e) {
        System.err.println(""Error while initializing Keygen..."");
        log.error(""Error initializing wallet: "" + descriptor.key + "" pin enabled: "" + pinEnabled, e);
    }
}
```"
Java,string to date,"	public String toDateStr() {
		if (null != this.timeZone) {
			final SimpleDateFormat simpleDateFormat = new SimpleDateFormat(DatePattern.NORM_DATE_PATTERN);
			simpleDateFormat.setTimeZone(this.timeZone);
			return toString(simpleDateFormat);
		}
		return toString(DatePattern.NORM_DATE_FORMAT);
	}",Código em Conformidade,"```java
public Date toDate(String dateStr) {
    if (null != this.timeZone) {
        final SimpleDateFormat simpleDateFormat = new SimpleDateFormat(DatePattern.NORM_DATE_PATTERN);
        simpleDateFormat.setTimeZone(this.timeZone);
        try {
            return simpleDateFormat.parse(dateStr);
        } catch (ParseException e) {
            e.printStackTrace();
            return null;
        }
    }
    try {
        return DatePattern.NORM_DATE_FORMAT.parse(dateStr);
    } catch (ParseException e) {
        e.printStackTrace();
        return null;
    }
}
```"
Java,map to json,"    @SuppressWarnings(""unchecked"")
    public static Map<String, Object> deserialize(byte[] json) {
        try {
            return getsMapper().readValue(json, Map.class);
        } catch (RuntimeException e){
            throw e;
        } catch (Exception e) {
            throw new IllegalStateException(""Error converting byte[] to map object: "" +
                    bytesToString(json));
        }
    }",Código em Conformidade,"```java
    @SuppressWarnings(""unchecked"")
    public static Map<String, Object> deserialize(byte[] json) {
        try {
            return getMapper().readValue(json, new TypeReference<Map<String, Object>>(){});
        } catch (RuntimeException e){
            throw e;
        } catch (Exception e) {
            throw new IllegalStateException(""Error converting byte[] to map object: "" +
                    bytesToString(json), e);
        }
    }
```"
Java,sending binary data over a serial connection,"    @Override
    public void sendBinary(@Sensitive ByteBuffer partialByte, boolean isLast) throws IOException {
        if (partialByte == null) {
            IllegalArgumentException up = new IllegalArgumentException();
            throw up;
        }

        impl.sendBinary(partialByte, OpcodeType.BINARY_WHOLE, isLast);
        return;

    }",Código em Conformidade,"```java
@Override
public void sendBinary(@Sensitive ByteBuffer partialByte, boolean isLast) throws IOException {
    if (partialByte == null) {
        throw new IllegalArgumentException();
    }

    impl.sendBinary(partialByte, OpcodeType.BINARY_WHOLE, isLast);
}
```"
Java,parse command line argument,"  private <A extends ArgsBase>
  int parseCommandOption(Command<? super A> command,
                         A args,
                         String arg,
                         int i)
  {
    final String []argv = args.getRawArgv();
    OptionCommandLine<? super A> option = command.getOption(arg);

    if (option != null) {
      i = option.parse(args, argv, i);
    }
    else if (arg.startsWith(""--"") && arg.indexOf(""="") > 0) {
      int p = arg.indexOf(""="");
      
      String key = arg.substring(2, p);
      String value = arg.substring(p + 1);
      
      args.property(key, value);
    }
    else if (arg.startsWith(""-"")) {
      throw new CommandArgumentException(L.l(""'{0}' is an unexpected option for {1}."",
                                             arg,
                                             command.name()));
    }
    else if (command.getTailArgsMinCount() >= 0) {
      args.addTailArg(arg);
    }
    else {
      throw new CommandArgumentException(L.l(""'{0}' is an unexpected argument for {1}."",
                                             arg,
                                             command.name()));
    }

    return i;
  }",Código em Conformidade,
Java,deserialize json,"  public WxCpTag deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)
      throws JsonParseException {
    JsonObject jsonObject = json.getAsJsonObject();
    return new WxCpTag(GsonHelper.getString(jsonObject, ""tagid""), GsonHelper.getString(jsonObject, ""tagname""));
  }",Código em Conformidade,"```java
public WxCpTag deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)
    throws JsonParseException {
    JsonObject jsonObject = json.getAsJsonObject();

    String tagId = null;
    if (jsonObject.has(""tagid"")) {
        tagId = GsonHelper.getString(jsonObject, ""tagid"");
    }

    String tagName = null;
    if (jsonObject.has(""tagname"")) {
        tagName = GsonHelper.getString(jsonObject, ""tagname"");
    }

    return new WxCpTag(tagId, tagName);
}
```"
Java,get inner html,"  List<List<Double>> multiplyWithOutAMP(List<List<Double>> list1, List<List<Double>> list2) {
    List<List<Double>> c ;
    List<Double> cTemp;

    c = new ArrayList<>() ;
    for (int row = 0; row < list1.size(); row++) {
      cTemp = new ArrayList<>() ;
      for (int col = 0; col < list2.get(0).size(); col++) {
        cTemp.add(0.0);
      }
      c.add(cTemp);
    }

    for (int row = 0; row < list1.size(); row++) {
      for (int col = 0; col < list2.get(row).size(); col++) {
        for (int inner = 0; inner < list1.get(0).size(); inner++) {
          double val = c.get(row).get(col) ;
          c.get(row).set(col, val + list1.get(row).get(inner) * list2.get(inner).get(col));
        }
      }
    }
    return c;
  }",Código em Conformidade,"```java
List<List<Double>> multiplyWithOutAMP(List<List<Double>> list1, List<List<Double>> list2) {
    List<List<Double>> c = new ArrayList<>() ;
    int list1RowSize = list1.size();
    int list1ColSize = list1.get(0).size();
    int list2ColSize = list2.get(0).size();

    for (int row = 0; row < list1RowSize; row++) {
      List<Double> cTemp = new ArrayList<>() ;
      for (int col = 0; col < list2ColSize; col++) {
        cTemp.add(0.0);
      }
      c.add(cTemp);
    }

    for (int row = 0; row < list1RowSize; row++) {
      for (int col = 0; col < list2ColSize; col++) {
        double sum = 0.0;
        for (int inner = 0; inner < list1ColSize; inner++) {
          sum += list1.get(row).get(inner) * list2.get(inner).get(col);
        }
        c.get(row).set(col, sum);
      }
    }
    return c;
}
```"
Java,sorting multiple arrays based on another arrays sorted order,"    public void sortIndices(SortCoupledArray_F64 sorter ) {
        if( sorter == null )
            sorter = new SortCoupledArray_F64();

        sorter.quick(col_idx,numCols+1,nz_rows,nz_values);
        indicesSorted = true;
    }",Código em Conformidade,"```java
public void sortIndices(SortCoupledArray_F64 sorter) {
    if (sorter == null)
        sorter = new SortCoupledArray_F64();

    if (numCols < col_idx.length && nz_rows.length > 0 && nz_values.length > 0) {
        sorter.quick(col_idx, numCols, nz_rows, nz_values);
        indicesSorted = true;
    } else {
        System.out.println(""Error: Index out of bounds."");
    }
}
```"
Java,pretty print json,"    public static String toPrettyJsonString(Object object) {
        try {
            return jsonMapper.writerWithDefaultPrettyPrinter()
                    .writeValueAsString(object);
        } catch (JsonProcessingException e) {
            return JMExceptionManager.handleExceptionAndReturnNull(log, e,
                    ""toPrettyJsonString"", object);
        }
    }",Código em Conformidade,"```java
public static String toPrettyJsonString(Object object) {
    try {
        return jsonMapper.writerWithDefaultPrettyPrinter()
                .writeValueAsString(object);
    } catch (JsonProcessingException e) {
        System.err.println(""JsonProcessingException: "" + e.getMessage());
        return null;
    }
}
```"
Java,encrypt aes ctr mode,"	public void doAESDecryption(byte[] salt, byte[] iv) throws Exception{
		setSalt(salt);
		if(!initAESDone)
			initAES();
		Cipher cipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
		cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(iv));
		secretPlain = cipher.doFinal(secretCipher);
	}",Código em Conformidade,"```java
public void doAESEncryption(byte[] salt, byte[] iv) throws Exception{
    setSalt(salt);
    if(!initAESDone)
        initAES();
    Cipher cipher = Cipher.getInstance(""AES/CTR/NoPadding"");
    cipher.init(Cipher.ENCRYPT_MODE, secretKey, new IvParameterSpec(iv));
    secretCipher = cipher.doFinal(secretPlain);
}
```"
Java,convert a utc time to epoch,"    private void readObject(java.io.ObjectInputStream in)
     throws IOException, ClassNotFoundException
    {
        this.timezoneSensitive = in.readBoolean();
        long time = in.readLong();
        if (!this.timezoneSensitive)
        {
            // convert the time from UTC to local
            int offset = getDefaultOffset(this);
            time -= offset;
        }
        this.setTime(time);
        this.setNanos(in.readInt());
    }",Código em Conformidade,"```java
private void readObject(java.io.ObjectInputStream in)
 throws IOException, ClassNotFoundException
{
    this.timezoneSensitive = in.readBoolean();
    long time = in.readLong();
    if (this.timezoneSensitive)
    {
        int offset = getDefaultOffset();
        time += offset; 
    }
    this.setTime(time);
    this.setNanos(in.readInt());
}

private int getDefaultOffset()
{
    TimeZone tz = TimeZone.getDefault();
    return tz.getOffset(System.currentTimeMillis());
}
```"
Java,map to json,"	public Map<?, ?> formatJSON2Map(String json) {
		Map<?, ?> map = null;
		try {
			map = MAPPER.readValue(json, Map.class);
		} catch (Exception e) {
			LOGGER.error(""formatJsonToMap error, json = "" + json, e);
		}
		return map;
	}",Código em Conformidade,"```
public Map<String, Object> formatJSON2Map(String json) {
		Map<String, Object> map = null;
		try {
			map = new ObjectMapper().readValue(json, new TypeReference<Map<String, Object>>(){});
		} catch (Exception e) {
			LOGGER.error(""formatJsonToMap error, json = "" + json, e);
		}
		return map;
	}
```"
Java,how to get database table name,"    public String getTableNames(boolean bAddQuotes)
    {
        return (m_tableName == null) ? Record.formatTableNames(CLASS_FIELDS_FILE, bAddQuotes) : super.getTableNames(bAddQuotes);
    }",Código em Conformidade,"```java
public class MyClass {

    private String m_tableName;
    private static final String CLASS_FIELDS_FILE = ""your_database_file_path"";

    public String getTableNames(boolean bAddQuotes){
        if(m_tableName == null){
            return formatTableNames(CLASS_FIELDS_FILE, bAddQuotes);
        }else{
            return formatTableNames(m_tableName, bAddQuotes);
        }
    }

    public String formatTableNames(String tableName, boolean bAddQuotes){

    }
}
```"
Java,extracting data from a text file,"	private static DataSet<String> getTextDataSet(ExecutionEnvironment env) {
		if(fileOutput) {
			// read the text file from given input path
			return env.readTextFile(textPath);
		} else {
			// get default test text data
			return WordCountData.getDefaultTextLineDataSet(env);
		}
	}",Vulnerabilidade (Injeção de Comandos - OWASP),"```java
private static DataSet<String> getTextDataSet(ExecutionEnvironment env, String textPath) {
    if(fileOutput) {
        if(isFilePathSafe(textPath)) {
            return env.readTextFile(textPath);
        } else {
            throw new IllegalArgumentException(""Unsafe file path provided"");
        }
    } else {
        return WordCountData.getDefaultTextLineDataSet(env);
    }
}

private static boolean isFilePathSafe(String filePath) {
}
```"
Java,how to get html of website,"    @RequestMapping(value = ""/isPageHtmlAvailable"", method = RequestMethod.GET)
    @ResponseBody
    public JsonObject<?> isPageHtmlAvailable(
            @RequestParam(value = ""url"", required = true) String url) {
        JsonObject<?> result = JsonObject.create();
        LOG.info(""Start to get page html of url="" + url);
        try {
            result.addData(""isAvailable"", StringUtils.isNotEmpty(pageFetcher.getPageHtml(url)));
        } catch (RuntimeException e) {
            LOG.error(""Failed to get page html of url="" + url + "" due to "" + e.getMessage(), e);
            return sysError(GlobalResponseStatusMsg.GET_HTML_PAGE_FAILED.getMessage(url)
                    .getMessage());
        }
        return result;
    }",Código em Conformidade,"```java
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import org.apache.commons.lang3.StringUtils;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

@RestController
@RequestMapping(""/api"")
public class HtmlController {

    private static final Logger LOG = LoggerFactory.getLogger(HtmlController.class);
    private final PageFetcher pageFetcher;

    public HtmlController(PageFetcher pageFetcher) {
        this.pageFetcher = pageFetcher;
    }

    @GetMapping(value = ""/isPageHtmlAvailable"")
    public ResponseEntity<?> isPageHtmlAvailable(@RequestParam(value = ""url"", required = true) String url) {
        LOG.info(""Start to get page html of url={}"", url);
        try {
            String pageHtml = pageFetcher.getPageHtml(url);
            if (StringUtils.isNotEmpty(pageHtml)) {
                return ResponseEntity.ok().body(""Page HTML is available"");
            } else {
                return ResponseEntity.notFound().build();
            }
        } catch (RuntimeException e) {
            LOG.error(""Failed to get page html of url={} due to {}"", url, e.getMessage(), e);
            return ResponseEntity.status(500).body(""Error: "" + e.getMessage());
        }
    }
}
```"
Java,priority queue,"	public Priority setPriority(Integer priority) {
		Priority prop = (priority == null) ? null : new Priority(priority);
		setPriority(prop);
		return prop;
	}",Código em Conformidade,"public Priority setPriority(Integer priority) {
	Priority prop = (priority == null) ? null : new Priority(priority);
	this.setPriority(prop);
	return prop;
}

public Priority setPriority(Integer priority) {
	Priority prop = (priority == null) ? null : new Priority(priority);
	this.definePriority(prop);
	return prop;
}"
Java,how to randomly pick a number,"    public static <T> T pickRandom (List<T> values, T skip, Random r)
    {
        int size = values.size();
        if (size < 2) {
            throw new IllegalArgumentException(
                ""Must have at least two elements [size="" + size + ""]"");
        }

        int pick = r.nextInt(size - 1);
        for (int ii = 0; ii < size; ii++) {
            T val = values.get(ii);
            if ((val != skip) && (pick-- == 0)) {
                return val;
            }
        }
        return null;
    }",Código em Conformidade,"```java
public static <T> T pickRandom (List<T> values, T skip, Random r)
{
    int size = values.size();
    if (size < 2) {
        throw new IllegalArgumentException(
            ""Must have at least two elements [size="" + size + ""]"");
    }

    int pick = r.nextInt(size - 1);
    for (int ii = 0; ii < size; ii++) {
        T val = values.get(ii);
        if (val != skip) {
            if (pick-- == 0) {
                return val;
            }
        }
    }
    return null;
}
```"
Java,deserialize json,"    public static <T> T deserialize(byte[] input, Class<T> classType)
            throws JsonParseException, JsonMappingException, IOException {
        return mapper.readValue(input, classType);
    }",Código em Conformidade,"```java
import com.fasterxml.jackson.core.JsonParseException;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.fasterxml.jackson.databind.ObjectMapper;

import java.io.IOException;

public class JsonUtils {
    private static final ObjectMapper mapper = new ObjectMapper();

    public static <T> T deserialize(byte[] input, Class<T> classType)
            throws JsonParseException, JsonMappingException, IOException {
        return mapper.readValue(input, classType);
    }
}
```"
Java,get executable path,"  private String getModuleExecutable(String modulePath) {
    String executable = executableName == null ? moduleName : executableName;
    return modulePath + File.separator + ""bin"" + File.separator + executable;
  }",Vulnerabilidade (Injeção de Comandos - OWASP),"```java
private String getModuleExecutable(String modulePath) {
    String executable = executableName == null ? moduleName : executableName;
    return Paths.get(modulePath, ""bin"", executable).toString();
}
```"
Java,encode url,"	private static String urlEncodePair(String k, String v) throws UnsupportedEncodingException {
		return String.format(""%s=%s"", URLEncoder.encode(k, CHARSET), URLEncoder.encode(v, CHARSET));
	}",Código em Conformidade,"```java
private static final String CHARSET = ""UTF-8"";

private static String urlEncodePair(String k, String v) throws UnsupportedEncodingException {
    return String.format(""%s=%s"", URLEncoder.encode(k, CHARSET), URLEncoder.encode(v, CHARSET));
}
```

```java
private static final String CHARSET = ""UTF-8"";

private static String urlEncodePair(String k, String v) {
    try {
        return String.format(""%s=%s"", URLEncoder.encode(k, CHARSET), URLEncoder.encode(v, CHARSET));
    } catch (UnsupportedEncodingException e) {
        throw new RuntimeException(""Error: Unsupported Encoding"", e);
    }
}
```"
Java,get current ip address,"    @Nullable
    @Override
    public IpAddress getIpAddress(@Nonnull String addressId) throws InternalException, CloudException {
        APITrace.begin(getProvider(), ""IpAddress.getIpAddress"");
        try{
            try{
                Compute gce = getProvider().getGoogleCompute();
                AddressAggregatedList addressList = gce.addresses().aggregatedList(getContext().getAccountNumber()).setFilter(""name eq "" + addressId).execute();
                if(addressList != null && addressList.getItems() != null && !addressList.getItems().isEmpty())        {
                    Iterator<String> regions = addressList.getItems().keySet().iterator();
                    while(regions.hasNext()){
                        String region = regions.next();
                        if(addressList.getItems() != null && addressList.getItems().get(region) != null && addressList.getItems().get(region).getAddresses() != null && !addressList.getItems().get(region).getAddresses().isEmpty()){
                            for(Address address : addressList.getItems().get(region).getAddresses()){
                                if(address.getName().equals(addressId))return toIpAddress(address);
                            }
                        }
                    }
                }
    	    } catch (IOException ex) {
	            logger.error(ex.getMessage());
    			if (ex.getClass() == GoogleJsonResponseException.class) {
    				GoogleJsonResponseException gjre = (GoogleJsonResponseException)ex;
    				throw new GoogleException(CloudErrorType.GENERAL, gjre.getStatusCode(), gjre.getContent(), gjre.getDetails().getMessage());
    			} else
                    throw new CloudException(""An error occurred getting the IPAddress: "" + ex.getMessage());
    		}
            throw new InternalException(""Could not find IPAddress: "" + addressId);
        }
        finally {
            APITrace.end();
        }
    }",Vulnerabilidade (Injeção de Comandos - OWASP),"@Nullable
@Override
public IpAddress getIpAddress(@Nonnull String addressId) throws InternalException, CloudException {
    APITrace.begin(getProvider(), ""IpAddress.getIpAddress"");
    try{
        try{
            Compute gce = getProvider().getGoogleCompute();
            AddressAggregatedList addressList = gce.addresses().aggregatedList(getContext().getAccountNumber()).setFilter(""name eq "" + ""'"" + addressId + ""'"").execute();
            if(addressList != null && addressList.getItems() != null && !addressList.getItems().isEmpty())        {
                Iterator<String> regions = addressList.getItems().keySet().iterator();
                while(regions.hasNext()){
                    String region = regions.next();
                    if(addressList.getItems() != null && addressList.getItems().get(region) != null && addressList.getItems().get(region).getAddresses() != null && !addressList.getItems().get(region).getAddresses().isEmpty()){
                        for(Address address : addressList.getItems().get(region).getAddresses()){
                            if(address.getName().equals(addressId))return toIpAddress(address);
                        }
                    }
                }
            }
    	} catch (IOException ex) {
	        logger.error(ex.getMessage());
			if (ex.getClass() == GoogleJsonResponseException.class) {
				GoogleJsonResponseException gjre = (GoogleJsonResponseException)ex;
				throw new GoogleException(CloudErrorType.GENERAL, gjre.getStatusCode(), gjre.getContent(), gjre.getDetails().getMessage());
			} else
                throw new CloudException(""An error occurred getting the IPAddress: "" + ex.getMessage());
		}
        throw new InternalException(""Could not find IPAddress: "" + addressId);
    }
    finally {
        APITrace.end();
    }
}"
Java,group by count,"    private int countNonDefaultGroups(String pathTemplate) {
        int count = 0;
        for (String bit : pathTemplate.split(""/"")) {
            if (bit.startsWith(""{"") && bit.endsWith(""}"") && bit.contains("":"")) {
                count++;
            }
        }
        return count;
    }",Código em Conformidade,"```java
private int countNonDefaultGroups(String pathTemplate) {
    int count = 0; 

    for (String bit : pathTemplate.split(""/"")) {

        if (bit.startsWith(""{"") && bit.endsWith(""}"") && bit.contains("":"")) {
            count++; 
        }
    }

    return count; 
}
```"
Java,positions of substrings in string,"    public TemplateFilter descriptionContains(String... substrings) {
        allItemsNotNull(substrings, ""Template description substrings"");

        predicate = predicate.and(combine(
            TemplateMetadata::getDescription, in(asList(substrings), Predicates::containsIgnoreCase)
        ));

        return this;
    }",Código em Conformidade,"```java
public TemplateFilter descriptionContains(String... substrings) {
    if (substrings == null) {
        throw new IllegalArgumentException(""Template description substrings cannot be null"");
    }
    for (String substring : substrings) {
        if (substring == null) {
            throw new IllegalArgumentException(""None of the substrings can be null"");
        }
    }

    predicate = predicate.and(combine(
        TemplateMetadata::getDescription, in(asList(substrings), Predicates::containsIgnoreCase)
    ));

    return this;
}
```"
Java,normal distribution,"   @Override public double normal(double mean, double sd) {
      NormalDistribution normal = new NormalDistribution(mean, sd);
      return normal.sample();
   }",Código em Conformidade,"```java
@Override public double normal(double mean, double sd) {
    NormalDistribution normal = new NormalDistribution(mean, sd);
    return normal.sample();
}
```
```java
import org.apache.commons.math3.distribution.NormalDistribution;
```"
Java,json to xml conversion,"	public static void xmlConversionTypeIncorrect(String conversionName,String xmlPath,String className,String type){
		throw new XmlConversionTypeException(MSG.INSTANCE.message(xmlConversionTypeException,conversionName,xmlPath,className,type));
	}",Código em Conformidade,"```java
import org.json.JSONObject;
import org.json.XML;

public class JsonToXmlConverter {
    public static String convertJsonToXml(String jsonString) {
        JSONObject json = new JSONObject(jsonString);
        String xml = XML.toString(json);
        return xml;
    }
}
```"
Java,copy to clipboard,,Código em Conformidade,
Java,underline text in label widget,"    private void addErrorLabel(Validator validator, Label label, Widget widget) {
        errors.put(label, widget); // keep a list of the errors for easily iteration later
        validatorLabels.put(validator, label); // connect the label and the validator
    }",Código em Conformidade,"```java
private void addErrorLabel(Validator validator, Label label, Widget widget) {
    errors.put(label, widget);
    validatorLabels.put(validator, label);
    label.setStyle(""-fx-underline: true;"");
}
```"
Java,string to date,"    public static String dateToStrLong(Date dateDate) {
        String dateString = FORMATTER_LONG.format(dateDate);
        return dateString;
    }",Código em Conformidade,"```java
public static Date strToDateLong(String dateString) {
    Date date = null;
    try {
        date = new SimpleDateFormat(""yyyy-MM-dd HH:mm:ss"").parse(dateString);
    } catch (ParseException e) {
        e.printStackTrace();
    }
    return date;
}
```"
Java,how to read the contents of a .gz compressed file?,"  public Array readCompressedZlib(ucar.nc2.Variable v2, long dataPos, int nx, int ny, int[] origin, int[] shape, int[] stride) throws IOException, InvalidRangeException {

    long length = raf.length();

    raf.seek(dataPos);

    int data_size = (int) (length - dataPos);     //  or 5120 as read buffer size
    byte[] data = new byte[data_size];
    raf.readFully(data);

    // decompress the bytes
    int resultLength;
    int result = 0;
    byte[] tmp;
    int uncompLen;        /* length of decompress space    */
    byte[] uncomp = new byte[nx * (ny + 1) + 4000];
    Inflater inflater = new Inflater(false);

    inflater.setInput(data, 0, data_size);
    int offset = 0;
    int limit = nx * ny + nx;

    while (inflater.getRemaining() > 0) {
      try {
        resultLength = inflater.inflate(uncomp, offset, 4000);

      } catch (DataFormatException ex) {
        ex.printStackTrace();
        throw new IOException(ex.getMessage());
      }

      offset = offset + resultLength;
      result = result + resultLength;
      if ((result) > limit) {
        // when uncomp data larger then limit, the uncomp need to increase size
        tmp = new byte[result];
        System.arraycopy(uncomp, 0, tmp, 0, result);
        uncompLen = result + 4000;
        uncomp = new byte[uncompLen];
        System.arraycopy(tmp, 0, uncomp, 0, result);
      }

      if (resultLength == 0) {
        int tt = inflater.getRemaining();
        byte[] b2 = new byte[2];
        System.arraycopy(data, data_size - tt, b2, 0, 2);
        if (isZlibHed(b2) == 0) {
          System.arraycopy(data, data_size - tt, uncomp, result, tt);
          break;
        }
        inflater.reset();
        inflater.setInput(data, data_size - tt, tt);
      }

    }

    inflater.end();

    byte[] inflateData = new byte[nx * ny];
    System.arraycopy(uncomp, 0, inflateData, 0, nx * ny);
    Array array = Array.factory(DataType.BYTE, v2.getShape(), inflateData);
    if (array.getSize() < Variable.defaultSizeToCache)
      v2.setCachedData(array, false);
    return array.sectionNoReduce(origin, shape, stride);
  }",Código em Conformidade,"```java
public Array readCompressedZlib(ucar.nc2.Variable v2, long dataPos, int nx, int ny, int[] origin, int[] shape, int[] stride) throws IOException, InvalidRangeException {

    long length = raf.length();
    raf.seek(dataPos);

    int data_size = (int) (length - dataPos);   
    byte[] data = new byte[data_size];
    raf.readFully(data);

    int resultLength;
    int result = 0;
    byte[] tmp;
    int uncompLen;        
    byte[] uncomp = new byte[nx * (ny + 1) + 4000];

    try (Inflater inflater = new Inflater(false)) {
        inflater.setInput(data, 0, data_size);
        int offset = 0;
        int limit = nx * ny + nx;

        while (inflater.getRemaining() > 0) {
            try {
                resultLength = inflater.inflate(uncomp, offset, 4000);

            } catch (DataFormatException ex) {
                ex.printStackTrace();
                throw new IOException(ex.getMessage());
            }

            offset = offset + resultLength;
            result = result + resultLength;
            if ((result) > limit) {
                tmp = new byte[result];
                System.arraycopy(uncomp, 0, tmp, 0, result);
                uncompLen = result + 4000;
                uncomp = new byte[uncompLen];
                System.arraycopy(tmp, 0, uncomp, 0, result);
            }

            if (resultLength == 0) {
                int tt = inflater.getRemaining();
                byte[] b2 = new byte[2];
                System.arraycopy(data, data_size - tt, b2, 0, 2);
                if (isZlibHed(b2) == 0) {
                    System.arraycopy(data, data_size - tt, uncomp, result, tt);
                    break;
                }
                inflater.reset();
                inflater.setInput(data, data_size - tt, tt);
            }
        }
    }

    byte[] inflateData = new byte[nx * ny];
    System.arraycopy(uncomp, 0, inflateData, 0, nx * ny);
    Array array = Array.factory(DataType.BYTE, v2.getShape(), inflateData);
    if (array.getSize() < Variable.defaultSizeToCache)
        v2.setCachedData(array, false);
    return array"
Java,matrix multiply,"    public Matrix multiply(Matrix B)
    {
        Matrix C = new DenseMatrix(this.rows(), B.cols());
        multiply(B, C);
        return C;
    }",Código em Conformidade,"```java
public Matrix multiply(Matrix B)
{
    Matrix C = new DenseMatrix(this.rows(), B.cols());

    for (int i = 0; i < this.rows(); i++) {
        for (int j = 0; j < B.cols(); j++) {
            double sum = 0.0;
            for (int k = 0; k < this.cols(); k++) {
                sum += this.get(i, k) * B.get(k, j);
            }
            C.set(i, j, sum);
        }
    }

    return C;
}
```"
Java,sort string list,"    public static String sort(String list, String sortType, String sortOrder, String delimiter) throws PageException {
	return _sort(toStringArray(listToArray(list, delimiter)), sortType, sortOrder, delimiter);
    }",Código em Conformidade,
Java,convert decimal to hex,"    public static byte[] fromHex(String hex) {
        try {
            return Hex.decodeHex(hex.toCharArray());
        } catch (DecoderException e) {
            return null;
        }
    }",Código em Conformidade,"```java
public static String fromDecimalToHex(int decimal) {
    return Integer.toHexString(decimal);
}
```"
Java,parse query string in url,"    private Object parseURL(URL url, Map params, String charset) {
            return parse(new StringReader( HTTP.getJSONWithParams ( url.toString (), null, params )));
    }",Código em Conformidade,"```java
private Object parseURL(URL url, Map params, String charset) {
    return parse(new StringReader(HTTP.getJSONWithParams(url.toString(), charset, params)));
}
```"
Java,how to determine a string is a valid word,"    private static int wordsWithThreeSyllables(String strText) {
        int intLongWordCount = 0;
        
        List<String> arrWords = (new WhitespaceTokenizer()).tokenize(strText);
        int intWordCount = arrWords.size();
        for (int i = 0; i < intWordCount; ++i) {
            if(syllableCount(arrWords.get(i)) > 2) {
                ++intLongWordCount; //it also counts the proper nouns which should be excluded for Fog index, but this is not a major issue
            }
        }
        
        return intLongWordCount;
    }",Código em Conformidade,"```java
    private static int syllableCount(String word) {
        int count = 0;
        boolean isNewSyllable = true;
        String vowels = ""aeiouy"";

        for (int i = 0; i < word.length(); i++) {
            if (vowels.indexOf(Character.toLowerCase(word.charAt(i))) >= 0) {
                if (isNewSyllable) {
                    count++;
                    isNewSyllable = false;
                }
            } else {
                isNewSyllable = true;
            }
        }

        char lastChar = word.charAt(word.length()-1);
        if (word.length() > 2 && lastChar == 'e') {
            if (vowels.indexOf(Character.toLowerCase(word.charAt(word.length()-2))) < 0) {
                count--;
            }
        }

        return count;
    }
    
    private static int wordsWithThreeSyllables(String strText) {
        int intLongWordCount = 0;
        
        List<String> arrWords = (new WhitespaceTokenizer()).tokenize(strText);
        int intWordCount = arrWords.size();
        for (int i = 0; i < intWordCount; ++i) {
            if(syllableCount(arrWords.get(i)) > 2) {
                ++intLongWordCount; 
            }
        }
        
        return intLongWordCount;
    }
```"
Java,json to xml conversion,"	public Map<String, List<ConversionMethod>> conversionsLoad(){
		Map<String, List<ConversionMethod>> map = new HashMap<String, List<ConversionMethod>>();
		
		try{	// if xml mapping file isn't empty
				if(!isEmpty(xmlJmapper.classes))
					for (XmlClass xmlClass : xmlJmapper.classes) {
					   List<ConversionMethod> conversions = new ArrayList<ConversionMethod>();
					   if(!isEmpty(xmlClass.conversions))
						 for (XmlConversion xmlConversion : xmlClass.conversions)
							 try{	 conversions.add(Converter.toConversionMethod(xmlConversion));
							 }catch (XmlConversionNameException e) {
								 Error.xmlConversionNameUndefined(this.xmlPath,xmlClass.name);
							 }catch (XmlConversionTypeException e) {
								 Error.xmlConversionTypeIncorrect(xmlConversion.name,this.xmlPath,xmlClass.name,xmlConversion.type);
							 }catch (XmlConversionParameterException e) {
								 Error.improperUseOfTheParameter(xmlConversion.name,this.xmlPath,xmlClass.name);
							 }
					   // enrich map only if for this class there are conversions
					   if(!conversions.isEmpty())
						   map.put(xmlClass.name, conversions);
					}
		}catch (Exception e) {JmapperLog.error(e);}
		return map;
	}",Código em Conformidade,"```java
public Map<String, List<ConversionMethod>> conversionsLoad() throws Exception {
    Map<String, List<ConversionMethod>> map = new HashMap<String, List<ConversionMethod>>();

    try {
        if(!isEmpty(xmlJmapper.classes))
            for (XmlClass xmlClass : xmlJmapper.classes) {
                List<ConversionMethod> conversions = new ArrayList<ConversionMethod>();
                if(!isEmpty(xmlClass.conversions))
                    for (XmlConversion xmlConversion : xmlClass.conversions) {
                        try {
                            conversions.add(Converter.toConversionMethod(xmlConversion));
                        } catch (XmlConversionNameException e) {
                            Error.xmlConversionNameUndefined(this.xmlPath,xmlClass.name);
                            throw e;
                        } catch (XmlConversionTypeException e) {
                            Error.xmlConversionTypeIncorrect(xmlConversion.name,this.xmlPath,xmlClass.name,xmlConversion.type);
                            throw e;
                        } catch (XmlConversionParameterException e) {
                            Error.improperUseOfTheParameter(xmlConversion.name,this.xmlPath,xmlClass.name);
                            throw e;
                        }
                    }
                if(!conversions.isEmpty())
                    map.put(xmlClass.name, conversions);
            }
    } catch (Exception e) {
        JmapperLog.error(e);
        throw e;
    }
    return map;
}
```"
Java,sending binary data over a serial connection,"    @Override
    public ChannelFuture goAway(ChannelHandlerContext ctx, int lastStreamId, long errorCode, ByteBuf debugData,
                                ChannelPromise promise) {
        if (!ctx.channel().isActive()) {
            // There's no point of sending a GOAWAY frame because the connection is over already.
            promise.unvoid().trySuccess();
            debugData.release();
            return promise;
        }

        return super.goAway(ctx, lastStreamId, errorCode, debugData, promise);
    }",Bug Crítico,"```java
@Override
public ChannelFuture goAway(ChannelHandlerContext ctx, int lastStreamId, long errorCode, ByteBuf debugData,
                            ChannelPromise promise) {
    try {
        if (!ctx.channel().isActive()) {
            promise.unvoid().trySuccess();
            debugData.release();
            return promise;
        }
        return super.goAway(ctx, lastStreamId, errorCode, debugData, promise);
    } catch (Exception e) {
        e.printStackTrace();
        return null;
    }
}
```"
Java,reading element from html - <td>,"    private String getHtmlForPDFConversion() throws IOException {
        StringBuilder oldContent = new StringBuilder();

        FileReader fr = new FileReader(file);
        try (BufferedReader reader = new BufferedReader(fr)) {
            String line;
            while ((line = reader.readLine()) != null) {
                oldContent.append(line);
                oldContent.append(""\r\n"");
            }
        }

        // replace all non convertible elements with empty text or modify for conversion
        String str = oldContent.toString()
                .replaceAll(""<script type='text/javascript'>(?s).*</script>"", """")
                .replaceAll(""<tr>\\s*<th>View Results</th>(?s).*?</tr>"", """")
                .replaceAll(""&nbsp;"", "" "");

        String imagePattern = ""(<img(?s).*? src='(.*?)'(?s).*?)</img>"";
        Pattern r = Pattern.compile(imagePattern);
        Matcher m = r.matcher(str);
        int imageCount = 0;
        while (m.find()) {
            str = str.replaceFirst(""<a href='javascript:void\\(0\\)'(?s).*?(<img(?s).*? src='(.*?)'(?s).*?)"" +
                            "" style(?s).*?</img>"",
                    ""<a href=\""#image-"" + imageCount + ""\"">View Screenshot</a>"");
            str = str.replaceFirst(""</body>"", ""<p style='page-break-before: always' id='image-"" + imageCount++ + ""'></p"" +
                    "">"" +
                    m.group().replaceAll(""width='300px' style(?s).*?'>"", ""height='600px' width='1000px'>"") + ""</body>"");
        }
        return str;
    }",Bug Crítico,"```java
private String getHtmlForPDFConversion() throws IOException {
    StringBuilder oldContent = new StringBuilder();

    FileReader fr = new FileReader(file);
    try (BufferedReader reader = new BufferedReader(fr)) {
        String line;
        while ((line = reader.readLine()) != null) {
            oldContent.append(line);
            oldContent.append(System.lineSeparator());
        }
    }

    String str = oldContent.toString()
            .replaceAll(""<script type='text/javascript'>(?s).*?</script>"", """")
            .replaceAll(""<tr>\\s*<th>View Results</th>(?s).*?</tr>"", """")
            .replaceAll(""&nbsp;"", "" "");

    String imagePattern = ""<img(?s).*? src='(.*?)'(?s).*?</img>"";
    Pattern r = Pattern.compile(imagePattern);
    Matcher m = r.matcher(str);
    int imageCount = 0;
    while (m.find()) {
        str = str.replaceFirst(""<a href='javascript:void\\(0\\)'(?s).*?(<img(?s).*? src='(.*?)'(?s).*?)"" +
                        "" style(?s).*?</img>"",
                ""<a href=\""#image-"" + imageCount + ""\"">View Screenshot</a>"");
        str = str.replaceFirst(""</body>"", ""<p style='page-break-before: always' id='image-"" + imageCount++ + ""'></p"" +
                "">"" +
                m.group(1).replaceAll(""width='300px' style(?s).*?'>"", ""height='600px' width='1000px'>"") + ""</body>"");
    }
    return str;
}
```"
Java,all permutations of a list,"    public List<Permutation> all() {
        final List<Permutation> permutations = new ArrayList<Permutation>();
        Backtracker counter = new Backtracker() {

            @Override
            public void applyTo(Permutation p) {
                permutations.add(p);
            }

            @Override
            public boolean isFinished() {
                return false;
            }
        };
        this.apply(counter);
        return permutations;
    }",Código em Conformidade,"```java
import java.util.ArrayList;
import java.util.List;

public class Permutations {
    public List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> list = new ArrayList<>();
        backtrack(list, new ArrayList<>(), nums);
        return list;
    }

    private void backtrack(List<List<Integer>> list, List<Integer> tempList, int[] nums) {
        if (tempList.size() == nums.length) {
            list.add(new ArrayList<>(tempList));
        } else {
            for (int i = 0; i < nums.length; i++) { 
                if (tempList.contains(nums[i])) continue; 
                tempList.add(nums[i]);
                backtrack(list, tempList, nums);
                tempList.remove(tempList.size() - 1);
            }
        }
    }
}
```"
Java,map to json,"    private Map<String, Object> toMap(JSONObject o) {
        Map<String, Object> map = new LinkedHashMap<>();
        // https://github.com/jwtk/jjwt/issues/380: use .keys() and *not* .keySet() for Android compatibility:
        Iterator<String> iterator = o.keys();
        while (iterator.hasNext()) {
            String key = iterator.next();
            Object value = o.get(key);
            value = convertIfNecessary(value);
            map.put(key, value);
        }
        return map;
    }",Código em Conformidade,"private Map<String, Object> toMap(JSONObject o) {
    Map<String, Object> map = new LinkedHashMap<>();
    Iterator<String> iterator = o.keys();
    while (iterator.hasNext()) {
        String key = iterator.next();
        Object value = o.get(key);
        value = convertIfNecessary(value);
        map.put(key, value);
    }
    return map;
}"
Java,get executable path,"    protected String getJavaExecutablePath() {
        String executableName = isWindows() ? ""bin/java.exe"" : ""bin/java"";
        return PROPERTIES.getJavaHome().resolve(executableName).toAbsolutePath().toString();
    }",Vulnerabilidade (Injeção de Comandos - OWASP),"```java
protected String getJavaExecutablePath() throws IOException {
    String executableName = isWindows() ? ""bin/java.exe"" : ""bin/java"";
    Path javaHomePath = PROPERTIES.getJavaHome();
    if (javaHomePath == null) {
        throw new IOException(""Java home not set in properties"");
    }
    Path executablePath = javaHomePath.resolve(executableName);
    if (!Files.exists(executablePath)) {
        throw new IOException(""Executable does not exist: "" + executablePath);
    }
    return executablePath.toAbsolutePath().toString();
}
```"
Java,copy to clipboard,"	private void handleContextMenu(JTree tree, int x, int y) {
		TreePath path = tree.getPathForLocation(x, y);
		tree.setSelectionPath(path);
		DefaultMutableTreeNode node = (DefaultMutableTreeNode) tree.getLastSelectedPathComponent();

		if (node == null)
			return;
		if (!node.isLeaf()) {
			tree.setSelectionPath(null);
			return;
		}
		final AppInfo info = (AppInfo) node.getUserObject();

		JMenuItem copyname = new JMenuItem(""Copy Name"");
		copyname.addActionListener(e -> {
			Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
			clipboard.setContents(new StringSelection(info.app.getSimpleName()), null);
		});

		JMenuItem copypath = new JMenuItem(""Copy Path"");
		copypath.addActionListener(e -> {
			String path1 = UtilIO.getSourcePath(info.app.getPackage().getName(), info.app.getSimpleName());
			Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
			clipboard.setContents(new StringSelection(path1), null);
		});

		JMenuItem github = new JMenuItem(""Go to Github"");
		github.addActionListener(e -> openInGitHub(info));

		JPopupMenu submenu = new JPopupMenu();
		submenu.add(copyname);
		submenu.add(copypath);
		submenu.add(github);
		submenu.show(tree, x, y);
	}",Código em Conformidade,
Java,sorting multiple arrays based on another arrays sorted order,"	private void loadSortKeys() {
		// cache sort key so we won't reload it each time
		if(sortKeys != null) return;
		if(orders == null || orders.length == 0) return;
		sortKeys = new ArrayList<List<BSTR>>(orders.length);
		for(SortOrder order: orders) {
			Set<BSTR> sortValues = new HashSet<BSTR>();
			loadSortKey(order.items, 0, sortValues);
			List<BSTR> sortArray = new ArrayList<BSTR>(sortValues);
			Collections.sort(sortArray);
			sortKeys.add(sortArray);
		}
	}",Código em Conformidade,"```java
private void loadSortKeys() {
    if(sortKeys != null) return;
    if(orders == null || orders.length == 0) return;
    sortKeys = new ArrayList<List<BSTR>>(orders.length);
    for(SortOrder order: orders) {
        List<BSTR> sortValues = new ArrayList<BSTR>();
        loadSortKey(order.items, 0, sortValues);
        sortValues.sort(Comparator.naturalOrder());
        sortKeys.add(sortValues);
    }
}
```"
Java,convert a date string into yyyymmdd,"    public static String stringToString(String dateString, String desfmt) {
        // ISO_DATE_FORMAT = ""yyyyMMdd"";
        if (dateString.trim().length() == 8) {
            return stringToString(dateString, ISO_DATE_FORMAT, desfmt);
        } else if (dateString.trim().length() == 10) {
            // ISO_EXPANDED_DATE_FORMAT = ""yyyy-MM-dd"";
            return stringToString(dateString, ISO_EXPANDED_DATE_FORMAT, desfmt);
        } else if (dateString.trim().length() == 19) {
            // DATETIME_PATTERN = ""yyyy-MM-dd hh:mm:ss"";
            return stringToString(dateString.substring(0, 10),
                    ISO_EXPANDED_DATE_FORMAT, desfmt);
        } else if (dateString.trim().length() == 11) {
            // CHINESE_EXPANDED_DATE_FORMAT = ""yyyy年MM月dd日"";
            return stringToString(dateString, CHINESE_EXPANDED_DATE_FORMAT,
                    desfmt);
        }
        return null;
    }",Código em Conformidade,"```java
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class Main {
    public static String convertDateString(String dateString, String desfmt) {
        String ISO_DATE_FORMAT = ""yyyyMMdd"";
        String ISO_EXPANDED_DATE_FORMAT = ""yyyy-MM-dd"";
        String DATETIME_PATTERN = ""yyyy-MM-dd hh:mm:ss"";
        String CHINESE_EXPANDED_DATE_FORMAT = ""yyyy年MM月dd日"";

        String srcfmt = """";

        if (dateString.trim().length() == 8) {
            srcfmt = ISO_DATE_FORMAT;
        } else if (dateString.trim().length() == 10) {
            srcfmt = ISO_EXPANDED_DATE_FORMAT;
        } else if (dateString.trim().length() == 19) {
            srcfmt = DATETIME_PATTERN;
            dateString = dateString.substring(0, 10);
        } else if (dateString.trim().length() == 11) {
            srcfmt = CHINESE_EXPANDED_DATE_FORMAT;
        } else {
            return null;
        }

        return stringToString(dateString, srcfmt, desfmt);
    }

    public static String stringToString(String dateString, String srcfmt, String desfmt) {
        SimpleDateFormat srcFormat = new SimpleDateFormat(srcfmt);
        SimpleDateFormat desFormat = new SimpleDateFormat(desfmt);

        Date date = null;
        try {
            date = srcFormat.parse(dateString);
        } catch (ParseException e) {
            e.printStackTrace();
        }

        if (date != null)
            return desFormat.format(date);
        else
            return null;
    }
}
```"
Java,string to date,"    public static String dateToStr(Date dateDate) {
        String dateString = FORMATTER_SHORT.format(dateDate);
        return dateString;
    }",Código em Conformidade,"```java
public static Date strToDate(String dateString) {
    Date date = null;
    try {
        date = FORMATTER_SHORT.parse(dateString);
    } catch (ParseException e) {
        e.printStackTrace();
    }
    return date;
}
```"
Java,parse command line argument,"    private void parseCommandLineArgs(String[] args) throws ConfigurationException {
        if (args == null || args.length == 0) {
            return;
        }
        logger.info(""Parsing command line arguments"");
        m_commandLineArgs = args;
        
        try {
            for (int inx = 0; inx < args.length; inx++) {
                String arg = args[inx];
                if (arg.equals(""-?"") || arg.equalsIgnoreCase(""-h"") || arg.equalsIgnoreCase(""-help"")) {
                    System.out.println(""See documentation and doradus.yaml for help."");
                    System.exit(0);
                }
                Utils.require(arg.charAt(0) == '-', ""Unrecognized argument: %s"", arg);
                Utils.require(inx + 1 < args.length, ""A value is expected after: %s"", arg);
                String name = arg.substring(1);
                String value = args[++inx];
                setCommandLineParam(name, value);
            }
        } catch (Exception e) {
            logger.error(""Failed to parse command line arguments"", e);
            throw new ConfigurationException(""Failed to parse command line arguments"", e);
        }
    }",Código com Débito Técnico,"```java
private void parseCommandLineArgs(String[] args) throws ConfigurationException {
    if (args == null || args.length == 0) {
        return;
    }
    logger.info(""Parsing command line arguments"");
    m_commandLineArgs = args;

    try {
        for (int i = 0; i < args.length; i++) {
            String arg = args[i];
            if (arg.equals(""-?"") || arg.equalsIgnoreCase(""-h"") || arg.equalsIgnoreCase(""-help"")) {
                System.out.println(""See documentation and doradus.yaml for help."");
                return;
            }
            Utils.require(arg.startsWith(""-""), ""Unrecognized argument: %s"", arg);
            if (i + 1 >= args.length) {
                throw new ConfigurationException(""A value is expected after: "" + arg);
            }
            String name = arg.substring(1);
            String value = args[++i];
            setCommandLineParam(name, value);
        }
    } catch (Exception e) {
        logger.error(""Failed to parse command line arguments"", e);
        throw new ConfigurationException(""Failed to parse command line arguments"", e);
    }
}
```"
Java,get inner html,"    private String getHtmlExample() {
        final StringBuilder html = new StringBuilder();
        html.append(""<!DOCTYPE html>\n"");
        html.append(""<html xmlns=\""http://www.w3.org/1999/xhtml\""\n"");
        html.append(""      xmlns:h=\""http://xmlns.jcp.org/jsf/html\""\n"");
        html.append(""      xmlns:b=\""http://butterfaces.org/components\"">\n"");
        html.append(""<h:head />\n"");
        html.append(""<body>\n"");
        html.append(""   <form>\n"");
        html.append(""      Hello World!\n"");
        html.append(""   </form>\n"");
        html.append(""</body>\n"");
        html.append(""</html>"");

        return html.toString();
    }",Código em Conformidade,"```java
private String getHtmlExample() {
    final StringBuilder html = new StringBuilder();
    html.append(""<!DOCTYPE html>\n"");
    html.append(""<html xmlns=\""http://www.w3.org/1999/xhtml\""\n"");
    html.append(""      xmlns:h=\""http://xmlns.jcp.org/jsf/html\""\n"");
    html.append(""      xmlns:b=\""http://butterfaces.org/components\"">\n"");
    html.append(""<h:head>\n"");
    html.append(""<title>Exemplo</title>\n"");
    html.append(""</h:head>\n"");
    html.append(""<body>\n"");
    html.append(""   <form>\n"");
    html.append(""      Hello World!\n"");
    html.append(""   </form>\n"");
    html.append(""</body>\n"");
    html.append(""</html>"");

    return html.toString();
}
```"
Java,scatter plot,"	public void scatterPlot(Matrix matrix, String... format) throws Exception {
		matrix.exportTo().file(matrixFile).asDenseCSV();
		execute(getPlotCommand(matrix, false, false));
	}",Vulnerabilidade (Injeção de Comandos - OWASP),"```java
public void scatterPlot(Matrix matrix, String... format) throws Exception {
	matrix.exportTo().file(matrixFile).asDenseCSV();
	
	for (String f : format) {
		if (!isValidFormat(f)) {
			throw new IllegalArgumentException(""Formato de scatter plot inválido: "" + f);
		}
	}
	
	execute(getPlotCommand(matrix, false, false));
}

private boolean isValidFormat(String format) {
	String[] validFormats = {""format1"", ""format2"", ""format3""}; 
	
	for (String validFormat : validFormats) {
		if (validFormat.equals(format)) {
			return true;
		}
	}
	
	return false;
}
```"
Java,replace in file,,Código em Conformidade,
Java,group by count,"    public List<WorkflowStatusCount> findWorklowStatusCount(){
        String select = ""SELECT workflow_name, status, count(1) as count "";
        String where = "" WHERE cluster_name = :clusterName "";
        String group = "" GROUP BY workflow_name, status "";
        String sql = """"
                + select + ""FROM "" + getTableName( true ) + where + group
                + ""UNION ALL ""
                + select + ""FROM "" + getTableName( false ) + where + group;
        AdvancedParameterSource source = new AdvancedParameterSource()
                .addValue( ""clusterName"", config.getClusterName() );
        return getNamedParameterJdbcTemplate().query( sql, source, WorkflowStatusCountRowMapper.INSTANCE );
    }",Código em Conformidade,"```java
public List<WorkflowStatusCount> findWorkflowStatusCount(){
    String tableName1 = getTableName(true);
    String tableName2 = getTableName(false);
    String clusterName = config.getClusterName();
    String sql = createSqlStatement(tableName1, clusterName).concat("" UNION ALL "").concat(createSqlStatement(tableName2, clusterName));
    AdvancedParameterSource source = new AdvancedParameterSource().addValue(""clusterName"", clusterName);
    return getNamedParameterJdbcTemplate().query(sql, source, WorkflowStatusCountRowMapper.INSTANCE);
}

private String createSqlStatement(String tableName, String clusterName) {
    return new StringBuilder()
            .append(""SELECT workflow_name, status, count(1) as count "")
            .append(""FROM "")
            .append(tableName)
            .append("" WHERE cluster_name = :clusterName "")
            .append("" GROUP BY workflow_name, status"")
            .toString();
}
```"
Java,get name of enumerated value,"    public static String getEnumName(Enum[] e, int value) {
        if (e != null) {
            int toCompareValue;
            for (Enum en : e) {
                if (en instanceof EnumReadable) {
                    toCompareValue = ((EnumReadable) en).value();
                } else {
                    toCompareValue = en.ordinal();
                }
                if (value == toCompareValue) {
                    return en.name();
                }
            }
        }
        return """";
    }",Código em Conformidade,"```java
public interface EnumReadable {
    int value();
}

public static String getEnumName(EnumReadable[] e, int value) {
    if (e != null) {
        for (EnumReadable en : e) {
            if (en.value() == value) {
                if (en instanceof Enum) {
                    return ((Enum) en).name();
                }
            }
        }
    }
    return """";
}

public class EnumUtils {
    private static final Map<Integer, EnumReadable> ENUM_MAP;

    static {
        Map<Integer, EnumReadable> map = new ConcurrentHashMap<>();
        for (EnumReadable enumReadable : EnumReadable.values()) {
            map.put(enumReadable.value(), enumReadable);
        }
        ENUM_MAP = Collections.unmodifiableMap(map);
    }

    public static EnumReadable getEnumFromValue(int value) {
        return ENUM_MAP.get(value);
    }
}
```"
Java,sort string list,"    public static void sort(List list, Sort... sorts) {
        Sort.sorts(sorts).sort(list);
    }",Código em Conformidade,"```java
import java.util.Collections;
import java.util.List;

public static void sort(List<String> list) {
    Collections.sort(list);
}
```"
Java,regex case insensitive,"    public static boolean matchRegex(String str, String regex) {
        try {
            return str.matches(regex);
        } catch (PatternSyntaxException e) {
            log.error(""regex syntax error : {}"", regex);
            return false;
        }
    }",Código em Conformidade,"```java
public static boolean matchRegex(String str, String regex) {
    try {
        Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);
        Matcher matcher = pattern.matcher(str);
        return matcher.matches();
    } catch (PatternSyntaxException e) {
        log.error(""regex syntax error : {}"", regex);
        return false;
    }
}
```"
Java,connect to sql,"    private Object excuteQuery(String sql, Object[] objects, DBConnect connect, DaoMethod daoMethod) throws SQLException {
        if (daoMethod.isList()) {
            if (daoMethod.isArray()) {
                return SilentGoOrm.queryArrayList(connect, sql, daoMethod.getType(), objects);
            } else {
                return SilentGoOrm.queryList(connect, sql, daoMethod.getType(), objects);
            }
        } else if (daoMethod.isArray()) {
            return SilentGoOrm.queryArray(connect, sql, daoMethod.getType(), objects);
        } else {
            return SilentGoOrm.query(connect, sql, daoMethod.getType(), objects);
        }
    }",Código em Conformidade,"```
private Object executeQuery(String sql, Object[] objects, DBConnect connect, DaoMethod daoMethod) throws SQLException {
    if (daoMethod.isList()) {
        if (daoMethod.isArray()) {
            return SilentGoOrm.queryArrayList(connect, sql, daoMethod.getType(), objects);
        }
        return SilentGoOrm.queryList(connect, sql, daoMethod.getType(), objects);
    }
    
    if (daoMethod.isArray()) {
        return SilentGoOrm.queryArray(connect, sql, daoMethod.getType(), objects);
    }
    
    return SilentGoOrm.query(connect, sql, daoMethod.getType(), objects);
}
```"
Java,convert int to string,"	static Integer toInt(String s) {
		if (s.isEmpty()) return null;
		try {
			return Integer.parseInt(s);
		} catch (NumberFormatException e) {
			logger.warn(s + "" is not an integer"", e);
		}
		return null;
	}",Código em Conformidade,"```java
    static String toString(Integer i) {
        if (i == null) return null;
        return String.valueOf(i);
    }
```"
Java,get the description of a http status code,"    protected RefProperty registerErrorModel(Swagger swagger) {
        String ref = Error.class.getSimpleName();
        if (swagger.getDefinitions() != null && swagger.getDefinitions().containsKey(ref)) {
            // model already registered
            return new RefProperty(ref);
        }

        ModelImpl model = new ModelImpl();
        swagger.addDefinition(ref, model);

        model.setDescription(""an error message"");

        model.addProperty(""statusCode"", new IntegerProperty().readOnly().description(""http status code""));
        model.addProperty(""statusMessage"", new StringProperty().readOnly().description(""description of the http status code""));
        model.addProperty(""requestMethod"", new StringProperty().readOnly().description(""http request method""));
        model.addProperty(""requestUri"", new StringProperty().readOnly().description(""http request path""));
        model.addProperty(""message"", new StringProperty().readOnly().description(""application message""));

        if (settings.isDev()) {
            // in DEV mode the stacktrace is returned in the error message
            model.addProperty(""stacktrace"", new StringProperty().readOnly().description(""application stacktrace""));
        }

        return new RefProperty(ref);
    }",Código em Conformidade,"```java
protected RefProperty registerErrorModel(Swagger swagger) {
    String ref = Error.class.getSimpleName();
    if (swagger.getDefinitions() != null && swagger.getDefinitions().containsKey(ref)) {
        return new RefProperty(ref);
    }

    ModelImpl model = new ModelImpl();
    swagger.addDefinition(ref, model);

    model.setDescription(""an error message"");

    model.addProperty(""statusCode"", new IntegerProperty().readOnly().description(""http status code""));
    model.addProperty(""statusMessage"", new StringProperty().readOnly().description(""description of the http status code""));
    model.addProperty(""requestMethod"", new StringProperty().readOnly().description(""http request method""));
    model.addProperty(""requestUri"", new StringProperty().readOnly().description(""http request path""));
    model.addProperty(""message"", new StringProperty().readOnly().description(""application message""));

    if (settings.isDev()) {
        model.addProperty(""stacktrace"", new StringProperty().readOnly().description(""application stacktrace""));
    }

    return new RefProperty(ref);
}
```"
Java,convert a date string into yyyymmdd,"	private static Date toDate(String dateString) {
		try {
			return new SimpleDateFormat(LOCAL_TREND_DATE_FORMAT).parse(dateString);
		} catch (ParseException e) {
			return null;
		}
	}",Código em Conformidade,"```java
private static String toDate(String dateString) {
    try {
        Date date = new SimpleDateFormat(""yyyy-MM-dd"").parse(dateString);
        return new SimpleDateFormat(""yyyyMMdd"").format(date);
    } catch (ParseException e) {
        return null;
    }
}
```"
Java,how to get current date,,Código em Conformidade,"```java
import java.time.LocalDate;

LocalDate currentDate = LocalDate.now();
System.out.println(currentDate);
```"
Java,encrypt aes ctr mode,"    private byte[] encrypt(byte[] secretKey, String data) throws InvalidKeyException {
        byte[] encryptedData = null;
        try {
            // Encrypt data using the secret key
            Cipher aescf = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
            IvParameterSpec ivspec = new IvParameterSpec(new byte[16]);
            aescf.init(Cipher.ENCRYPT_MODE,
                    new SecretKeySpec(secretKey, ""AES""), ivspec);
            encryptedData = aescf.doFinal(data.getBytes(UTF8));
        } catch (Exception e) {
            LOG.log(Level.SEVERE, ""Exception encrypting data"", e);
        }
        return encryptedData;
    }",Código em Conformidade,"```java
private byte[] encrypt(byte[] secretKey, String data) throws InvalidKeyException {
    byte[] encryptedData = null;
    try {
        Cipher aescf = Cipher.getInstance(""AES/CTR/NoPadding"");
        IvParameterSpec ivspec = new IvParameterSpec(new byte[16]);
        aescf.init(Cipher.ENCRYPT_MODE,
                new SecretKeySpec(secretKey, ""AES""), ivspec);
        encryptedData = aescf.doFinal(data.getBytes(StandardCharsets.UTF_8));
    } catch (Exception e) {
        LOG.log(Level.SEVERE, ""Exception encrypting data"", e);
    }
    return encryptedData;
}
```"
Java,export to excel,"    public void exportObjects2Excel(List<?> data, Class clazz, boolean isWriteHeader,
                                    String sheetName, boolean isXSSF, String targetPath)
            throws Excel4JException, IOException {

        try (FileOutputStream fos = new FileOutputStream(targetPath);
             Workbook workbook = exportExcelNoTemplateHandler(data, clazz, isWriteHeader, sheetName, isXSSF)) {
            workbook.write(fos);
        }
    }",Bug Crítico,"```java
public void exportObjects2Excel(List<?> data, Class clazz, boolean isWriteHeader,
                                String sheetName, boolean isXSSF, String targetPath)
        throws Excel4JException, IOException {
    if(data == null || clazz == null || sheetName == null || targetPath == null) {
        throw new IllegalArgumentException(""Os argumentos não podem ser nulos"");
    }

    try (FileOutputStream fos = new FileOutputStream(targetPath);
         Workbook workbook = exportExcelNoTemplateHandler(data, clazz, isWriteHeader, sheetName, isXSSF)) {
        workbook.write(fos);
    }
}
```"
Java,concatenate several file remove header lines,"    private List<String> fileToLines(File file) throws IOException {
        final List<String> lines = new ArrayList<String>();
        String line;
        final BufferedReader in = new BufferedReader(new FileReader(file));
        while ((line = in.readLine()) != null) {
            lines.add(line);
        }

        return lines;
    }",Código em Conformidade,"```java
private List<String> fileToLines(File file) throws IOException {
    final List<String> lines = new ArrayList<>();
    String line;
    final BufferedReader in = new BufferedReader(new FileReader(file));
    boolean isHeaderLine = true;
    while ((line = in.readLine()) != null) {
        if (isHeaderLine) {
            isHeaderLine = false;
            continue;
        }
        lines.add(line);
    }

    return lines;
}
```"
Java,output to html file,"    public File getOutputHtmlFile() {
        File outFile = new File(
                this.getOutputDirectory() + File.separator + this.getOutputName()
                + ""-"" + this.reportSuffix() + "".html"");
        return outFile;
    }",Código em Conformidade,"```java
public File getOutputHtmlFile() {
    File outFile = new File(
            this.getOutputDirectory() + File.separator + this.getOutputName()
            + ""-"" + this.reportSuffix() + "".html"");
    return outFile;
}
```"
Java,html entities replace,"    private static String removeHtmlMarkup(String html) {
        // replace any amount of white space with newline between through one
        // space
        html = html.replaceAll(""\\s*[\\n]+\\s*"", "" "");
        // remove all valid html tags
        html = html.replaceAll(""<[a-zA-Z]+>"", ""\n"");
        html = html.replaceAll(""</[a-zA-Z]+>"", """");
        // convert some of the entities which are used in current FB
        // messages.xml
        html = html.replaceAll(""&nbsp;"", """");
        html = html.replaceAll(""&lt;"", ""<"");
        html = html.replaceAll(""&gt;"", "">"");
        html = html.replaceAll(""&amp;"", ""&"");
        return html.trim();
    }",Código em Conformidade,"```java
private static String removeHtmlMarkup(String html) {
    html = html.replaceAll(""&nbsp;"", "" "");
    html = html.replaceAll(""&lt;"", ""<"");
    html = html.replaceAll(""&gt;"", "">"");
    html = html.replaceAll(""&amp;"", ""&"");
    html = html.replaceAll(""<br\\s*/?>"", ""\n"");
    html = html.replaceAll(""<p>"", ""\n"");
    html = html.replaceAll(""<[^>]+>"", """");
    return html.trim();
}
```"
Java,how to make the checkbox checked,"	public static CheckBox newCheckBox(final String id, final IModel<Boolean> model)
	{
		final CheckBox checkBox = new CheckBox(id, model);
		checkBox.setOutputMarkupId(true);
		return checkBox;
	}",Código em Conformidade,"```java
public static CheckBox newCheckBox(final String id, final IModel<Boolean> model)
{
    final CheckBox checkBox = new CheckBox(id, new IModel<Boolean>() {
        @Override
        public Boolean getObject() {
            return true;
        }
    });
    checkBox.setOutputMarkupId(true);
    return checkBox;
}
```

```java
public static CheckBox newCheckBox(final String id, final IModel<Boolean> model)
{
    final CheckBox checkBox = new CheckBox(id, new IModel<Boolean>() {
        @Override
        public Boolean getObject() {
            return model.getObject() == null ? true : model.getObject();
        }
    });
    checkBox.setOutputMarkupId(true);
    return checkBox;
}
```"
Java,set working directory,"    public void setWorkingDirectory(String path) {
        if (path != null) {
            File dir = new File(path);
            checkWorkingDir(dir);
            workingDir = dir;
        } else {
            workingDir = null;
        }
    }",Código em Conformidade,"public void setWorkingDirectory(String path) {
    try {
        if (path != null) {
            File dir = new File(path);
            checkWorkingDir(dir);
            workingDir = dir;
        } else {
            workingDir = null;
        }
    } catch (Exception e) {
        System.err.println(""Error setting working directory: "" + e.getMessage());
    }
}"
Java,string to date,"    public static String dateToString(Date d) {
        return d == null ? null : new SimpleDateFormat(DATE_FORMAT).format(d);  // TODO: use an Instant
    }",Código em Conformidade,"```java
import java.time.Instant;
import java.time.format.DateTimeParseException;

public static Instant stringToInstant(String s) {
    try {
        return s == null ? null : Instant.parse(s);
    } catch (DateTimeParseException e) {
        System.err.println(""Invalid format"");
        return null;
    }
}
```"
Java,how to read .csv file in an efficient way?,"   public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException
   {
      orderNumber = in.readInt();

      // read canonical file path
      int size = in.readInt();
      if (size > 0)
      {
         byte[] buf = new byte[size];
         in.readFully(buf);

         File f = new File(new String(buf, ""UTF-8""));
         // validate if exists
         if (PrivilegedFileHelper.exists(f))
         {
            file = f;
         }
         else
         {
            file = null;
         }
      }
      else
      {
         // should not occurs but since we have a way to recover, it should not be
         // an issue
         file = null;
      }
   }",Código em Conformidade,"```
import com.opencsv.CSVReader;
import java.io.FileReader;
import java.io.IOException;

public class ReadCSV {
   public void readCSVFile(String filePath) {
      try {
         CSVReader reader = new CSVReader(new FileReader(filePath));
         String[] line;
         while ((line = reader.readNext()) != null) {
            for (String field : line) {
               System.out.println(field);
            }
         }
         reader.close();
      } catch (IOException e) {
         e.printStackTrace();
      }
   }
}
```

```
<dependency>
    <groupId>com.opencsv</groupId>
    <artifactId>opencsv</artifactId>
    <version>5.0</version>
</dependency>
```

```
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class ReadCSV {
   public void readCSVFile(String filePath) {
      String line = """";
      String cvsSplitBy = "","";

      try (BufferedReader br = new BufferedReader(new FileReader(filePath))) {
         while ((line = br.readLine()) != null) {
            String[] fields = line.split(cvsSplitBy);

            for (String field : fields) {
               System.out.println(field);
            }
         }
      } catch (IOException e) {
         e.printStackTrace();
      }
   }
}
```"
Java,how to determine a string is a valid word,"    private static boolean isValidIp4Word(String word) {
        char c;
        if (word.length() < 1 || word.length() > 3) {
            return false;
        }
        for (int i = 0; i < word.length(); i++) {
            c = word.charAt(i);
            if (!(c >= '0' && c <= '9')) {
                return false;
            }
        }
        return Integer.parseInt(word) <= 255;
    }",Código em Conformidade,"```java
private static boolean isValidIpOctet(String octet) {
    char c;
    if (octet.length() < 1 || octet.length() > 3) {
        return false;
    }
    for (int i = 0; i < octet.length(); i++) {
        c = octet.charAt(i);
        if (!(c >= '0' && c <= '9')) {
            return false;
        }
    }
    return Integer.parseInt(octet) <= 255;
}
```"
Java,how to get current date,"    @Override
    public Date get()
    {
        String current = supplier.get();
        if ( current != null )
        {
            Date newDate = parseDate(current);
            if ( newDate != null )
            {
                return newDate;
            }
        }
        return defaultValue;
    }",Código em Conformidade,"```java
import java.util.Date;
  
public Date getCurrentDate() {
    Date date = new Date();
    return date;
}
```"
Java,get the description of a http status code,"   public static String getStatusDescription(int status)
   {
      String description = """";

      Integer statusKey = new Integer(status);
      if (statusDescriptions.containsKey(statusKey))
      {
         description = statusDescriptions.get(statusKey);
      }

      return String.format(""%s %d %s"", WebDavConst.HTTPVER, status, description);
   }",Código em Conformidade,"```
public static Map<Integer, String> statusDescriptions = new HashMap<>();

public static String getStatusDescription(int status)
{
   String description = """";

   if (statusDescriptions.containsKey(status))
   {
      description = statusDescriptions.get(status);
   }

   return String.format(""%s %d %s"", WebDavConst.HTTPVER, status, description);
}
```"
Java,string similarity levenshtein,"	public int getCoverage1(){
		if ( myResultsSimilarity1 < 0 ) {
			int distance = ca1Length + ca2Length - 2 * getNrEQR();

			int similarity = (ca1Length + ca2Length - distance ) / 2;

			myResultsSimilarity1 = Math.round(similarity /(float) ca1Length * 100);
		}
		return myResultsSimilarity1;
	}",Código em Conformidade,"```java
public int levenshteinDistance(String s1, String s2) {
    int[][] dp = new int[s1.length() + 1][s2.length() + 1];

    for (int i = 0; i <= s1.length(); i++) {
        for (int j = 0; j <= s2.length(); j++) {
            if (i == 0) {
                dp[i][j] = j;
            } 
            else if (j == 0) {
                dp[i][j] = i;
            } 
            else {
                dp[i][j] = min(dp[i - 1][j - 1] 
                 + costOfSubstitution(s1.charAt(i - 1), s2.charAt(j - 1)), 
                  dp[i - 1][j] + 1, 
                  dp[i][j - 1] + 1);
            }
        }
    }

    return dp[s1.length()][s2.length()];
}

public int costOfSubstitution(char a, char b) {
    return a == b ? 0 : 1;
}

public int min(int... numbers) {
    return Arrays.stream(numbers)
      .min().orElse(Integer.MAX_VALUE);
}
```"
Java,linear regression,"    @Override
    public double regress(DataPoint data)
    {
        Vec x = feedForward(data.getNumericalValues());
        
        double val = x.get(0);
        
        val = (val - f.min()-targetBump)/targetMultiplier+targetMin;
        
        return val;
    }",Código em Conformidade,"```java
@Override
public double regress(DataPoint data) {
    Vec x;
    try {
        x = feedForward(data.getNumericalValues());
    } catch (Exception e) {
        e.printStackTrace();
        return Double.NaN;
    }
    
    double val = x.get(0);
    
    try {
        val = (val - f.min() - targetBump) / targetMultiplier + targetMin;
    } catch (Exception e) {
        e.printStackTrace();
        return Double.NaN;
    }
    
    return val;
}
```"
Java,fuzzy match ranking,"    private VariantGraphRanking rankTheGraph(List<List<Match>> phraseMatches, VariantGraph base) {
        // rank the variant graph
        Set<VariantGraph.Vertex> matchedVertices = new HashSet<>();
        for (List<Match> phraseMatch : phraseMatches) {
            matchedVertices.add(phraseMatch.get(0).vertex);
        }
        final VariantGraphRanking ranking = VariantGraphRanking.ofOnlyCertainVertices(base, matchedVertices);
        return ranking;
    }",Código em Conformidade,"```java
private VariantGraphRanking rankTheGraph(List<List<Match>> phraseMatches, VariantGraph base) {
    Set<VariantGraph.Vertex> matchedVertices = new HashSet<>();
    for (List<Match> phraseMatch : phraseMatches) {
        matchedVertices.add(phraseMatch.get(0).vertex);
    }
    final VariantGraphRanking ranking = VariantGraphRanking.ofOnlyCertainVertices(base, matchedVertices);
    return ranking;
}
```"
Java,hash set for counting distinct elements,"    @Override
    public Collator<Map.Entry<Integer, Set<DistinctType>>, Set<DistinctType>> getCollator() {
        return new Collator<Map.Entry<Integer, Set<DistinctType>>, Set<DistinctType>>() {

            @Override
            public Set<DistinctType> collate(Iterable<Map.Entry<Integer, Set<DistinctType>>> values) {
                Set<DistinctType> distinctValues = new HashSet<DistinctType>();
                for (Map.Entry<Integer, Set<DistinctType>> value : values) {
                    distinctValues.addAll(value.getValue());
                }
                return distinctValues;
            }
        };
    }",Bug Crítico,"```java
@Override
public Collator<Map.Entry<Integer, Set<DistinctType>>, Set<DistinctType>> getCollator() {
    return new Collator<Map.Entry<Integer, Set<DistinctType>>, Set<DistinctType>>() {

        @Override
        public Set<DistinctType> collate(Iterable<Map.Entry<Integer, Set<DistinctType>>> values) {
            Set<DistinctType> distinctValues = new HashSet<DistinctType>();
            
            for (Map.Entry<Integer, Set<DistinctType>> value : values) {
                distinctValues.addAll(value.getValue());
            }
            
            return distinctValues;
        }
    };
}
```"
Java,copying a file to a path,"	void copyFile(boolean deletesrc, byte[]src, byte[] dst, CopyOption... options)
        throws IOException
    {
		checkWritable();
        if (Arrays.equals(src, dst))
            return;    // do nothing, src and dst are the same

        beginWrite();
        try {
            ensureOpen();
            org.apache.hadoop.fs.Path eSrc_path = new HadoopPath(this, src).getRawResolvedPath();
            FileStatus eSrc = this.fs.getFileStatus(eSrc_path);
            if (!this.fs.exists(eSrc_path))
                throw new NoSuchFileException(getString(src));
            if (eSrc.isDirectory()) {    // specification says to create dst directory
                createDirectory(dst);
                return;
            }
            boolean hasReplace = false;
            boolean hasCopyAttrs = false;
            for (CopyOption opt : options) {
                if (opt == REPLACE_EXISTING)
                    hasReplace = true;
                else if (opt == COPY_ATTRIBUTES)
                    hasCopyAttrs = true;
            }
            org.apache.hadoop.fs.Path eDst_path = new HadoopPath(this, dst).getRawResolvedPath();
//            FileStatus eDst = this.fs.getFileStatus(eDst_path); //if eDst_path not exist, it will throw an error
    
            if (fs.exists(eDst_path)) {
                if (!hasReplace)
                    throw new FileAlreadyExistsException(getString(dst));

                if(!fs.delete(eDst_path, false)) {
                	throw new AccessDeniedException(""cannot delete hdfs file "" + getString(dst));
                }
            } else {
                //checkParents(dst);
            }
            
            //Simply use FileUtil.copy here. Can we use DistCp for very big files here? zongjie@novelbio.com
            boolean isCanDeleteSourceFile = FileUtil.copy(fs, eSrc_path, fs, eDst_path, deletesrc, fs.getConf());
            if (!isCanDeleteSourceFile) {
            	throw new AccessDeniedException(""cannot delete source file "" + eSrc_path.toString());
            }
            
//            org.apache.hadoop.fs.Path[] srcs = new org.apache.hadoop.fs.Path[] {eSrc_path};
//			this.fs.concat(eDst_path, srcs);
            
            /*
            Entry u = new Entry(eSrc, Entry.COPY);    // copy eSrc entry
            u.name(dst);                              // change name
            if (eSrc.type == Entry.NEW || eSrc.type == Entry.FILECH)
            {
                u.type = eSrc.type;    // make it the same type
                if (!deletesrc) {      // if it's not ""rename"", just take the data
                    if (eSrc.bytes != null)
                        u.bytes = Arrays.copyOf(eSrc.bytes, eSrc.bytes.length);
                    else if (eSrc.file != null) {
                        u.file = getTempPathForEntry(null);
                        Files.copy(eSrc.file, u.file, REPLACE_EXISTING);
                    }
                }
            }
            if (!hasCopyAttrs)
                u.mtime = u.atime= u.ctime = System.currentTimeMillis();
            update(u);
            if (deletesrc)
                updateDelete(eSrc);*/
        } finally {
            endWrite();
        }
    }",Bug Crítico,"```java
void copyFile(boolean deletesrc, byte[]src, byte[] dst, CopyOption... options) throws IOException {
    checkWritable();
    if (Arrays.equals(src, dst))
        return;

    beginWrite();
    try {
        ensureOpen();
        org.apache.hadoop.fs.Path eSrc_path = new HadoopPath(this, src).getRawResolvedPath();
        FileStatus eSrc = this.fs.getFileStatus(eSrc_path);
        if (!this.fs.exists(eSrc_path))
            throw new NoSuchFileException(getString(src));
        if (eSrc.isDirectory()) {
            createDirectory(dst);
            return;
        }
        boolean hasReplace = false;
        boolean hasCopyAttrs = false;
        for (CopyOption opt : options) {
            if (opt == REPLACE_EXISTING)
                hasReplace = true;
            else if (opt == COPY_ATTRIBUTES)
                hasCopyAttrs = true;
        }
        org.apache.hadoop.fs.Path eDst_path = new HadoopPath(this, dst).getRawResolvedPath();
        if (fs.exists(eDst_path)) {
            if (!hasReplace)
                throw new FileAlreadyExistsException(getString(dst));

            if(!fs.delete(eDst_path, false)) {
                throw new AccessDeniedException(""cannot delete hdfs file "" + getString(dst));
            }
        } else {
            checkParents(dst);
        }
        boolean isCanDeleteSourceFile = FileUtil.copy(fs, eSrc_path, fs, eDst_path, deletesrc, fs.getConf());
        if (!isCanDeleteSourceFile) {
            throw new AccessDeniedException(""cannot delete source file "" + eSrc_path.toString());
        }
    } finally {
        endWrite();
    }
}
```"
Java,convert decimal to hex,"	public static String toDecimalString(String inBinaryIpAddress) {
		StringBuilder decimalip = new StringBuilder();
		String[] binary = new String[4];
		
		for (int i = 0, c = 0; i < 32; i = i + 8, c++) {
			binary[c] = inBinaryIpAddress.substring(i, i + 8);
			int octet = Integer.parseInt(binary[c], 2);
			decimalip.append(octet);
			if (c < 3) {
				
				decimalip.append('.');
			}
		}
		return decimalip.toString();
	}",Código em Conformidade,"```java
public static String toHexString(String inDecimalString) {
    String[] decimal = inDecimalString.split(""\\."");
    StringBuilder hexString = new StringBuilder();
    for (String aDecimal : decimal) {
        int octet = Integer.parseInt(aDecimal);
        hexString.append(Integer.toHexString(octet)).append(""."");
    }
    return hexString.toString().substring(0, hexString.length() - 1);
}
```"
Java,get current ip address,"    @Nullable
    public String getIpAddressIdFromIP(@Nonnull String ipAddress, @Nonnull String regionId)throws InternalException, CloudException{
        try{
            Compute gce = getProvider().getGoogleCompute();
            AddressList addressList = gce.addresses().list(getContext().getAccountNumber(), regionId).execute();
            if(addressList != null && addressList.getItems() != null && !addressList.getItems().isEmpty()){
                for(Address address : addressList.getItems()){
                    if(ipAddress.equals(address.getAddress()))return address.getName();
                }
            }
            throw new InternalException(""An address could not be found matching "" + ipAddress + "" in "" + regionId);
	    } catch (IOException ex) {
            logger.error(ex.getMessage());
			if (ex.getClass() == GoogleJsonResponseException.class) {
				GoogleJsonResponseException gjre = (GoogleJsonResponseException)ex;
				throw new GoogleException(CloudErrorType.GENERAL, gjre.getStatusCode(), gjre.getContent(), gjre.getDetails().getMessage());
			} else
				throw new CloudException(""An error occurred finding the specified IPAddress: "" + ex.getMessage());
		}
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,regex case insensitive,"    public CaseInsensitiveRegexHashMap toCaseInsensitiveRegexMultiMap(List<T> entries) {
        CaseInsensitiveRegexHashMap caseInsensitiveRegexHashMap = new CaseInsensitiveRegexHashMap();
        if (entries != null) {
            for (KeyAndValue keyToMultiValue : entries) {
                caseInsensitiveRegexHashMap.put(keyToMultiValue.getName(), keyToMultiValue.getValue());
            }
        }
        return caseInsensitiveRegexHashMap;
    }",Código em Conformidade,"```java
public CaseInsensitiveRegexHashMap toCaseInsensitiveRegexMultiMap(List<T> entries) {
    CaseInsensitiveRegexHashMap caseInsensitiveRegexHashMap = new CaseInsensitiveRegexHashMap();
    if (entries != null) {
        for (KeyAndValue keyToMultiValue : entries) {
            String key = keyToMultiValue.getName().toLowerCase();
            caseInsensitiveRegexHashMap.put(key, keyToMultiValue.getValue());
        }
    }
    return caseInsensitiveRegexHashMap;
}
```"
Java,heatmap from 3d coordinates,"	public static AxisAlignedBoundingBox3D getBoundingBox3D(List<IfcCartesianPoint> points) throws GeometryException {
		AxisAlignedBoundingBox3D box3d = new AxisAlignedBoundingBox3D();
		for (IfcCartesianPoint ifcCartesianPoint : points) {
			EList<Double> coordinates = ifcCartesianPoint.getCoordinates();
			if (coordinates.size() < 2) {
				throw new GeometryException(""Not enough dimensions ("" + coordinates.size() + "") for 3D boundingbox"");
			}
			box3d.process(coordinates);
		}
		return box3d;
	}",Bug Crítico,"public static AxisAlignedBoundingBox3D getBoundingBox3D(List<IfcCartesianPoint> points) throws GeometryException {
		AxisAlignedBoundingBox3D box3d = new AxisAlignedBoundingBox3D();
		for (IfcCartesianPoint ifcCartesianPoint : points) {
			EList<Double> coordinates = ifcCartesianPoint.getCoordinates();
			if (coordinates.size() < 3) {
				throw new GeometryException(""Not enough dimensions ("" + coordinates.size() + "") for 3D boundingbox"");
			}
			box3d.process(coordinates);
		}
		return box3d;
	}"
Java,pretty print json,,Código em Conformidade,"
```python
import json

data = {
    ""nome"": ""John"",
    ""idade"": 30,
    ""cidade"": ""New York""
}

print(json.dumps(data, indent=4))
```"
Java,map to json,"    public void setJsonMap(Map<String, Object> resultMap) {
        String json = gson.toJson(resultMap, Map.class);
        setJsonObject(new JsonParser().parse(json).getAsJsonObject());
    }",Código em Conformidade,"```java
public void setJsonMap(Map<String, Object> resultMap) {
    try {
        String json = new Gson().toJson(resultMap);
        setJsonObject(JsonParser.parseString(json).getAsJsonObject());
    } catch (JsonSyntaxException e) {
        e.printStackTrace();
    }
}
```"
Java,get current process id,"    public Long waitForProcess() throws InterruptedException {
        Long processId = waitProcessIds.peek();
        if (logger.isDebugEnabled()) {
            logger.debug(""## {} get termin id [{}]"", getPipelineId(), processId);
        }
        return processId;
    }",Código em Conformidade,"```java
public Long waitForProcess() throws InterruptedException {
    synchronized(waitProcessIds) {
        Long processId = waitProcessIds.peek();
        if (logger.isDebugEnabled()) {
            logger.debug(""## {} get termin id [{}]"", getPipelineId(), processId);
        }
        return processId;
    }
}
```

```java
public Long getCurrentProcessId() throws InterruptedException {
    synchronized(waitProcessIds) {
        Long processId = waitProcessIds.peek();
        if (logger.isDebugEnabled()) {
            logger.debug(""## {} get termin id [{}]"", getPipelineId(), processId);
        }
        return processId;
    }
}
```

```java
public Long getCurrentProcessId() throws InterruptedException {
    synchronized(waitProcessIds) {
        Long processId = waitProcessIds.peek();
        if (logger.isDebugEnabled()) {
            logger.debug(""## {} get termin id [{}]"", getPipelineId(), processId);
        }
        return processId;
    }
}
```"
Java,linear regression,"    @Override
    public double regress(DataPoint data)
    {
        List<? extends VecPaired<VecPaired<Vec, Integer>, Double>> nearBy = kde.getNearby(data.getNumericalValues());
        if(nearBy.isEmpty())
            return 0;///hmmm... what should be retruned in this case?
        double weightSum = 0;
        double sum = 0;
        
        for(VecPaired<VecPaired<Vec, Integer>, Double> v : nearBy)
        {
            double weight = v.getPair();
            double regressionValue = ( (VecPaired<Vec, Double>) v.getVector().getVector()).getPair();
            weightSum += weight;
            sum += weight*regressionValue;
        }
        
        return sum / weightSum;
    }",Código em Conformidade,"```java
@Override
public double regress(DataPoint data) throws Exception {
    List<? extends VecPaired<VecPaired<Vec, Integer>, Double>> nearBy = kde.getNearby(data.getNumericalValues());
    if(nearBy.isEmpty())
        throw new Exception(""No nearby data available for regression."");

    double weightSum = 0;
    double sum = 0;

    for(VecPaired<VecPaired<Vec, Integer>, Double> v : nearBy) {
        double weight = v.getPair();
        double regressionValue = ( (VecPaired<Vec, Double>) v.getVector().getVector()).getPair();
        weightSum += weight;
        sum += weight*regressionValue;
    }

    return sum / weightSum;
}
```"
Java,httpclient post json,"    public CloseableHttpResponse postJson(String url, String json, Map<String, String> reqHeaders) throws IOException {
        CloseableHttpClient req = getClient();
        CloseableHttpResponse resp = null;
        HttpPost post = new HttpPost(url);
        addHeaders(post, reqHeaders);
        post.setHeader(json, url);
        StringEntity input = new StringEntity(json, ContentType.APPLICATION_JSON);
        post.setEntity(input);
        resp = req.execute(post);
        return resp;
    }",Vulnerabilidade (Injeção de Comandos - OWASP),"```java
public CloseableHttpResponse postJson(String url, String json, Map<String, String> reqHeaders) throws IOException {
    CloseableHttpClient req = getClient();
    CloseableHttpResponse resp = null;
    HttpPost post = new HttpPost(url);
    addHeaders(post, reqHeaders);
    StringEntity input = new StringEntity(json, ContentType.APPLICATION_JSON);
    post.setEntity(input);
    resp = req.execute(post);
    return resp;
}
```"
Java,get executable path,"    public static File getExecutionPath() throws OSException {
        try {
            return new File(OSUtils.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath());
        } catch (URISyntaxException ex) {
            throw new OSException(ex);
        }
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,group by count,"  public void groupsCountByComponentIdAndPermission(DbSession dbSession, List<Long> componentIds, ResultHandler resultHandler) {
    Map<String, Object> parameters = new HashMap<>(2);
    parameters.put(ANYONE_GROUP_PARAMETER, DefaultGroups.ANYONE);

    executeLargeInputsWithoutOutput(
      componentIds,
      partitionedComponentIds -> {
        parameters.put(""componentIds"", partitionedComponentIds);
        mapper(dbSession).groupsCountByProjectIdAndPermission(parameters, resultHandler);
      });
  }",Vulnerabilidade (Injeção de Comandos - OWASP),"```java
public void groupsCountByComponentIdAndPermission(DbSession dbSession, List<Long> componentIds, ResultHandler resultHandler) {
    Map<String, Object> parameters = new HashMap<>(2);
    parameters.put(ANYONE_GROUP_PARAMETER, DefaultGroups.ANYONE);

    executeLargeInputsWithoutOutput(
      sanitizeComponentIds(componentIds),
      partitionedComponentIds -> {
        parameters.put(""componentIds"", sanitizeInput(partitionedComponentIds));
        mapper(dbSession).groupsCountByProjectIdAndPermission(parameters, resultHandler);
      });
}

private List<Long> sanitizeComponentIds(List<Long> componentIds) {
    return componentIds.stream().filter(Objects::nonNull).collect(Collectors.toList());
}

private Object sanitizeInput(Object input) {
    return StringEscapeUtils.escapeSql(input.toString());
}
```"
Java,postgresql connection,,Código em Conformidade,"```python
import psycopg2

try:
    connection = psycopg2.connect(
        user=""seu_usuario"",
        password=""sua_senha"",
        host=""localhost"",
        port=""5432"",
        database=""seu_banco_de_dados""
    )

    cursor = connection.cursor()
    
    cursor.execute(""SELECT VERSION();"")
    record = cursor.fetchone()
    print(""Você está conectado ao - "", record,""\n"")

except (Exception, psycopg2.Error) as error:
    print(""Erro ao conectar ao PostgreSQL"", error)
finally:
    if (connection):
        cursor.close()
        connection.close()
        print(""Conexão PostgreSQL fechada"")
```"
Java,copying a file to a path,"    public void copySingleFile(File asset) {
        try {
            if ( !asset.isDirectory() ) {
                String targetPath = config.getDestinationFolder().getCanonicalPath() + File.separatorChar + assetSubPath(asset);
                LOGGER.info(""Copying single asset file to [{}]"", targetPath);
                copyFile(asset, new File(targetPath));
            } else {
                LOGGER.info(""Skip copying single asset file [{}]. Is a directory."", asset.getPath());
            }
        } catch (IOException io) {
            LOGGER.error(""Failed to copy the asset file."", io);
        }
    }",Código em Conformidade,"```java
private void copySingleFile(File asset) {
    try {
        if (!asset.isDirectory()) {
            Path targetPath = Paths.get(config.getDestinationFolder().getCanonicalPath(), assetSubPath(asset));
            LOGGER.info(""Copying single asset file to [{}]"", targetPath);
            Files.copy(asset.toPath(), targetPath, StandardCopyOption.REPLACE_EXISTING);
        } else {
            LOGGER.info(""Skip copying single asset file [{}]. It's a directory."", asset.getPath());
        }
    } catch (IOException io) {
        LOGGER.error(""Failed to copy the asset file."", io);
    }
}
```"
Java,underline text in label widget,"    @Override
    protected void handlePlainTextLine(final String plainTextLine) {
        final Label label = getLabel();
        final String textToAppend = getParser().parseString(plainTextLine, label);
        if (Strings.isEmpty(label.getText())) {
            // Label is currently empty, so we just set the text as initial value.
            label.setText(textToAppend);
        } else {
            if (LmlUtilities.isMultiline(label)) {
                // Label is multiline. We might want to append an extra new line char.
                label.getText().append('\n');
            }
            label.getText().append(textToAppend);
        }
        label.invalidate();
    }",Código em Conformidade,"```java
@Override
protected void handlePlainTextLine(final String plainTextLine) {
    final Label label = getLabel();
    final String textToAppend = getParser().parseString(plainTextLine, label);
    if (Strings.isEmpty(label.getText())) {
        label.setText(textToAppend);
    } else {
        StringBuilder sb = new StringBuilder(label.getText());
        if (LmlUtilities.isMultiline(label)) {
            sb.append('\n');
        }
        sb.append(textToAppend);
        label.setText(sb.toString());
    }
    label.invalidate();
}
```"
Java,underline text in label widget,"    public Widget asWidget() {
        TextBoxItem name = new TextBoxItem(""name"", ""Name"", true);
        ComboBoxItem baseRole = new ComboBoxItem(""baseRole"", ""Base Role"");
        baseRole.setDefaultToFirstOption(true);
        Collection<String> roleNames = Collections2.transform(StandardRole.values(), StandardRole::getId);
        baseRole.setValueMap(roleNames);

        ComboBoxItem type = new ComboBoxItem(""type"", ""Type"");
        type.setDefaultToFirstOption(true);
        type.setValueMap(new String[]{""Host"", ""Server Group""});

        ListItem scope = new ListItem(""scope"", ""Scope"");
        scope.setRequired(true);
        CheckBoxItem includeAll = new CheckBoxItem(""includeAll"", ""Include All"");

        Form<RoleBean> form = new Form<>(RoleBean.class);
        if (scoped) {
            form.setFields(name, baseRole, type, scope, includeAll);
        } else {
            form.setFields(name, includeAll);
        }
        if (this.existingRole != null) {
            name.setEnabled(false);
            type.setEnabled(false);
            form.edit(modelToBean(existingRole));
        }

        form.addFormValidator((formItems, outcome) -> {
            if (existingRole == null && duplicateNameAndType(beanToModel(form.getUpdatedEntity()))) {
                outcome.addError(""name"");
                name.setErrMessage(""Role already exists"");
                name.setErroneous(true);
            }
        });

        VerticalPanel layout = new VerticalPanel();
        layout.setStyleName(""window-content"");
        layout.add(new HelpPanel().asWidget());
        layout.add(form.asWidget());

        DialogueOptions options = new DialogueOptions(
                event -> {
                    FormValidation validation = form.validate();
                    if (!validation.hasErrors()) {
                        if (existingRole == null) {
                            circuit.dispatch(new AddScopedRole(beanToModel(form.getUpdatedEntity())));
                        } else if (existingRole.isScoped()) {
                            circuit.dispatch(new ModifyScopedRole(beanToModel(form.getUpdatedEntity())));
                        } else {
                            circuit.dispatch(new ModifyStandardRole(beanToModel(form.getUpdatedEntity())));
                        }
                        presenter.closeWindow();
                    }
                },
                event -> presenter.closeWindow()
        );

        return new WindowContentBuilder(layout, options).build();
    }",Código em Conformidade,"```java
name.getElement().getStyle().setTextDecoration(TextDecoration.UNDERLINE);
```

```java
name.addStyleName(""underline-text"");
```

```css
.underline-text {
    text-decoration: underline;
}
```"
Java,buffered file reader read text,"    public static String getText(Reader reader) throws IOException {
        BufferedReader bufferedReader = new BufferedReader(reader);
        return getText(bufferedReader);
    }",Código em Conformidade,"```java
public static String getText(Reader reader) throws IOException {
    BufferedReader bufferedReader = new BufferedReader(reader);
    return getText(bufferedReader);
}

public static String getText(BufferedReader bufferedReader) throws IOException {
    StringBuilder stringBuilder = new StringBuilder();
    String line;
    while ((line = bufferedReader.readLine()) != null) {
        stringBuilder.append(line);
        stringBuilder.append(""\n"");
    }
    return stringBuilder.toString();
}
```"
Java,finding time elapsed using a timer,"	public long getElapsedHours() {
		long elapsed;
		if (running) {
			elapsed = (System.nanoTime() - startTime);
		} else {
			elapsed = (stopTime - startTime);
		}
		return elapsed / nsPerHh;
	}",Código em Conformidade,"```java
public long getElapsedHours() {
	long elapsed;
	if (running) {
		elapsed = (System.nanoTime() - startTime);
	} else {
		elapsed = (stopTime - startTime);
	}
	return elapsed / 3_600_000_000_000L; 
}
```"
Java,aes encryption,"    private byte[] doEncryptionOrDecryption(byte[] crypt, Key key, int mode) {
        Cipher rsaCipher;
        try {
            rsaCipher = Cipher.getInstance(CIPHER);
        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {
            throw SeedException.wrap(e, CryptoErrorCode.UNABLE_TO_GET_CIPHER)
                    .put(""alias"", alias)
                    .put(""cipher"", CIPHER);
        }
        try {
            rsaCipher.init(mode, key);
        } catch (InvalidKeyException e) {
            throw SeedException.wrap(e, CryptoErrorCode.INVALID_KEY)
                    .put(""alias"", alias);
        }
        try {
            return rsaCipher.doFinal(crypt);
        } catch (IllegalBlockSizeException | BadPaddingException e) {
            throw SeedException.wrap(e, CryptoErrorCode.UNEXPECTED_EXCEPTION);
        }
    }",Código em Conformidade,"private byte[] doEncryptionOrDecryption(byte[] crypt, Key key, int mode) {
    Cipher rsaCipher;
    try {
        rsaCipher = Cipher.getInstance(CIPHER);
    } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {
        throw SeedException.wrap(e, CryptoErrorCode.UNABLE_TO_GET_CIPHER)
                .put(""alias"", alias)
                .put(""cipher"", CIPHER);
    }
    try {
        rsaCipher.init(mode, key);
    } catch (InvalidKeyException e) {
        throw SeedException.wrap(e, CryptoErrorCode.INVALID_KEY)
                .put(""alias"", alias);
    }
    try {
        return rsaCipher.doFinal(crypt);
    } catch (IllegalBlockSizeException | BadPaddingException e) {
        throw SeedException.wrap(e, CryptoErrorCode.UNEXPECTED_EXCEPTION);
    }
    return null;
}"
Java,group by count,"  public Map<String, Integer> countUsersByGroups(DbSession session, Collection<Integer> groupIds) {
    Map<String, Integer> result = Maps.newHashMap();
    executeLargeInputs(
      groupIds,
      input -> {
        List<GroupUserCount> userCounts = mapper(session).countUsersByGroup(input);
        for (GroupUserCount count : userCounts) {
          result.put(count.groupName(), count.userCount());
        }
        return userCounts;
      });

    return result;
  }",Vulnerabilidade (Injeção de Comandos - OWASP),"```java
public List<GroupUserCount> countUsersByGroup(Collection<Integer> groupIds) {
  String query = ""SELECT groupName, COUNT(*) as userCount FROM Users WHERE groupId IN (?) GROUP BY groupName"";
  PreparedStatement pstmt = connection.prepareStatement(query);

  String groupIdsStr = groupIds.stream().map(String::valueOf).collect(Collectors.joining("",""));
  pstmt.setString(1, groupIdsStr);
  
  ResultSet rs = pstmt.executeQuery();

  List<GroupUserCount> result = new ArrayList<>();
  while(rs.next()) {
    GroupUserCount count = new GroupUserCount();
    count.setGroupName(rs.getString(""groupName""));
    count.setUserCount(rs.getInt(""userCount""));
    result.add(count);
  }
  
  return result;
}
```"
Java,custom http error response,"    private void sendError(ChannelHandlerContext ctx, HttpResponseStatus status) {
        FullHttpResponse response = new DefaultFullHttpResponse(
                HTTP_1_1, status, Unpooled.copiedBuffer(""Failure: "" + status + ""\r\n"", CharsetUtil.UTF_8));
        response.headers().set(HttpHeaderNames.CONTENT_TYPE, ""text/plain; charset=UTF-8"");

        this.sendAndCleanupConnection(ctx, response);
    }",Código em Conformidade,"Como assistente, sinto muito, mas você não forneceu nenhum código para eu remover comentários. Por favor, forneça o código Java com os comentários que você gostaria que eu removesse."
Java,get name of enumerated value,"    public static <T extends Enum> List<String> getAllEnumNames(Class<T> enumValue) {
        return LinqUtils.select(getAllEnumValuesAsArray(enumValue), EnumUtils::getEnumValue);
    }",Código em Conformidade,"```java
public static <T extends Enum<T>> List<String> getAllEnumNames(Class<T> enumClass) {
    return Arrays.stream(enumClass.getEnumConstants())
                 .map(Enum::name)
                 .collect(Collectors.toList());
}
```"
Java,buffered file reader read text,"    private static String readTextFile(BufferedReader reader) {
        StringBuilder text = new StringBuilder();

        try {
            char[] buffer = new char[8192]; // default BufferedReader size
            int read;
            while ((read = reader.read(buffer)) >= 0) {
                if (read > 0) {
                    text.append(buffer, 0, read);
                }
            }
        } catch (IOException e) {
            e.printStackTrace();
            return null;
        } finally {
            try {
                reader.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }

        return text.toString();
    }",Código em Conformidade,"```java
private static String readTextFile(BufferedReader reader) {
    StringBuilder text = new StringBuilder();

    try (reader) {
        char[] buffer = new char[8192];
        int read;
        while ((read = reader.read(buffer)) >= 0) {
            if (read > 0) {
                text.append(buffer, 0, read);
            }
        }
    } catch (IOException e) {
        e.printStackTrace();
        return null;
    }

    return text.toString();
}
```"
Java,how to reverse a string,"  public static String reverse(final String string) {

    return isEmpty(string) ? string : new StringBuilder(string).reverse().toString();
  }",Código em Conformidade,"```java
public static String reverse(final String string) {
    return string.isEmpty() ? string : new StringBuilder(string).reverse().toString();
}
```"
Java,memoize to disk  - persistent memoization,"    private <T, R> Function<T, R> memoize(final Function<T, R> fn) {

        if (!autoMemoize)
            return fn;
        if (memoizeFactory == null)
            return Memoize.memoizeFunction(fn);
        return Memoize.memoizeFunction(fn, memoizeFactory);
    }",Código em Conformidade,
Java,convert decimal to hex,,Código em Conformidade,"```java
public class Main {
    public static void main(String[] args) {
        System.out.println(decToHex(255));
    }

    public static String decToHex(int decimalNumber) {
        return Integer.toHexString(decimalNumber);
    }
}
```"
Java,html encode string,"    public static String htmlDecode(final String encodedHtml) {
        validate(encodedHtml, NULL_STRING_PREDICATE, NULL_STRING_MSG_SUPPLIER);
        String[] entities = encodedHtml.split(""&\\W+;"");
        return Arrays.stream(entities).map(e -> HtmlEntities.decodedEntities.get(e)).collect(joining());
    }",Código em Conformidade,"```java
import org.apache.commons.lang3.StringEscapeUtils;

public static String htmlEncode(final String rawHtml) {
    validate(rawHtml, NULL_STRING_PREDICATE, NULL_STRING_MSG_SUPPLIER);
    return StringEscapeUtils.escapeHtml4(rawHtml);
}
```"
Java,map to json,"    @Json
    public Map<Integer, String> map() {
        Map<Integer, String> map = new HashMap<Integer, String>();
        map.put(1, ""Java"");
        map.put(2, ""Struts2"");
        map.put(3, ""Gson"");
        map.put(4, ""Plugin"");
        return map;
    }",Código em Conformidade,"```java
import com.google.gson.Gson;

public Map<Integer, String> map() {
    Map<Integer, String> map = new HashMap<Integer, String>();
    map.put(1, ""Java"");
    map.put(2, ""Struts2"");
    map.put(3, ""Gson"");
    map.put(4, ""Plugin"");
    
    Gson gson = new Gson();
    String json = gson.toJson(map);
    
    return json;
}
```
```java
import com.fasterxml.jackson.annotation.JsonProperty;

public class MyPojo {
    @JsonProperty
    private Map<Integer, String> map;

    public MyPojo() {
        map = new HashMap<>();
        map.put(1, ""Java"");
        map.put(2, ""Struts2"");
        map.put(3, ""Gson"");
        map.put(4, ""Plugin"");
    }

    // getters and setters
}
```"
Java,all permutations of a list,"	private void solve() {
		initialize();
		int n = subunits.getSubunitCount();
		PermutationGenerator g = new PermutationGenerator(n);

		// loop over all permutations
		while (g.hasMore()) {
			int[] perm = g.getNext();
			List<Integer> permutation = new ArrayList<Integer>(perm.length);
			for (int j = 0; j < n; j++) {
				permutation.add(perm[j]);
			}

			if (! isValidPermutation(permutation)) {
				continue;
			}

			boolean newPermutation = evaluatePermutation(permutation);
			if (newPermutation) {
				completeRotationGroup();
			}

			if (rotations.getOrder() >= subunits.getSubunitCount()) {
				return;
			}
		}
	}",Código em Conformidade,"Parece que você não forneceu nenhum código para que eu pudesse remover os comentários. Por favor, forneça o código Java que contém os comentários em português que você gostaria que eu removesse."
Java,regex case insensitive,"    private static boolean matchRuleRegex(String regex, String value) {

        if (value == null) {
            value = """";
        }

        if (regex == null) {
            return true;
        }
        if ((regex.length() > 0) && (regex.charAt(0) == '!')) {
            return !value.matches(regex.substring(1));
        } else {
            return value.matches(regex);
        }
    }",Código em Conformidade,"```java
import java.util.regex.Pattern;

private static boolean matchRuleRegex(String regex, String value) {
    if (value == null) {
        value = """";
    }

    if (regex == null) {
        return true;
    }
    
    Pattern pattern;
    if ((regex.length() > 0) && (regex.charAt(0) == '!')) {
        pattern = Pattern.compile(regex.substring(1), Pattern.CASE_INSENSITIVE);
        return !pattern.matcher(value).matches();
    } else {
        pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);
        return pattern.matcher(value).matches();
    }
}
```"
Java,how to extract zip file recursively,"  private static String extractFolder(File zipFile) throws ZipException, IOException {
    int BUFFER = 2048;

    ZipFile zip = new ZipFile(zipFile);
    String newPath = getExtractedFolder(zipFile).getAbsolutePath();

    new File(newPath).mkdir();
    Enumeration zipFileEntries = zip.entries();

    // Process each entry
    while (zipFileEntries.hasMoreElements()) {
      // grab a zip file entry
      ZipEntry entry = (ZipEntry) zipFileEntries.nextElement();
      String currentEntry = entry.getName();
      File destFile = new File(newPath, currentEntry);
      //destFile = new File(newPath, destFile.getName());
      File destinationParent = destFile.getParentFile();

      // create the parent directory structure if needed
      destinationParent.mkdirs();

      if (!entry.isDirectory()) {
        BufferedInputStream is = new BufferedInputStream(zip
                                                             .getInputStream(entry));
        int currentByte;
        // establish buffer for writing file
        byte data[] = new byte[BUFFER];

        // write the current file to disk
        FileOutputStream fos = new FileOutputStream(destFile);
        BufferedOutputStream dest = new BufferedOutputStream(fos,
                                                             BUFFER);

        // read and write until last byte is encountered
        while ((currentByte = is.read(data, 0, BUFFER)) != -1) {
          dest.write(data, 0, currentByte);
        }
        dest.flush();
        dest.close();
        is.close();
      }

      if (currentEntry.endsWith("".zip"")) {
        // found a zip file, try to open
        extractFolder(destFile);
      }
    }
    return newPath;
  }",Bug Crítico,"```java
private static String extractFolder(File zipFile) throws ZipException, IOException {
    int BUFFER = 2048;

    try (ZipFile zip = new ZipFile(zipFile)) {
        String newPath = getExtractedFolder(zipFile).getAbsolutePath();

        new File(newPath).mkdir();
        Enumeration<? extends ZipEntry> zipFileEntries = zip.entries();

        while (zipFileEntries.hasMoreElements()) {
          ZipEntry entry = zipFileEntries.nextElement();
          String currentEntry = entry.getName();
          File destFile = new File(newPath, currentEntry);
          File destinationParent = destFile.getParentFile();

          destinationParent.mkdirs();

          if (!entry.isDirectory()) {
            try (BufferedInputStream is = new BufferedInputStream(zip.getInputStream(entry));
                 FileOutputStream fos = new FileOutputStream(destFile);
                 BufferedOutputStream dest = new BufferedOutputStream(fos, BUFFER)) {

              int currentByte;
              byte data[] = new byte[BUFFER];

              while ((currentByte = is.read(data, 0, BUFFER)) != -1) {
                dest.write(data, 0, currentByte);
              }
              dest.flush();
            }
          }

          if (currentEntry.endsWith("".zip"")) {
            String extractedPath = extractFolder(destFile);
            if (extractedPath == null) {
              throw new IOException(""Failed to extract nested zip file: "" + destFile.getAbsolutePath());
            }
          }
        }
    }
    return newPath;
}
```"
Java,find int in string,"    public static int findString(String matchString, int startIndex, char[] line) {
        return findChars(FastStringUtils.toCharArray(matchString), startIndex, line);
    }",Código em Conformidade,"```java
public static int findIntInString(String string) {
    String number = """";
    for (char c : string.toCharArray()) {
        if (Character.isDigit(c)) {
            number += c;
        }
    }
    return number.isEmpty() ? -1 : Integer.parseInt(number);
}
```"
Java,set working directory,"  public void setWorkingDirectory(Path dir) throws IOException {
    ensureState(JobState.DEFINE);
    conf.setWorkingDirectory(dir);
  }",Código em Conformidade,"```java
public void setWorkingDirectory(Path dir) throws IOException {
    try {
        ensureState(JobState.DEFINE);
        conf.setWorkingDirectory(dir);
    } catch (Exception e) {
        System.err.println(""Erro ao definir o diretório de trabalho: "" + e.getMessage());
        throw e;
    }
}
```"
Java,get name of enumerated value,"    static String getEnumElementName(XsdEnumeration enumElem) {
        String value = enumElem.getValue();

        if (value.equals("""")){
            return ""EMPTY"";
        }

        if (value.matches(""-?\\d*[,|.]?\\d*"")){
            return ""_"" + value;
        }

        return enumElem.getValue().toUpperCase().replaceAll(""[^a-zA-Z0-9]"", ""_"");
    }",Código em Conformidade,"```java
static String getEnumElementName(XsdEnumeration enumElem) {
    String value = enumElem.getValue();

    if (value == null){
        return ""NULL"";
    }

    if (value.equals("""")){
        return ""EMPTY"";
    }

    if (value.matches(""-?\\d*[,|.]?\\d*"")){
        return ""_"" + value;
    }

    return enumElem.getValue().toUpperCase().replaceAll(""[^a-zA-Z0-9]"", ""_"");
}
```"
Java,extract data from html content,"    public String extract(String html, CETR.Parameters parameters) {
        html = clearText(html); //preprocess the Document by removing irrelevant HTML tags and empty lines and break the document to its lines
        List<String> rows = extractRows(html); //
        
        List<Integer> selectedRowIds = selectRows(rows, parameters);
        
        StringBuilder sb = new StringBuilder(html.length());
        for(Integer rowId : selectedRowIds) {
            String row = rows.get(rowId);
            
            //extract the clear text from the selected row
            row = StringCleaner.removeExtraSpaces(HTMLParser.extractText(row));
            if(row.isEmpty()) {
                continue;
            }
            sb.append(row).append("" "");
        }
        
        return sb.toString().trim();
    }",Código em Conformidade,"```java
public String extract(String html, CETR.Parameters parameters) {
    if(html == null || html.isEmpty()) {
        return """";
    }
    
    html = clearText(html);

    List<String> rows = extractRows(html);
    if(rows == null || rows.isEmpty()) {
        return """";
    }
    
    List<Integer> selectedRowIds = selectRows(rows, parameters);
    if(selectedRowIds == null || selectedRowIds.isEmpty()) {
        return """";
    }
    
    StringBuilder sb = new StringBuilder(html.length());
    for(Integer rowId : selectedRowIds) {
        if(rowId < 0 || rowId >= rows.size()) {
            continue;
        }
        
        String row = rows.get(rowId);
        
        row = StringCleaner.removeExtraSpaces(HTMLParser.extractText(row));
        if(row == null || row.isEmpty()) {
            continue;
        }
        sb.append(row).append("" "");
    }
    
    return sb.toString().trim();
}
```"
Java,how to get html of website,"    public static HtmlPage toHtmlPage(WebDriver webDriver) {
        try {
            return HTMLParser.parseHtml(
                    new StringWebResponse(webDriver.getPageSource(), new URL(webDriver.getCurrentUrl())),
                    new WebClient().getCurrentWindow()
            );
        } catch (IOException e) {
            throw new RuntimeException(""Error creating HtmlPage from WebDriver."", e);
        }
    }",Código em Conformidade,"```
public static HtmlPage toHtmlPage(WebDriver webDriver) {
    try {
        return HTMLParser.parseHtml(
                new StringWebResponse(webDriver.getPageSource(), new URL(webDriver.getCurrentUrl())),
                new WebClient().getCurrentWindow()
        );
    } catch (IOException e) {
        throw new RuntimeException(""Error creating HtmlPage from WebDriver."", e);
    }
}
```"
Java,convert a utc time to epoch,"    private static final BaseCalendar getCalendarSystem(long utc) {
        // Quickly check if the time stamp given by `utc' is the Epoch
        // or later. If it's before 1970, we convert the cutover to
        // local time to compare.
        if (utc >= 0
            || utc >= GregorianCalendar.DEFAULT_GREGORIAN_CUTOVER
                        - TimeZone.getDefaultRef().getOffset(utc)) {
            return gcal;
        }
        return getJulianCalendar();
    }",Código em Conformidade,"```java
public static long convertUtcToEpoch(long utc) {
    long epoch = utc / 1000L; 
    return epoch;
}
```"
Java,how to check if a checkbox is checked,"    private void printSearchFormToHtml(Set<String> fieldHash, String terms, String query, PrintWriter html) {
        html.append(""<form method=\""post\"" action=\""search\"">""
                + ""<center><table border=0 cellpadding=6 cellspacing=0>\n""
                + ""<tr><td colspan=3 valign=top><i>Fields to display:</i></td><td></td></tr>""
                + ""<tr><td valign=top><font size=-1>""
                + ""<input type=\""checkbox\"" name=\""pid\"" value=\""true\"" checked> <a href=\""#\"" onClick=\""javascript:alert('Persistent Identfier\\n\\nThe globally unique identifier of the resource.')\"">pid</a><br>""
                + ""<input type=\""checkbox\"" name=\""label\"" value=\""true\"""");
        html.append(fieldHash.contains(""label"") ? "" checked""
                                : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Label\\n\\nThe label of the object')\"">label</a><br>""
                + ""<input type=\""checkbox\"" name=\""state\"" value=\""true\"""");
        html.append(fieldHash.contains(""state"") ? CHECKED
                                : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('State\\n\\nThe state of the object.\\nThis will be:\\n  A - Active')\"">state</a><br>""
                + ""<input type=\""checkbox\"" name=\""ownerId\"" value=\""true\"""");
        html.append(fieldHash.contains(""ownerId"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Owner Id\\n\\nThe userId of the user who owns the object.')\"">ownerId</a><br>""
                + ""<input type=\""checkbox\"" name=\""cDate\"" value=\""true\"""");
        html.append(fieldHash.contains(""cDate"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Creation Date\\n\\nThe UTC date the object was created,\\nin YYYY-MM-DDTHH:MM:SS.SSSZ format')\"">cDate</a><br>""
                 + ""<input type=\""checkbox\"" name=\""mDate\"" value=\""true\"""");
        html.append(fieldHash.contains(""mDate"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Modified Date\\n\\nThe UTC date the object was last modified,\\nin YYYY-MM-DDTHH:MM:SS.SSSZ format')\"">mDate</a><br>""
                + ""<input type=\""checkbox\"" name=\""dcmDate\"" value=\""true\"""");
        html.append(fieldHash.contains(""dcmDate"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Dublin Core Modified Date\\n\\nThe UTC date the DC datastream was last modified,\\nin YYYY-MM-DDTHH:MM:SS.SSSZ format')\"">dcmDate</a><br>""
                + ""</font></td><td valign=top><font size=-1>""
                + ""<input type=\""checkbox\"" name=\""title\"" value=\""true\"" checked> <a href=\""#\"" onClick=\""javascript:alert('Title\\n\\nA name given to the resource.\\nThis is a repeating field.')\"">title</a><br>""
                + ""<input type=\""checkbox\"" name=\""creator\"" value=\""true\"""");
        html.append(fieldHash.contains(""creator"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Creator\\n\\nAn entity primarily responsible for making\\nthe content of the resource.\\nThis is a repeating field.')\"">creator</a><br>""
                + ""<input type=\""checkbox\"" name=\""subject\"" value=\""true\"""");
        html.append(fieldHash.contains(""subject"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Subject and Keywords\\n\\nA topic of the content of the resource.\\nThis is a repeating field.')\"">subject</a><br>""
                + ""<input type=\""checkbox\"" name=\""description\"" value=\""true\"""");
        html.append(fieldHash.contains(""description"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Description\\n\\nAn account of the content of the resource.\\nThis is a repeating field.')\"">description</a><br>""
                + ""<input type=\""checkbox\"" name=\""publisher\"" value=\""true\"""");
        html.append(fieldHash.contains(""publisher"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Publisher\\n\\nAn entity responsible for making the resource available.\\nThis is a repeating field.')\"">publisher</a><br>""
                + ""<input type=\""checkbox\"" name=\""contributor\"" value=\""true\"""");
        html.append(fieldHash.contains(""contributor"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Contributor\\n\\nAn entity responsible for making contributions\\nto the content of the resource.\\nThis is a repeating field.')\"">contributor</a><br>""
                + ""<input type=\""checkbox\"" name=\""date\"" value=\""true\"""");
        html.append(fieldHash.contains(""date"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Date\\n\\nA date of an event in the lifecycle of the resource.\\nThis is a repeating field.')\"">date</a><br>""
                + ""</font></td><td valign=top><font size=-1>""
                + ""<input type=\""checkbox\"" name=\""type\"" value=\""true\"""");
        html.append(fieldHash.contains(""type"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Resource Type\\n\\nThe nature or genre of the resource.\\nThis is a repeating field.')\"">type</a><br>""
                + ""<input type=\""checkbox\"" name=\""format\"" value=\""true\"""");
        html.append(fieldHash.contains(""format"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Format\\n\\nThe physical or digital manifestation of the resource.\\nThis is a repeating field.')\"">format</a><br>""
                + ""<input type=\""checkbox\"" name=\""identifier\"" value=\""true\"""");
        html.append(fieldHash.contains(""identifier"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Resource Identifier\\n\\nAn unambiguous reference to the resource within a given context.\\nThis is a repeating field.')\"">identifier</a><br>""
                + ""<input type=\""checkbox\"" name=\""source\"" value=\""true\"""");
        html.append(fieldHash.contains(""source"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Source\\n\\nA reference to a resource from which the present resource is derived.\\nThis is a repeating field.')\"">source</a><br>""
                + ""<input type=\""checkbox\"" name=\""language\"" value=\""true\"""");
        html.append(fieldHash.contains(""language"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Language\\n\\nA language of the intellectual content of the resource.\\nThis is a repeating field.')\"">language</a><br>""
                + ""<input type=\""checkbox\"" name=\""relation\"" value=\""true\"""");
        html.append(fieldHash.contains(""relation"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Relation\\n\\nA reference to a related resource.\\nThis is a repeating field.')\"">relation</a><br>""
                + ""<input type=\""checkbox\"" name=\""coverage\"" value=\""true\"""");
        html.append(fieldHash.contains(""coverage"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Coverage\\n\\nThe extent or scope of the content of the resource.\\nThis is a repeating field.')\"">coverage</a><br>""
                + ""<input type=\""checkbox\"" name=\""rights\"" value=\""true\"""");
        html.append(fieldHash.contains(""rights"") ? CHECKED : """");
        html.append(""> <a href=\""#\"" onClick=\""javascript:alert('Rights Management\\n\\nInformation about rights held in and over the resource.\\nThis is a repeating field.')\"">rights</a><br>""
                + ""</font></td><td bgcolor=silver valign=top>&nbsp;&nbsp;&nbsp;</td><td valign=top>""
                + ""Search all fields for phrase: <input type=\""text\"" name=\""terms\"" size=\""15\"" value=\"""");
        if (terms != null) StreamUtility.enc(terms, html);
        html.append(""\""> <a href=\""#\"" onClick=\""javascript:alert('Search All Fields\\n\\nEnter a phrase.  Objects where any field contains the phrase will be returned.\\nThis is a case-insensitive search, and you may use the * or ? wildcards.\\n\\nExamples:\\n\\n  *o*\\n    finds objects where any field contains the letter o.\\n\\n  ?edora\\n    finds objects where a word starts with any letter and ends with edora.')\""><i>help</i></a><p> ""
                +""Or search specific field(s): <input type=\""text\"" name=\""query\"" size=\""15\"" value=\"""");
        if (query != null) StreamUtility.enc(query, html);
        html.append(""\""> <a href=\""#\"" onClick=\""javascript:alert('Search Specific Field(s)\\n\\nEnter one or more conditions, separated by space.  Objects matching all conditions will be returned.\\nA condition is a field (choose from the field names on the left) followed by an operator, followed by a value.\\nThe = operator will match if the field\\'s entire value matches the value given.\\nThe ~ operator will match on phrases within fields, and accepts the ? and * wildcards.\\nThe &lt;, &gt;, &lt;=, and &gt;= operators can be used with numeric values, such as dates.\\n\\nExamples:\\n\\n  pid~demo:* description~fedora\\n    Matches all demo objects with a description containing the word fedora.\\n\\n  cDate&gt;=1976-03-04 creator~*n*\\n    Matches objects created on or after March 4th, 1976 where at least one of the creators has an n in their name.\\n\\n  mDate&gt;2002-10-2 mDate&lt;2002-10-2T12:00:00\\n    Matches objects modified sometime before noon (UTC) on October 2nd, 2002')\""><i>help</i></a><p> "");
        html.append(""Maximum Results: <select name=\""maxResults\""><option value=\""20\"">20</option><option value=\""40\"">40</option><option value=\""60\"">60</option><option value=\""80\"">80</option></select> ""
                + ""<p><input type=\""submit\"" value=\""Search\""> ""
                + ""</td></tr></table></center>""
                + ""</form><hr size=1>"");
    }",Código em Conformidade,"```java
private void printSearchFormToHtml(Set<String> fieldHash, String terms, String query, PrintWriter html) {
    html.append(""<form method=\""post\"" action=\""search\"">""
            + ""<center><table border=0 cellpadding=6 cellspacing=0>\n""
            + ""<tr><td colspan=3 valign=top><i>Fields to display:</i></td><td></td></tr>""
            + ""<tr><td valign=top><font size=-1>""
            + ""<input type=\""checkbox\"" name=\""pid\"" value=\""true\"" checked> <a href=\""#\"" onClick=\""javascript:alert('Persistent Identfier\\n\\nThe globally unique identifier of the resource.')\"">pid</a><br>""
            + ""<input type=\""checkbox\"" name=\""label\"" value=\""true\"""");
    html.append(fieldHash.contains(""label"") ? "" checked""
                            : """");
}
```"
Java,create cookie,"    private static int createCookie(final String name, final String value, int maxCookies, int cookieCount,
            final Map<String, String> cookies, final Map<String, String> additional) {
        if (!name.isEmpty() && name.charAt(0) == '$') {
            if(additional.containsKey(name)) {
                return cookieCount;
            }
            additional.put(name, value);
            return cookieCount;
        } else {
            if (cookieCount == maxCookies) {
                throw UndertowMessages.MESSAGES.tooManyCookies(maxCookies);
            }
            if(cookies.containsKey(name)) {
                return cookieCount;
            }
            cookies.put(name, value);
            return ++cookieCount;
        }
    }",Código em Conformidade,"```java
private static int createCookie(final String name, final String value, int maxCookies, int cookieCount,
        final Map<String, String> cookies, final Map<String, String> additional) {
    if (name != null && !name.isEmpty() && name.charAt(0) == '$') {
        if(additional.containsKey(name)) {
            return cookieCount;
        }
        additional.put(name, value);
        return cookieCount;
    } else {
        if (cookieCount == maxCookies) {
            throw UndertowMessages.MESSAGES.tooManyCookies(maxCookies);
        }
        if(cookies.containsKey(name)) {
            return cookieCount;
        }
        cookies.put(name, value);
        return ++cookieCount;
    }
}
```"
Java,unzipping large files,"  private void unzipToWatchedFolder(File file) {
    log.info(""Unzipping... "" + file.getName());
    try {
      ZipUtils.unzip(file, new File(iosServerConfiguration.getAppFolderToMonitor()));
    } catch (IOException e) {
      log.warning(""Problem unzipping "" + file.getAbsolutePath() + "", "" + e.toString());
    }
  }",Código em Conformidade,"```java
private void unzipToWatchedFolder(File file) {
    log.info(""Unzipping... "" + file.getName());
    try {
        ZipUtils.unzip(file, new File(iosServerConfiguration.getAppFolderToMonitor()));
    } catch (IOException e) {
        log.warning(""Problem unzipping "" + file.getAbsolutePath(), e);
    }
}
```"
Java,format date,"	public static String format(Date date, String format)
	{
		Parameters.checkNotNull(date);
		return new SimpleDateFormat(format).format(date);
	}",Código em Conformidade,"```java
public static String format(Date date, String format)
{
    if (date == null || format == null) {
        throw new IllegalArgumentException(""Date and format must not be null"");
    }
    return new SimpleDateFormat(format).format(date);
}
```

```java
public static String format(LocalDateTime date, String format)
{
    if (date == null || format == null) {
        throw new IllegalArgumentException(""Date and format must not be null"");
    }
    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(format);
    return date.format(formatter);
}
```"
Java,positions of substrings in string,"	private int transpositions(String common1,String common2)
	{
		int transpositions = 0;
		for (int i=0; i<common1.length(); i++) {
			if (common1.charAt(i)!=common2.charAt(i)) 
				transpositions++;
		}
		transpositions /= 2;
		return transpositions;
	}",Código em Conformidade,"private int transpositions(String common1,String common2)
	{
		if (common1.length() != common2.length())
			throw new IllegalArgumentException(""Strings must have the same length"");

		int transpositions = 0;
		for (int i=0; i<common1.length(); i++) {
			if (common1.charAt(i)!=common2.charAt(i)) 
				transpositions++;
		}
		transpositions /= 2;
		return transpositions;
	}"
Java,output to html file,"    public void printHtmlFooter(PrintWriter out, ResourceBundle reg)
    {
        String strHTML = reg.getString(""htmlFooter"");
        if ((strHTML == null) || (strHTML.length() == 0))
            strHTML = ""</body>\n</html>"";
        out.println(strHTML);
        out.flush();
    }",Código em Conformidade,"```java
public void printHtmlFooter(PrintWriter out, ResourceBundle reg) {
    if (out == null || reg == null) {
        throw new IllegalArgumentException(""PrintWriter or ResourceBundle cannot be null."");
    }

    String strHTML = reg.getString(""htmlFooter"");
    if (strHTML == null || strHTML.isEmpty())
        strHTML = ""</body>\n</html>"";

    out.println(strHTML);
    out.flush();
}
```"
Java,get current ip address,"    public static IPAddressType getAddressType(String ipAddress)
    {
    	if(IPAddressUtil.isIPv4LiteralAddress(ipAddress))
    		return IPAddressType.IPV4;
    	
    	if(IPAddressUtil.isIPv6LiteralAddress(ipAddress))
    		return IPAddressType.IPV6;
    	
    	return IPAddressType.INVALID;
    }",Código em Conformidade,"```java
import java.net.*;

public enum IPAddressType {
    IPV4, IPV6, INVALID
}

public static IPAddressType getAddressType(String ipAddress) {
    try {
        final InetAddress address = InetAddress.getByName(ipAddress);

        if (address instanceof Inet6Address) {
            return IPAddressType.IPV6;
        } else if (address instanceof Inet4Address) {
            return IPAddressType.IPV4;
        }
    } catch (UnknownHostException ex) {
        System.out.println(""Invalid IP Address"");
    }

    return IPAddressType.INVALID;
}
```"
Java,pretty print json,"    private String prettyPrint(final JsonObject rootJson, final boolean prettyPrint) {
        if (prettyPrint) {
            final Gson gson = new GsonBuilder().setPrettyPrinting()
                    .disableHtmlEscaping()
                    .create();
            return gson.toJson(rootJson);
        }
        return rootJson.toString();
    }",Código em Conformidade,"```java
private String prettyPrint(final JsonObject rootJson, final boolean prettyPrint) {
    if (prettyPrint) {
        final Gson gson = new GsonBuilder().setPrettyPrinting()
                .disableHtmlEscaping()
                .create();
        return gson.toJson(rootJson);
    }
    return rootJson.toString();
}
```"
Java,copy to clipboard,"    public static String getFromClipboard() throws Exception {
        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
        String string = (String) clipboard.getData(DataFlavor.stringFlavor);
        return string;
    }",Código em Conformidade,"```java
public static String getFromClipboard() {
    String string = null;
    
    try {
        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
        string = (String) clipboard.getData(DataFlavor.stringFlavor);
    } catch (UnsupportedFlavorException e) {
        System.err.println(""O formato de dados não é suportado: "" + e);
    } catch (IOException e) {
        System.err.println(""Erro ao acessar o clipboard: "" + e);
    }
    
    return string;
}
```"
Java,get the description of a http status code,"      @Override
      public Property getNamedProperty(int _hash, String _name, boolean _checkValid) throws FHIRException {
        switch (_hash) {
        case -1618432855: /*identifier*/  return new Property(""identifier"", ""Identifier"", ""Unique identifier for the substance."", 0, java.lang.Integer.MAX_VALUE, identifier);
        case -892481550: /*status*/  return new Property(""status"", ""code"", ""A code to indicate if the substance is actively used."", 0, 1, status);
        case 50511102: /*category*/  return new Property(""category"", ""CodeableConcept"", ""A code that classifies the general type of substance.  This is used  for searching, sorting and display purposes."", 0, java.lang.Integer.MAX_VALUE, category);
        case 3059181: /*code*/  return new Property(""code"", ""CodeableConcept"", ""A code (or set of codes) that identify this substance."", 0, 1, code);
        case -1724546052: /*description*/  return new Property(""description"", ""string"", ""A description of the substance - its appearance, handling requirements, and other usage notes."", 0, 1, description);
        case 555127957: /*instance*/  return new Property(""instance"", """", ""Substance may be used to describe a kind of substance, or a specific package/container of the substance: an instance."", 0, java.lang.Integer.MAX_VALUE, instance);
        case -206409263: /*ingredient*/  return new Property(""ingredient"", """", ""A substance can be composed of other substances."", 0, java.lang.Integer.MAX_VALUE, ingredient);
        default: return super.getNamedProperty(_hash, _name, _checkValid);
        }

      }",Código em Conformidade,"```java
public Property getNamedProperty(int _hash, String _name, boolean _checkValid) throws FHIRException {
    switch (_hash) {
    case -1618432855: /*identifier*/  return new Property(""identifier"", ""Identifier"", ""Unique identifier for the substance."", 0, java.lang.Integer.MAX_VALUE, identifier);
    case -892481550: /*status*/  return new Property(""status"", ""code"", ""A code to indicate if the substance is actively used."", 0, 1, status);
    case 50511102: /*category*/  return new Property(""category"", ""CodeableConcept"", ""A code that classifies the general type of substance.  This is used  for searching, sorting and display purposes."", 0, java.lang.Integer.MAX_VALUE, category);
    case 3059181: /*code*/  return new Property(""code"", ""CodeableConcept"", ""A code (or set of codes) that identify this substance."", 0, 1, code);
    case -1724546052: /*description*/  return new Property(""description"", ""string"", ""A description of the substance - its appearance, handling requirements, and other usage notes."", 0, 1, description);
    case 555127957: /*instance*/  return new Property(""instance"", """", ""Substance may be used to describe a kind of substance, or a specific package/container of the substance: an instance."", 0, java.lang.Integer.MAX_VALUE, instance);
    case -206409263: /*ingredient*/  return new Property(""ingredient"", """", ""A substance can be composed of other substances."", 0, java.lang.Integer.MAX_VALUE, ingredient);
    default: return super.getNamedProperty(_hash, _name, _checkValid);
    }
}
```"
Java,convert decimal to hex,"    private static int decode(final int hex) {
        if (hex >= CcHex.BACK.length) {
            throw new DecodingException(
                String.format(""invalid hex char: 0x%2x"", hex)
            );
        }
        final int dec = CcHex.BACK[hex];
        if (dec < 0) {
            throw new DecodingException(
                String.format(""invalid hex character: 0x%2x"", hex)
            );
        }
        return dec;
    }",Código em Conformidade,"```java
private static String decode(final int dec) {
    return Integer.toHexString(dec);
}
```"
Java,readonly array,"public static List<String> getReadOnlyList(String readOnlyName){
	List retList=new ArrayList();
	String readOnlyStr= (String) readOnlyMap.get(readOnlyName);
	if(readOnlyStr!=null){
		String[] tempArray=readOnlyStr.split("","");
		retList=Arrays.asList(tempArray);
	}
	return retList;
}",Código em Conformidade,"```java
public static List<String> getReadOnlyList(Map<String, String> readOnlyMap, String readOnlyName){
    List<String> retList = new ArrayList<>();
    String readOnlyStr= readOnlyMap.get(readOnlyName);
    if(readOnlyStr != null){
        String[] tempArray = readOnlyStr.split("","");
        retList = Arrays.asList(tempArray);
    }
    return Collections.unmodifiableList(retList);
}
```"
Java,string similarity levenshtein,"  public static double similarity(String s1, String s2) {
    if (s1.equals(s2))
      return 1.0;

    // ensure that s1 is shorter than or same length as s2
    if (s1.length() > s2.length()) {
      String tmp = s2;
      s2 = s1;
      s1 = tmp;
    }
    /*
     * this list of Boolean values is used for avoiding duplicated count of
     * common characters in S2
     */
    List<Boolean> isCommonCharInS2 = new ArrayList<Boolean>();
    for (int i=0; i<s2.length(); i++) {
      isCommonCharInS2.add(false);
    }

    // (1) find the number of characters the two strings have in common.
    // note that matching characters can only be half the length of the
    // longer string apart.
    int maxdist = (int) Math.floor(s2.length() / 2) ;
    int c = 0; // count of common characters
    int t = 0; // count of transpositions
    int prevpos = -1;
    for (int ix = 0; ix < s1.length(); ix++) {
      char ch = s1.charAt(ix);

      // now try to find it in s2
      for (int ix2 = Math.max(0, ix - maxdist);
           ix2 < Math.min(s2.length(), ix + maxdist);
           ix2++) {
        if (ch == s2.charAt(ix2) && !isCommonCharInS2.get(ix2)) {
          c++; // we found a common character
          isCommonCharInS2.set(ix2, true);
          if (prevpos != -1 && ix2 < prevpos)
            t++; // moved back before earlier
          prevpos = ix2;
          break;
        }
      }
    }

    // we don't divide t by 2 because as far as we can tell, the above
    // code counts transpositions directly.

    // System.out.println(""c: "" + c);
    // System.out.println(""t: "" + t);
    // System.out.println(""c/m: "" + (c / (double) s1.length()));
    // System.out.println(""c/n: "" + (c / (double) s2.length()));
    // System.out.println(""(c-t)/c: "" + ((c - t) / (double) c));

    // we might have to give up right here
    if (c == 0)
      return 0.0;

    // first compute the score
    double score = ((c / (double) s1.length()) +
            (c / (double) s2.length()) +
            ((c - t) / (double) c)) / 3.0;

    // (2) common prefix modification
    int p = 0; // length of prefix
    int last = Math.min(4, s1.length());
    for (; p < last && s1.charAt(p) == s2.charAt(p); p++)
      ;

    score = score + ((p * (1 - score)) / 10);

    // (3) longer string adjustment
    // I'm confused about this part. Winkler's original source code includes
    // it, and Yancey's 2005 paper describes it. However, Winkler's list of
    // test cases in his 2006 paper does not include this modification. So
    // is this part of Jaro-Winkler, or is it not? Hard to say.
    //
    //   if (s1.length() >= 5 && // both strings at least 5 characters long
    //       c - p >= 2 && // at least two common characters besides prefix
    //       c - p >= ((s1.length() - p) / 2)) // fairly rich in common chars
    //     {
    //     System.out.println(""ADJUSTED!"");
    //     score = score + ((1 - score) * ((c - (p + 1)) /
    //                                     ((double) ((s1.length() + s2.length())
    //                                                - (2 * (p - 1))))));
    // }

    // (4) similar characters adjustment
    // the same holds for this as for (3) above.

    return score;
  }",Código com Débito Técnico,"```java
public static double similarity(String s1, String s2) {
    if (s1.equals(s2))
      return 1.0;

    if (s1.length() > s2.length()) {
      String tmp = s2;
      s2 = s1;
      s1 = tmp;
    }

    int maxdist = (int) Math.floor(s2.length() / 2);
    boolean[] isCommonCharInS2 = new boolean[s2.length()];
    int c = 0, t = 0, prevpos = -1;

    for (int ix = 0; ix < s1.length(); ix++) {
      char ch = s1.charAt(ix);
      for (int ix2 = Math.max(0, ix - maxdist);
           ix2 < Math.min(s2.length(), ix + maxdist);
           ix2++) {
        if (ch == s2.charAt(ix2) && !isCommonCharInS2[ix2]) {
          c++;
          isCommonCharInS2[ix2] = true;
          if (prevpos != -1 && ix2 < prevpos)
            t++;
          prevpos = ix2;
          break;
        }
      }
    }

    if (c == 0)
      return 0.0;

    double score = ((c / (double) s1.length()) +
            (c / (double) s2.length()) +
            ((c - t) / (double) c)) / 3.0;

    int p = 0;
    int last = Math.min(4, s1.length());
    for (; p < last && s1.charAt(p) == s2.charAt(p); p++)
      ;

    score = score + ((p * (1 - score)) / 10);

    return score;
}
```"
Java,export to excel,"    public ExportMatrix export(PCMContainer pcmContainer) {
        PCM pcm = pcmContainer.getPcm();

        final PCMMetadata metadata;
        if (pcmContainer.getMetadata() == null) {
            metadata = new PCMMetadata(pcm);
        } else {
            metadata = pcmContainer.getMetadata();
        }


        ExportMatrix matrix = new ExportMatrix();

        // Export name
        matrix.setName(pcm.getName());

        int productsStartRow = exportFeatures(metadata, matrix);

        exportProducts(pcm, metadata, matrix, productsStartRow);

        // Transpose matrix if necessary
        if (!metadata.getProductAsLines()) {
            matrix.transpose();
        }

        return matrix;
    }",Código em Conformidade,"```
public ExportMatrix export(PCMContainer pcmContainer) {
    PCM pcm = pcmContainer.getPcm();

    final PCMMetadata metadata = pcmContainer.getMetadata() == null ? new PCMMetadata(pcm) : pcmContainer.getMetadata();

    ExportMatrix matrix = new ExportMatrix();

    matrix.setName(pcm.getName());

    int productsStartRow = exportFeatures(metadata, matrix);

    exportProducts(pcm, metadata, matrix, productsStartRow);

    if (!metadata.getProductAsLines()) {
        matrix.transpose();
    }

    return matrix;
}
```"
Java,convert int to bool,"	private boolean convertToBoolean(Object o) {
		if (o.getClass() == Boolean.class) {
			return (Boolean) o;
		}
		else {
			return Boolean.parseBoolean(o.toString());
		}
	}",Código em Conformidade,"```java
private boolean convertToBoolean(Object o) {
    if (o.getClass() == Boolean.class) {
        return (Boolean) o;
    }
    else if (o.getClass() == Integer.class) {
        return (Integer) o != 0;
    }
    else {
        return Boolean.parseBoolean(o.toString());
    }
}
```"
Java,unique elements,"    @Override
    public int countUnique() {
        IntSet uniqueElements = new IntOpenHashSet();
        for (int i = 0; i < size(); i++) {
            if (!isMissingValue(getInt(i))) {
                uniqueElements.add(getInt(i));
            }
        }
        return uniqueElements.size();
    }",Código em Conformidade,"```java
@Override
public int countUnique() {
    IntSet uniqueElements = new IntOpenHashSet();
    for (int i = 0; i < size(); i++) {
        if (!isMissingValue(getInt(i))) {
            uniqueElements.add(getInt(i));
        }
    }
    return uniqueElements.size();
}
```"
Java,get the description of a http status code,"    public static String getHtmlStrByStatusCode(int statusCode) {
        return ""<html><head><title>"" + statusCode + "" "" + StatusCodeUtil.getStatusCode(statusCode) + ""</title></head><body><center><h1>"" + statusCode + "" "" + StatusCodeUtil.getStatusCode(statusCode) + ""</h1></center><hr><center>"" + ServerInfo.getName() + ""/"" + ServerInfo.getVersion() + ""</center></body></html>"";
    }",Código em Conformidade,"```java
public static String getHtmlStrByStatusCode(int statusCode) {
    StringBuilder htmlStringBuilder = new StringBuilder();

    htmlStringBuilder.append(""<html><head><title>"")
        .append(statusCode)
        .append("" "")
        .append(StatusCodeUtil.getStatusCode(statusCode))
        .append(""</title></head><body><center><h1>"")
        .append(statusCode)
        .append("" "")
        .append(StatusCodeUtil.getStatusCode(statusCode))
        .append(""</h1></center><hr><center>"")
        .append(ServerInfo.getName())
        .append(""/"")
        .append(ServerInfo.getVersion())
        .append(""</center></body></html>"");

    return htmlStringBuilder.toString();
}
```"
Java,binomial distribution,"        public static long binCoeff(int n, int k) {
                if (k > n) {
                        return 0;
                }
                if (k == 0 || k == n) {
                        return 1;
                }
                long result = 1;
                for (int i = 1; i <= k; i++) {
                        result *= (n - i + 1) / i;
                }
                return result;
        }",Código em Conformidade,"```java
public static long binCoeff(int n, int k) {
    if (k > n) {
        return 0;
    }
    if (k == 0 || k == n) {
        return 1;
    }
    long result = 1;
    for (int i = 1; i <= k; i++) {
        result = result * (n - i + 1) / i;
    }
    return result;
}
```"
Java,linear regression,"    @Override
    public double regress(DataPoint data)
    {
        if(baseRegressor == null)
            throw new RuntimeException(""Bagging instance created for classification, not regression"");
        else if(learners == null || learners.isEmpty())
            throw new RuntimeException(""Regressor has not yet been trained"");
        OnLineStatistics stats = new OnLineStatistics();
        for(int i = 0; i < learners.size(); i++)
        {
            double x = ((Regressor) learners.get(i)).regress(data);
            stats.add(x);
        }
        
        return stats.getMean();
    }",Código em Conformidade,"```java
@Override
public double regress(DataPoint data)
{
    if(baseRegressor == null)
        throw new RuntimeException(""Bagging instance created for classification, not regression"");

    if(learners == null || learners.isEmpty())
        throw new RuntimeException(""Regressor has not yet been trained"");

    OnLineStatistics stats = new OnLineStatistics();

    for(Regressor learner : learners)
    {
        double x = learner.regress(data);
        stats.add(x);
    }

    return stats.getMean();
}
```"
Java,all permutations of a list,"    public Permutation multiply(Permutation other) {
        Permutation newPermutation = new Permutation(values.length);
        for (int i = 0; i < values.length; i++) {
            newPermutation.values[i] = this.values[other.values[i]];
        }
        return newPermutation;
    }",Código em Conformidade,"```java
import java.util.*;

public class Main {
  public static void main(String[] args) {
    List<Integer> list = Arrays.asList(1, 2, 3);
    List<List<Integer>> permutations = getPermutations(list);
    for (List<Integer> permutation : permutations) {
      System.out.println(permutation);
    }
  }

  public static <T> List<List<T>> getPermutations(List<T> list) {
    if (list.isEmpty()) {
      List<List<T>> result = new ArrayList<>();
      result.add(new ArrayList<>());
      return result;
    }

    List<List<T>> allPermutations = new ArrayList<>();
    T firstElement = list.remove(0);
    List<List<T>> remainingPermutations = getPermutations(list);
    for (List<T> permutation : remainingPermutations) {
      for (int i = 0; i <= permutation.size(); i++) {
        List<T> temp = new ArrayList<>(permutation);
        temp.add(i, firstElement);
        allPermutations.add(temp);
      }
    }
    return allPermutations;
  }
}
```"
Java,read text file line by line,"	protected void readLine(int lineNumber, String line) throws LineException {
		Matcher matcher = getAcceptedLinePattern().matcher(line);
		if (matcher.find()){
			processLine(lineNumber, line, matcher);
		} else {
			if(!isHeaderLine(line)){
				throw new LineException(lineNumber, line, new Exception(""Cannot parse line, unexpected structure""), false);
			}
		}
	}",Código em Conformidade,
Java,get current ip address,"    public static InetAddress getHostAddress() {
        InetAddress localAddress = null;
        try {
            localAddress = InetAddress.getLocalHost();
            if (isValidHostAddress(localAddress)) {
                return localAddress;
            }
        } catch (Throwable e) {
            logger.warn(""Failed to retriving local host ip address, try scan network card ip address. cause: ""
                        + e.getMessage());
        }
        try {
            Enumeration<NetworkInterface> interfaces = NetworkInterface.getNetworkInterfaces();
            if (interfaces != null) {
                while (interfaces.hasMoreElements()) {
                    try {
                        NetworkInterface network = interfaces.nextElement();
                        Enumeration<InetAddress> addresses = network.getInetAddresses();
                        if (addresses != null) {
                            while (addresses.hasMoreElements()) {
                                try {
                                    InetAddress address = addresses.nextElement();
                                    if (isValidHostAddress(address)) {
                                        return address;
                                    }
                                } catch (Throwable e) {
                                    logger.warn(""Failed to retriving network card ip address. cause:"" + e.getMessage());
                                }
                            }
                        }
                    } catch (Throwable e) {
                        logger.warn(""Failed to retriving network card ip address. cause:"" + e.getMessage());
                    }
                }
            }
        } catch (Throwable e) {
            logger.warn(""Failed to retriving network card ip address. cause:"" + e.getMessage());
        }
        logger.error(""Could not get local host ip address, will use 127.0.0.1 instead."");
        return localAddress;
    }",Código em Conformidade,"```java
public static InetAddress getHostAddress() {
    InetAddress localAddress = null;
    try {
        localAddress = InetAddress.getLocalHost();
        if (isValidHostAddress(localAddress)) {
            return localAddress;
        }
    } catch (UnknownHostException e) {
        logger.warn(""Failed to retrieve local host IP address, trying to scan network card IP address."", e);
    }

    try {
        Enumeration<NetworkInterface> interfaces = NetworkInterface.getNetworkInterfaces();
        while (interfaces.hasMoreElements()) {
            NetworkInterface network = interfaces.nextElement();
            Enumeration<InetAddress> addresses = network.getInetAddresses();
            while (addresses.hasMoreElements()) {
                InetAddress address = addresses.nextElement();
                if (isValidHostAddress(address)) {
                    return address;
                }
            }
        }
    } catch (SocketException e) {
        logger.warn(""Failed to retrieve network card IP address."", e);
    }

    logger.error(""Could not get local host IP address, will use 127.0.0.1 instead."");
    try {
        return InetAddress.getByName(""127.0.0.1"");
    } catch (UnknownHostException e) {
        logger.error(""Failed to parse fallback IP address '127.0.0.1'."", e);
        return null;
    }
}
```"
Java,fuzzy match ranking,"  public void setUnacceptable(E element) {

    Ranking ranking = this.map.get(element);
    if (ranking == null) {
      ranking = new Ranking();
      this.map.put(element, ranking);
    }
    ranking.setUnacceptable();
  }",Código em Conformidade,"public void setUnacceptable(E element) {

    Ranking ranking = this.map.get(element);
    if (ranking == null) {
      ranking = new Ranking();
      this.map.put(element, ranking);
    }
    ranking.setUnacceptable();
  }"
Java,convert int to bool,"    public int getFrequency(String from, String to)
    {
        return getFrequency(convert(from), convert(to));
    }",Código em Conformidade,"public boolean getFrequency(String from, String to)
{
    return getFrequency(convert(from), convert(to)) > 0;
}"
Java,extract data from html content,"	private String extractDocumentContent(String htmlContent){
		org.jsoup.nodes.Document doc = Jsoup.parse(htmlContent);
		
		String content = doc.body().text();
		
		return content;
	}",Código em Conformidade,"```java
private String extractDocumentContent(String htmlContent){
    org.jsoup.nodes.Document doc = Jsoup.parse(htmlContent);

    String content = doc.body().text();

    return content;
}
```"
Java,connect to sql,"    @Override
    public synchronized DBConnect getDBConnect() {
        try {
            DBConnect connect = threadConnect.get();
            if (connect == null) {
                connect = new DruidConnect(ds.getConnection());
                LOGGER.info(""druid debug ------ create common connect : {}"", connect);
                threadConnect.set(connect);
            } else {
                if (!connect.getConnect().isValid(3000) || connect.getConnect().isClosed()) {
                    connect = new DruidConnect(ds.getConnection());
                    LOGGER.info(""druid debug ------ create common connect : {}"", connect);
                    threadConnect.set(connect);
                }
            }
            return connect;
        } catch (SQLException e) {
            LOGGER.error(e, ""get druid connect error"");
            return null;
        }
    }",Código em Conformidade,"```java
@Override
public synchronized DBConnect getDBConnect() {
    DBConnect connect = null;
    Connection con = null;
    try {
        connect = threadConnect.get();
        con = ds.getConnection();
        if (connect == null) {
            connect = new DruidConnect(con);
            LOGGER.info(""druid debug ------ create common connect : {}"", connect);
            threadConnect.set(connect);
        } else {
            if (!connect.getConnect().isValid(3000) || connect.getConnect().isClosed()) {
                connect = new DruidConnect(con);
                LOGGER.info(""druid debug ------ create common connect : {}"", connect);
                threadConnect.set(connect);
            }
        }
        return connect;
    } catch (SQLException e) {
        LOGGER.error(""get druid connect error"", e);
        return null;
    } finally {
        if(con != null) {
            try {
                con.close();
            } catch (SQLException e) {
                LOGGER.error(""Failed to close connection"", e);
            }
        }
    }
}
```"
Java,get current process id,"    private String getProcessId(OptionsAndArgs pOpts) throws InvocationTargetException, NoSuchMethodException, IllegalAccessException {
        if (pOpts.getPid() != null) {
            return pOpts.getPid();
        } else if (pOpts.getProcessPattern() != null) {
            return findProcess(pOpts.getProcessPattern()).getId();
        } else {
            throw new IllegalArgumentException(""No process ID and no process name pattern given"");
        }
    }",Código em Conformidade,"```java
private String getProcessId(OptionsAndArgs pOpts) throws InvocationTargetException, NoSuchMethodException, IllegalAccessException {
    String pid = pOpts.getPid();
    String processPattern = pOpts.getProcessPattern();

    if (pid != null) {
        return pid;
    } else if (processPattern != null) {
        return findProcess(processPattern).getId();
    } else {
        throw new IllegalArgumentException(""No process ID and no process name pattern given"");
    }
}
```"
Java,nelder mead optimize,"    public boolean doOptimization(OptimizedTagContext context) {
        boolean optimize = true;
        
        if (context.isJspAttribute(""var"")) {
            optimize = false;
        }
        else if (context.isJspAttribute(""test"")) {
            optimize = false;
        }
        
        return optimize;
    }",Código em Conformidade,"```java
public boolean doOptimization(OptimizedTagContext context) {
    return !(context.isJspAttribute(""var"") || context.isJspAttribute(""test""));
}
```"
Java,nelder mead optimize,"   @Override
   public long lastUsed() {
      return params.find(MetaLastUsed.class).map(ml -> ml.get()).orElse(0L);
   }",Código em Conformidade,"```java
@Override
public long lastUsed() {
   return params.find(MetaLastUsed.class).map(ml -> ml != null ? ml.get() : 0L).orElse(0L);
}
```

```java
@Override
public long lastUsed() {
   return params.find(MetaLastUsed.class).map(ml -> ml).orElse(0L);
}
```"
Java,httpclient post json,"  public void post(String jsonBody, Integer expectedResponseCode) throws IOException {
    HttpURLConnection conn = getUrlConnection();

    try {
      // send post request with json body for the topology
      if (!NetworkUtils.sendHttpPostRequest(conn, NetworkUtils.JSON_TYPE, jsonBody.getBytes())) {
        throw new IOException(""Failed to send POST to "" + endpointURI);
      }

      // check the response
      if (!NetworkUtils.checkHttpResponseCode(conn, expectedResponseCode)) {
        byte[] bytes = NetworkUtils.readHttpResponse(conn);
        LOG.log(Level.SEVERE, ""Failed to send POST request to endpoint"");
        LOG.log(Level.SEVERE, new String(bytes));
        throw new IOException(""Unexpected response from connection. Expected ""
            + expectedResponseCode + "" but received "" + conn.getResponseCode());
      }
    } finally {
      conn.disconnect();
    }
  }",Bug Crítico,"```java
public void post(String jsonBody, Integer expectedResponseCode) {
    HttpURLConnection conn = null;
    try {
      conn = getUrlConnection();

      if (!NetworkUtils.sendHttpPostRequest(conn, NetworkUtils.JSON_TYPE, jsonBody.getBytes())) {
        throw new IOException(""Failed to send POST to "" + endpointURI);
      }

      if (!NetworkUtils.checkHttpResponseCode(conn, expectedResponseCode)) {
        byte[] bytes = NetworkUtils.readHttpResponse(conn);
        LOG.log(Level.SEVERE, ""Failed to send POST request to endpoint"");
        LOG.log(Level.SEVERE, new String(bytes));
        throw new IOException(""Unexpected response from connection. Expected ""
            + expectedResponseCode + "" but received "" + conn.getResponseCode());
      }
    } catch (IOException e) {
      LOG.log(Level.SEVERE, ""An error occurred"", e);
    } finally {
      if (conn != null) {
        conn.disconnect();
      }
    }
  }
```"
Java,positions of substrings in string,"  private static String substr(String str, int s, int e) {
    return (s >= e) ? null : str.substring(s, e);
  }",Código em Conformidade,"```java
private static String substr(String str, int s, int e) {
  return (s >= e) ? null : str.substring(s, e);
}
```

```java
private static String substr(String str, int s, int e) {
  if (s < 0 || e > str.length() || s >= e) {
    return null;
  }
  return str.substring(s, e);
}
```"
Java,read properties file,"    private void readPropertiesFiles() {

        if (this.messageFileWildcard.isEmpty() || !CoreParameters.LOG_RESOLUTION.get()) {
            // Skip configuration loading
            LOGGER.info(JRebirthMarkers.MESSAGE, ""Messages Loading is skipped"");

        } else {
            // Assemble the regex pattern
            final Pattern filePattern = Pattern.compile(this.messageFileWildcard + ""\\.properties"");

            // Retrieve all resources from default classpath
            final Collection<String> list = ClasspathUtility.getClasspathResources(filePattern);

            LOGGER.info(JRebirthMarkers.MESSAGE, ""{} Messages file{} found."", list.size(), list.size() > 1 ? ""s"" : """");

            for (final String rbFilename : list) {
                readPropertiesFile(rbFilename);
            }
        }
    }",Código em Conformidade,É necessário fornecer o código Java com comentários para que eu possa remover os comentários.
Java,convert decimal to hex,"	public static long convertLongArrayFromHex(char[] hex) {
		int hexLen = hex.length;
		if(hexLen < 16) throw new IllegalArgumentException(""Too few characters: "" + hexLen);
		int h = (getHex(hex[0]) << 28)
			| (getHex(hex[1]) << 24)
			| (getHex(hex[2]) << 20)
			| (getHex(hex[3]) << 16)
			| (getHex(hex[4]) << 12)
			| (getHex(hex[5]) << 8)
			| (getHex(hex[6]) << 4)
			| (getHex(hex[7]))
		;
		int l = (getHex(hex[8]) << 28)
			| (getHex(hex[9]) << 24)
			| (getHex(hex[10]) << 20)
			| (getHex(hex[11]) << 16)
			| (getHex(hex[12]) << 12)
			| (getHex(hex[13]) << 8)
			| (getHex(hex[14]) << 4)
			| (getHex(hex[15]))
		;
		return (((long)h) << 32) | (l & 0xffffffffL);
	}",Código em Conformidade,"```java
public static long convertLongArrayFromHex(char[] hex) {
	int hexLen = hex.length;
	if(hexLen < 16) throw new IllegalArgumentException(""Too few characters: "" + hexLen);
	int h = (getHex(hex[0]) << 28)
		| (getHex(hex[1]) << 24)
		| (getHex(hex[2]) << 20)
		| (getHex(hex[3]) << 16)
		| (getHex(hex[4]) << 12)
		| (getHex(hex[5]) << 8)
		| (getHex(hex[6]) << 4)
		| (getHex(hex[7]))
	;
	int l = (getHex(hex[8]) << 28)
		| (getHex(hex[9]) << 24)
		| (getHex(hex[10]) << 20)
		| (getHex(hex[11]) << 16)
		| (getHex(hex[12]) << 12)
		| (getHex(hex[13]) << 8)
		| (getHex(hex[14]) << 4)
		| (getHex(hex[15]))
	;
	return (((long)h) << 32) | (l & 0xffffffffL);
}
```"
Java,write csv,"  private static byte[] writeCsv(String[] columnHeaders, String[][] rows) throws IOException {
    try (ByteArrayOutputStream csvStream = new ByteArrayOutputStream(); OutputStreamWriter streamWriter = new OutputStreamWriter(csvStream, Charset.forName(""UTF-8""))) {
      CSVWriter csvWriter = new CSVWriter(streamWriter, ',');

      csvWriter.writeNext(columnHeaders);
      
      for (String[] row : rows) {
        csvWriter.writeNext(row);
      }

      csvWriter.close();
      
      return csvStream.toByteArray();
    }
  }",Bug Crítico,"private static byte[] writeCsv(String[] columnHeaders, String[][] rows) throws IOException {
    ByteArrayOutputStream csvStream = new ByteArrayOutputStream();
    OutputStreamWriter streamWriter = new OutputStreamWriter(csvStream, Charset.forName(""UTF-8""));
    CSVWriter csvWriter = new CSVWriter(streamWriter, ',');

    csvWriter.writeNext(columnHeaders);

    for (String[] row : rows) {
        csvWriter.writeNext(row);
    }

    csvWriter.close();
    
    return csvStream.toByteArray();
}"
Java,set working directory,"  @Override
  public void setWorkingDirectory(Path new_dir) {
    LOG.debug(""set working directory: {}"", new_dir.toString());
    storageClient.setWorkingDirectory(new_dir);
  }",Código em Conformidade,"@Override
public void setWorkingDirectory(Path new_dir) {
    if (new_dir == null) {
        throw new IllegalArgumentException(""New directory should not be null."");
    }
    LOG.debug(""set working directory: {}"", new_dir.toString());
    storageClient.setWorkingDirectory(new_dir);
}"
Java,format date,"	public static String getRFC3881Timestamp(Date date)
	{
		
		StringBuilder formattedDate = new StringBuilder(RFC3881_DATE_FORMATTER.format(date));
		formattedDate.insert((formattedDate.length()-2), ':');
		return formattedDate.toString();
	}",Código em Conformidade,"```java
public static String getRFC3881Timestamp(Date date)
{
	SimpleDateFormat RFC3881_DATE_FORMATTER = new SimpleDateFormat(""yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"");
	RFC3881_DATE_FORMATTER.setTimeZone(TimeZone.getTimeZone(""UTC""));
	
	StringBuilder formattedDate = new StringBuilder(RFC3881_DATE_FORMATTER.format(date));
	formattedDate.insert((formattedDate.length()-2), ':');
	return formattedDate.toString();
}
```"
Java,save list to file,"    public void save(@NonNull File meanFile, @NonNull File stdFile) throws IOException {
        Nd4j.saveBinary(getMean(), meanFile);
        Nd4j.saveBinary(getStd(), stdFile);
    }",Código em Conformidade,
Java,how to check if a checkbox is checked,"    public void check() {
        getDispatcher().beforeCheck(this);
        
        RemoteWebElement e = (RemoteWebElement) getElement();
        while (!e.isSelected()) {
            e.click();
        }
        if (Config.getBoolConfigProperty(ConfigProperty.ENABLE_GUI_LOGGING)) {
            logUIAction(UIActions.CHECKED);
        }
        
        getDispatcher().afterCheck(this);
    }",Código em Conformidade,"```java
public void check() {
    getDispatcher().beforeCheck(this);

    RemoteWebElement e = (RemoteWebElement) getElement();
    if (!e.isSelected()) {
        e.click();
    }
    if (Config.getBoolConfigProperty(ConfigProperty.ENABLE_GUI_LOGGING)) {
        logUIAction(UIActions.CHECKED);
    }

    getDispatcher().afterCheck(this);
}
```"
Java,how to get html of website,,Código em Conformidade,
Java,html encode string,"    public static String urlEncode(String str)
    {
        String ret = str;

        try 
        {
            ret = URLEncoder.encode(str, ""UTF-8"");
        } 
        catch (UnsupportedEncodingException e) 
        {
            logger.severe(""Failed to encode value: ""+str);
        }

        return ret;
    }",Código em Conformidade,"```java
public static String urlEncode(String str) throws UnsupportedEncodingException
{
    try 
    {
        return URLEncoder.encode(str, ""UTF-8"");
    } 
    catch (UnsupportedEncodingException e) 
    {
        logger.severe(""Failed to encode value: ""+str);
        throw e;
    }
}
```"
Java,convert a utc time to epoch,"    private ZonedDateTime epochToZonedDateTime(final double epochTime) {
        return ZonedDateTime.ofInstant(Instant.ofEpochSecond((long)epochTime), ZoneOffset.UTC);
    }",Código em Conformidade,"private long zonedDateTimeToEpoch(final ZonedDateTime zonedDateTime) {
    return zonedDateTime.toEpochSecond();
}"
Java,encrypt aes ctr mode,"  byte[] encryptData(byte[] plaintext, PasswordKey encryptionKey, PasswordKey hmacKey, byte[] iv) throws CryptorException {
    try {
      Cipher cipher = Cipher.getInstance(AES_CIPHER_ALGORITHM);
      cipher.init(Cipher.ENCRYPT_MODE, encryptionKey.getKey(), new IvParameterSpec(iv));
      byte[] ciphertext = cipher.doFinal(plaintext);

      AES256v3Ciphertext output = new AES256v3Ciphertext(encryptionKey.getSalt(),
          hmacKey.getSalt(), iv, ciphertext);

      Mac mac = Mac.getInstance(HMAC_ALGORITHM);
      mac.init(hmacKey.getKey());
      byte[] hmac = mac.doFinal(output.getDataToHMAC());
      output.setHmac(hmac);
      return output.getRawData();

    } catch (InvalidKeyException e) {
      throw new CryptorException(
          ""Caught InvalidKeyException. Do you have unlimited strength jurisdiction files installed?"",
          e);
    } catch (GeneralSecurityException e) {
      throw new CryptorException(""Failed to generate ciphertext."", e);
    }    
  }",Código em Conformidade,"```
byte[] encryptData(byte[] plaintext, PasswordKey encryptionKey, PasswordKey hmacKey, byte[] iv) throws CryptorException {
    try {
      Cipher cipher = Cipher.getInstance(AES_CIPHER_ALGORITHM);
      cipher.init(Cipher.ENCRYPT_MODE, encryptionKey.getKey(), new IvParameterSpec(iv));
      byte[] ciphertext = cipher.doFinal(plaintext);

      AES256v3Ciphertext output = new AES256v3Ciphertext(encryptionKey.getSalt(),
          hmacKey.getSalt(), iv, ciphertext);

      Mac mac = Mac.getInstance(HMAC_ALGORITHM);
      mac.init(hmacKey.getKey());
      byte[] hmac = mac.doFinal(output.getDataToHMAC());
      output.setHmac(hmac);
      return output.getRawData();

    } catch (InvalidKeyException e) {
      throw new CryptorException(
          ""Caught InvalidKeyException. Do you have unlimited strength jurisdiction files installed?"",
          e);
    } catch (GeneralSecurityException e) {
      throw new CryptorException(""Failed to generate ciphertext."", e);
    }    
  }
```"
Java,how to check if a checkbox is checked,,Código em Conformidade,"var checkbox = document.getElementById('myCheckbox');

if (checkbox.checked) {
    console.log(""A caixa de seleção está marcada."");
} else {
    console.log(""A caixa de seleção não está marcada."");
}"
Java,matrix multiply,"  public Matrix multiply (final float k)
  {
    final float pv[][] = new float [m_nRows] [m_nCols]; // product values

    // Compute values of the product.
    for (int r = 0; r < m_nRows; ++r)
    {
      for (int c = 0; c < m_nCols; ++c)
      {
        pv[r][c] = k * m_aValues[r][c];
      }
    }

    return new Matrix (pv);
  }",Código em Conformidade,"```java
public class Matrix {

  public Matrix multiply (final float k, final float[][] m_aValues) {
    int m_nRows = m_aValues.length;
    int m_nCols = m_aValues[0].length;
    final float pv[][] = new float [m_nRows] [m_nCols];

    for (int r = 0; r < m_nRows; ++r) {
      for (int c = 0; c < m_nCols; ++c) {
        pv[r][c] = k * m_aValues[r][c];
      }
    }

    return new Matrix (pv);
  }
}
```"
Java,parse command line argument,"    CommandLine parse(DefaultCommandLine cl, String[] args) {
        parseInternal(cl, args, true);
        return cl;
    }",Código em Conformidade,"```java
CommandLine parse(DefaultCommandLine cl, String[] args) {
    try {
        parseInternal(cl, args, true);
    } catch (RuntimeException e) {
        System.err.println(""Failed to parse command line arguments: "" + e.getMessage());
    }
    return cl;
}
```"
Java,convert int to bool,"    public static int convertToInt(Object value)
    {
        if (value instanceof Number)
        {
            return ((Number) value).intValue();
        }
        else if (value instanceof String)
        {
            try
            {
                return Integer.parseInt((String) value);
            }
            catch (NumberFormatException e)
            {
                throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to int"");
            }
        }
        else
        {
            throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to int"");
        }
    }",Código em Conformidade,"```java
public static boolean convertToBool(Object value)
{
    if (value instanceof Number)
    {
        return ((Number) value).intValue() != 0;
    }
    else if (value instanceof String)
    {
        try
        {
            return Integer.parseInt((String) value) != 0;
        }
        catch (NumberFormatException e)
        {
            throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to bool"");
        }
    }
    else
    {
        throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to bool"");
    }
}
```"
Java,output to html file,"    protected void renderFile(Map<String, Object> options, File f) throws IOException {
        File filtered = getFilteredVersion(f);
        boolean unfiltered;

        if (filtered == null) {
            // It was not copied.
            getLog().error(""Cannot find the filtered version of "" + f.getAbsolutePath() + "", "" +
                    ""using unprocessed file."");
            filtered = f;
            unfiltered = true;
        } else {
            // It was copied.
            unfiltered = false;
        }

        instance.renderFile(filtered, options);

        // Move the file to the expected place if not filtered
        if (unfiltered) {
            String name = filtered.getName().substring(0, filtered.getName().lastIndexOf(""."")) + "".html"";
            File output = new File(filtered.getParentFile(), name);
            if (output.isFile()) {
                // Move...
                File finalFile = getOutputFile(filtered, ""html"");
                FileUtils.moveFile(output, finalFile);
            } else {
                getLog().error(""Cannot find the output file for "" + filtered.getAbsolutePath());
            }
        }
    }",Código em Conformidade,"```java
protected void renderFile(Map<String, Object> options, File f) throws IOException {
    File filtered = getFilteredVersion(f);
    
    if (filtered == null) {
        getLog().error(""Cannot find the filtered version of "" + f.getAbsolutePath() + "", using unprocessed file."");
        filtered = f;
    }
    
    instance.renderFile(filtered, options);
    moveIfUnfiltered(filtered);
}

private void moveIfUnfiltered(File filtered) throws IOException {
    String name = filtered.getName().substring(0, filtered.getName().lastIndexOf(""."")) + "".html"";
    File output = new File(filtered.getParentFile(), name);
    
    if (output.isFile()) {
        File finalFile = getOutputFile(filtered, ""html"");
        FileUtils.moveFile(output, finalFile);
    } else {
        getLog().error(""Cannot find the output file for "" + filtered.getAbsolutePath());
    }
}
```"
Java,convert html to pdf,"    public byte[] render(String html) throws RenderException {
        try {
            log.debug(""Start rendering pdf from html with size of "" + html.length());
            ByteArrayOutputStream baos = new ByteArrayOutputStream();
            PdfSaucerRenderer renderer = provider.getRenderer(html);

            log.debug(""Renderer prepared"");

            renderer.createPDF(baos);
            renderer.finishPDF();

            log.debug(""pdf rendered"");
            return baos.toByteArray();
        } catch (IOException|DocumentException e) {
            throw new RenderException(""Cannot render pdf"", e, ""pdf"");
        }
    }",Código em Conformidade,
Java,convert a utc time to epoch,"	private static DateTimeValue convert(DateTimeValue time, TimeZone zone, int sense) {
		if (zone == null || zone.hasSameRules(ZULU) || time.year() == 0) {
			return time;
		}

		TimeZone epochTz, dateTimeValueTz;
		if (sense > 0) {
			//time is in UTC; convert to time in zone provided
			epochTz = ZULU;
			dateTimeValueTz = zone;
		} else {
			//time is in local time; convert to UTC
			epochTz = zone;
			dateTimeValueTz = ZULU;
		}

		long epochSeconds = secsSinceEpoch(time);
		long timetMillis = timetMillisFromEpochSecs(epochSeconds, epochTz);
		return toDateTimeValue(timetMillis, dateTimeValueTz);
	}",Código em Conformidade,"```java
    private static long convertToEpoch(DateTimeValue time) {
        TimeZone utc = TimeZone.getTimeZone(""UTC"");
        Calendar cal = Calendar.getInstance(utc);
        cal.set(time.year(), time.month(), time.day(), time.hour(), time.minute(), time.second());
        return cal.getTimeInMillis() / 1000;
    }
```"
Java,underline text in label widget,"    private void cut(XYChartLabel label, double maxWidth, double maxHeight, double rotation)
    {
        String text = label.getLabel().getText();

        // Cut text.
        cutLabelText(label, maxWidth - 5, maxHeight - 5, rotation);

        String cutText = label.getLabel().getText();

        // If text is cut, add suffix characters.
        if (text.length() != cutText.length())
        {
            label.getLabel().setText(label.getLabel().getText() + ""..."");
        }
        // TODO: Animate.
        // animate(label, text, cutText, originalRotation);

        // Move label to top.
        label.getLabelContainer().moveToTop();
    }",Código em Conformidade,"```java
private void cut(XYChartLabel label, double maxWidth, double maxHeight, double rotation)
{
    String text = label.getLabel().getText();

    cutLabelText(label, maxWidth - 5, maxHeight - 5, rotation);

    String cutText = label.getLabel().getText();

    if (text.length() != cutText.length())
    {
        label.getLabel().setText(label.getLabel().getText() + ""..."");
    }

    animate(label, text, cutText, rotation);

    label.getLabelContainer().moveToTop();
}

private void cutLabelText(XYChartLabel label, double maxWidth, double maxHeight, double rotation) {
}

private void animate(XYChartLabel label, String text, String cutText, double rotation) {
}
```"
Java,connect to sql,"    private void restoreConnect(DBConnect connect) {
        try {
            connect.getConnect().setAutoCommit(true);
            connect.getConnect().setTransactionIsolation(source.getConfig().getDefaultTranscationLevel());
        } catch (SQLException e) {
            e.printStackTrace();
        }
        connects.push((JDBCConnect) connect);
    }",Código em Conformidade,"```java
private void restoreConnect(DBConnect connect) {
    if(connect != null){
        try {
            connect.getConnect().setAutoCommit(true);
            connect.getConnect().setTransactionIsolation(source.getConfig().getDefaultTranscationLevel());
        } catch (SQLException e) {
            e.printStackTrace();
        }
        connects.push((JDBCConnect) connect);
    } else {
        System.out.println(""Conexão nula fornecida, não pode ser restaurada."");
    }
}
```"
Java,convert html to pdf,"    private CmsSearchIndexSource createDummyIndexSource() {

        CmsSearchIndexSource result = new CmsSearchIndexSource();
        result.setName(""default"");
        result.setIndexerClassName(""org.opencms.search.CmsVfsIndexer"");
        result.addDocumentType(""html"");
        result.addDocumentType(""generic"");
        result.addDocumentType(""pdf"");
        // add search index source to config:
        m_searchManager.addSearchIndexSource(result);
        return result;
    }",Código em Conformidade,"import com.itextpdf.html2pdf.HtmlConverter;

public void convertHtmlToPdf(String html, String dest) throws IOException {
    HtmlConverter.convertToPdf(new FileInputStream(html), new FileOutputStream(dest));
}"
Java,string similarity levenshtein,"    public static double stringSimilarity( String s1, String s2, SIMILARITY_STRATS method ) {
        switch ( method ) {
            case DICE:
            default: return stringSimilarityDice( s1, s2 );
        }
    }",Código em Conformidade,"```java
public enum SIMILARITY_STRATS {
    DICE,
    LEVENSHTEIN
}

public static double stringSimilarity(String s1, String s2, SIMILARITY_STRATS method) {
    switch (method) {
        case DICE:
            return stringSimilarityDice(s1, s2);
        case LEVENSHTEIN:
            return stringSimilarityLevenshtein(s1, s2);
        default:
            throw new IllegalArgumentException(""Unknown method: "" + method);
    }
}

public static double stringSimilarityDice(String s1, String s2) {
}

public static double stringSimilarityLevenshtein(String s1, String s2) {
}
```"
Java,convert string to number,,Código em Conformidade,"O enunciado pediu para remover os comentários de um código Java, mas o código fornecido está em Python. De qualquer maneira, não há comentários no texto fornecido."
Java,custom http error response,"    protected boolean setCustom(Boolean isResponse, String pathName, String custom) {
        // first remove the custom entry for this path if it is the custom request
        if (!isResponse) {
            this.removeCustomRequest(pathName);
        }

        // now add it(-1 is the custom response identifier)
        if (isResponse) {
            this.addMethodToResponseOverride(pathName, ""-1"");
        } else {
            this.addMethodToResponseOverride(pathName, ""-2"");
        }

        // now set the string
        String command = ""customResponse"";
        if (!isResponse) {
            command = ""customRequest"";
        }

        try {
            BasicNameValuePair[] params = {
                new BasicNameValuePair(command, custom),
                new BasicNameValuePair(""profileIdentifier"", this._profileName)
            };

            JSONObject response = new JSONObject(doPost(BASE_PATH + uriEncode(pathName), params));

            return true;
        } catch (Exception e) {
            e.printStackTrace();
        }

        return false;
    }",Código em Conformidade,"```java
protected boolean setCustom(Boolean isResponse, String pathName, String custom) {
    if (!isResponse) {
        this.removeCustomRequest(pathName);
    }

    if (isResponse) {
        this.addMethodToResponseOverride(pathName, ""-1"");
    } else {
        this.addMethodToResponseOverride(pathName, ""-2"");
    }

    String command = ""customResponse"";
    if (!isResponse) {
        command = ""customRequest"";
    }

    try {
        BasicNameValuePair[] params = {
            new BasicNameValuePair(command, custom),
            new BasicNameValuePair(""profileIdentifier"", this._profileName)
        };

        JSONObject response = new JSONObject(doPost(BASE_PATH + uriEncode(pathName), params));

        return true;
    } catch (Exception e) {
        this.addErrorToLog(e.getMessage());
        return false;
    }
}
```"
Java,save list to file,"    public void save(File file) throws IOException {
        try (FileOutputStream fout = new FileOutputStream(file)) {
            save(fout);
        }
    }",Bug Crítico,"```java
public void save(FileOutputStream fout, List<String> list) throws IOException {
    try (BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fout))) {
        for(String s: list){
            bw.write(s);
            bw.newLine();
        }
    }
}

public void save(File file, List<String> list) throws IOException {
    try (FileOutputStream fout = new FileOutputStream(file)) {
        save(fout, list);
    }
}
```"
Java,how to make the checkbox checked,"    public static boolean isCheckBoxChecked(String text) throws Exception {
        return Client.getInstance().map(Constants.ROBOTIUM_SOLO, ""isCheckBoxChecked"", text).getBoolean(0);
    }",Código em Conformidade,"```java
public void setCheckBoxChecked(String text, boolean value) throws Exception {
    CheckBox checkbox = (CheckBox) Client.getInstance().map(Constants.ROBOTIUM_SOLO, ""getView"", text).getObject(0);
    checkbox.setChecked(value);
}
```"
Java,get inner html,"    @SuppressWarnings(""unused"")
    private String extractFirst(Map data, String field, String property) {
        List<Map> inner = (List<Map>) data.get(field);
        if (inner == null || inner.isEmpty()) {
            return null;
        }
        return (String) inner.get(0).get(property);
    }",Código em Conformidade,"```java
@SuppressWarnings(""unchecked"")
private String extractFirst(Map data, String field, String property) {
    Object innerObject = data.get(field);
    if (innerObject instanceof List) {
        List<Map> inner = (List<Map>) innerObject;
        if (!inner.isEmpty()) {
            Map firstMap = inner.get(0);
            if (firstMap != null) {
                Object propertyObject = firstMap.get(property);
                if (propertyObject instanceof String) {
                    return (String) propertyObject;
                }
            }
        }
    }
    return null;
}
```"
Java,deducting the median from each column,"    private void calcMedian(List<Double> data) {
	if ((data.size() % 2) == 0) {
	    median = data.get(data.size() / 2);
	} else {
	    median = data.get(data.size() / 2 - 1);
	    median += data.get(data.size() / 2);
	    median /= 2.0;
	}
    }",Código em Conformidade,"private double calcMedian(List<Double> data) {
    Collections.sort(data);
    double median;
    int size = data.size();
    if ((size % 2) == 0) {
        median = (data.get(size / 2) + data.get(size / 2 - 1)) / 2.0;
    } else {
        median = data.get(size / 2);
    }
    return median;
}"
Java,underline text in label widget,"    public void setLabelText(String text) {
        mLabelText = text;
        TextView labelView = getLabelView();
        if (labelView != null) {
            labelView.setText(text);
        }
    }",Código em Conformidade,"public void setLabelText(String text) {
    mLabelText = text;
    TextView labelView = getLabelView();
    if (labelView != null) {
        labelView.setText(text);
        labelView.setPaintFlags(labelView.getPaintFlags() | Paint.UNDERLINE_TEXT_FLAG);
    }
}"
Java,how to read .csv file in an efficient way?,"    private void open() {
        if (vcfReader == null) {
            if (indexPath != null) {
                vcfReader = new VCFFileReader(dataPath.toFile(), indexPath.toFile());
            } else {
                vcfReader = new VCFFileReader(dataPath.toFile());
            }
        }
    }",Código em Conformidade,"```java
import com.opencsv.CSVReader;
import java.io.FileReader;
import java.io.IOException;

public class CSVFileReader {
    private CSVReader reader;

    public void open(String filepath) {
        try {
            reader = new CSVReader(new FileReader(filepath));
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public void readAndPrint() {
        String[] nextLine;
        try {
            while ((nextLine = reader.readNext()) != null) {
                for (String token : nextLine) {
                    System.out.print(token + "" "");
                }
                System.out.print(""\n"");
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```"
Java,confusion matrix,"	private void makeConfusionMatrix(Map<String, String> actual, Map<String, String> predicted) {
		confusion = new int[categories.size()][categories.size()];
		for (String k: predicted.keySet()) {
			for (int i=0; i<categories.size(); ++i) {
				String ci = categories.get(i);
				for (int j=0; j<categories.size(); ++j) {
					String cj = categories.get(j);
					if (ci.equals(actual.get(k)) && cj.equals(predicted.get(k))) {
						confusion[i][j]++;
					}
				}
			}
		}
	}",Código em Conformidade,"```java
private void makeConfusionMatrix(Map<String, String> actual, Map<String, String> predicted) {
    confusion = new int[categories.size()][categories.size()];
    Map<String, Integer> categoryIndices = new HashMap<>();

    for (int i = 0; i < categories.size(); i++) {
        categoryIndices.put(categories.get(i), i);
    }

    for (String k : predicted.keySet()) {
        String actualCategory = actual.get(k);
        String predictedCategory = predicted.get(k);

        if (actualCategory != null && predictedCategory != null) {
            Integer actualIndex = categoryIndices.get(actualCategory);
            Integer predictedIndex = categoryIndices.get(predictedCategory);

            if (actualIndex != null && predictedIndex != null) {
                confusion[actualIndex][predictedIndex]++;
            }
        }
    }
}
```"
Java,heatmap from 3d coordinates,"    private Coordinate[] getOrderedNodes( Coordinate c, Coordinate coordinate1, Coordinate coordinate2, Coordinate coordinate3 ) {
        double d = distance3d(c, coordinate1, null);
        Coordinate nearest = coordinate1;
        Coordinate c2 = coordinate2;
        Coordinate c3 = coordinate3;

        double d2 = distance3d(c, coordinate2, null);
        if (d2 < d) {
            nearest = coordinate2;
            d = d2;
            c2 = coordinate1;
            c3 = coordinate3;
        }
        double d3 = distance3d(c, coordinate3, null);
        if (d3 < d) {
            nearest = coordinate3;
            c2 = coordinate1;
            c3 = coordinate2;
        }
        return new Coordinate[]{nearest, c2, c3};
    }",Código em Conformidade,"```java
private Coordinate[] getOrderedNodes( Coordinate c, Coordinate coordinate1, Coordinate coordinate2, Coordinate coordinate3 ) {
    double d1 = distance3d(c, coordinate1);
    double d2 = distance3d(c, coordinate2);
    double d3 = distance3d(c, coordinate3);

    List<Coordinate> coordinates = Arrays.asList(coordinate1, coordinate2, coordinate3);
    coordinates.sort(Comparator.comparingDouble(c::distance3d));

    return new Coordinate[]{coordinates.get(0), coordinates.get(1), coordinates.get(2)};
}
```"
Java,buffered file reader read text,"    public static String readTextFile(File file) throws IOException
    {
        //create reader to file (with default encoding)
        InputStream inputStream=new FileInputStream(file);
        Reader reader=IOHelper.createReader(inputStream,null);

        //read text
        String text=IOHelper.readTextStream(reader);
        
        return text;
    }",Código em Conformidade,"```java
import java.io.*;

public static String readTextFile(File file) throws IOException
{
    InputStream inputStream = new FileInputStream(file);
    BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));

    StringBuilder text = new StringBuilder();
    String line;
    while ((line = reader.readLine()) != null) {
        text.append(line);
        text.append(System.lineSeparator());
    }
    reader.close();

    return text.toString().trim();
}
```"
Java,sorting multiple arrays based on another arrays sorted order,"    @Override
    public void sortAtomContainers(final Comparator<IAtomContainer> comparator) {

        // need to use boxed primitives as we can't customise sorting of int primitives
        Integer[] indexes = new Integer[atomContainerCount];
        for (int i = 0; i < indexes.length; i++)
            indexes[i] = i;

        // proxy the index comparison to the atom container comparator
        Arrays.sort(indexes, new Comparator<Integer>() {

            @Override
            public int compare(Integer o1, Integer o2) {
                return comparator.compare(atomContainers[o1], atomContainers[o2]);
            }
        });

        // copy the original arrays (we could modify in place with swaps but this is cleaner)
        IAtomContainer[] containersTmp = Arrays.copyOf(atomContainers, indexes.length);
        Double[] multipliersTmp = Arrays.copyOf(multipliers, indexes.length);

        // order the arrays based on the order of the indices
        for (int i = 0; i < indexes.length; i++) {
            atomContainers[i] = containersTmp[indexes[i]];
            multipliers[i] = multipliersTmp[indexes[i]];
        }

    }",Código em Conformidade,"Você não forneceu qualquer código Java para eu remover os comentários. Por favor, forneça o código que você precisa de ajuda."
Java,concatenate several file remove header lines,"    public static String concatFilePath(boolean _includeTrailingDelimiter, String..._parts) {
        if (_parts == null) {
            return null;
        }
        StringBuilder allParts = new StringBuilder();

        for (int i = 0; i < _parts.length; i++) {
            if (_parts[i] == null) {
                continue;
            }
            allParts.append(_parts[i]);

            if (!_parts[i].endsWith(File.separator)) {
                allParts.append(File.separator);
            }
        }

        if (!_includeTrailingDelimiter && allParts.length() > 0) {
            return allParts.substring(0, allParts.lastIndexOf(File.separator));
        }

        return allParts.toString();
    }",Código em Conformidade,"```java
import java.io.*;
import java.nio.file.*;
import java.util.stream.*;

public class Main {
    public static void main(String[] args) throws IOException {
        File[] files = {new File(""file1.txt""), new File(""file2.txt""), new File(""file3.txt"")};
        concatenateFiles(files);
    }

    public static void concatenateFiles(File... files) throws IOException {
        PrintWriter pw = new PrintWriter(""output.txt"");

        for (File file : files) {
            List<String> lines = Files.readAllLines(file.toPath()).stream()
                                      .skip(1)
                                      .collect(Collectors.toList());
            for(String line : lines) {
                pw.println(line);
            }
        }
        pw.close();
    }
}
```"
Java,finding time elapsed using a timer,"    @Override
    public void onTimerStop(Timer timer) {
        String name = timer.name();
        long ns = timer.ns();
        logger(name).trace(""Timer[%s] stopped. Time elapsed: %sns"", name, ns);
        onTimerStop_(name, ns);
    }",Código em Conformidade,"@Override
public void onTimerStop(Timer timer) {
    String name = timer.name();
    long ns = timer.ns();
    logger(name).trace(String.format(""Timer[%s] stopped. Time elapsed: %sns"", name, ns));
    onTimerStop_(name, ns);
}"
Java,unique elements,"    public static String createUniqueName(XNameAccess _xElementContainer, String _sElementName) {
        boolean bElementexists = true;
        int i = 1;
        String sIncSuffix = """";
        String BaseName = _sElementName;
        while (bElementexists) {
            bElementexists = _xElementContainer.hasByName(_sElementName);
            if (bElementexists) {
                i += 1;
                _sElementName = BaseName + Integer.toString(i);
            }
        }
        return _sElementName;
    }",Código em Conformidade,
Java,parse json file,"  protected void parseCompartmentDefinitionProperties(JsonObject json, CompartmentDefinition res) throws IOException, FHIRFormatError {
    parseDomainResourceProperties(json, res);
    if (json.has(""url""))
      res.setUrlElement(parseUri(json.get(""url"").getAsString()));
    if (json.has(""_url""))
      parseElementProperties(json.getAsJsonObject(""_url""), res.getUrlElement());
    if (json.has(""name""))
      res.setNameElement(parseString(json.get(""name"").getAsString()));
    if (json.has(""_name""))
      parseElementProperties(json.getAsJsonObject(""_name""), res.getNameElement());
    if (json.has(""title""))
      res.setTitleElement(parseString(json.get(""title"").getAsString()));
    if (json.has(""_title""))
      parseElementProperties(json.getAsJsonObject(""_title""), res.getTitleElement());
    if (json.has(""status""))
      res.setStatusElement(parseEnumeration(json.get(""status"").getAsString(), Enumerations.PublicationStatus.NULL, new Enumerations.PublicationStatusEnumFactory()));
    if (json.has(""_status""))
      parseElementProperties(json.getAsJsonObject(""_status""), res.getStatusElement());
    if (json.has(""experimental""))
      res.setExperimentalElement(parseBoolean(json.get(""experimental"").getAsBoolean()));
    if (json.has(""_experimental""))
      parseElementProperties(json.getAsJsonObject(""_experimental""), res.getExperimentalElement());
    if (json.has(""date""))
      res.setDateElement(parseDateTime(json.get(""date"").getAsString()));
    if (json.has(""_date""))
      parseElementProperties(json.getAsJsonObject(""_date""), res.getDateElement());
    if (json.has(""publisher""))
      res.setPublisherElement(parseString(json.get(""publisher"").getAsString()));
    if (json.has(""_publisher""))
      parseElementProperties(json.getAsJsonObject(""_publisher""), res.getPublisherElement());
    if (json.has(""contact"")) {
      JsonArray array = json.getAsJsonArray(""contact"");
      for (int i = 0; i < array.size(); i++) {
        res.getContact().add(parseContactDetail(array.get(i).getAsJsonObject()));
      }
    };
    if (json.has(""description""))
      res.setDescriptionElement(parseMarkdown(json.get(""description"").getAsString()));
    if (json.has(""_description""))
      parseElementProperties(json.getAsJsonObject(""_description""), res.getDescriptionElement());
    if (json.has(""purpose""))
      res.setPurposeElement(parseMarkdown(json.get(""purpose"").getAsString()));
    if (json.has(""_purpose""))
      parseElementProperties(json.getAsJsonObject(""_purpose""), res.getPurposeElement());
    if (json.has(""useContext"")) {
      JsonArray array = json.getAsJsonArray(""useContext"");
      for (int i = 0; i < array.size(); i++) {
        res.getUseContext().add(parseUsageContext(array.get(i).getAsJsonObject()));
      }
    };
    if (json.has(""jurisdiction"")) {
      JsonArray array = json.getAsJsonArray(""jurisdiction"");
      for (int i = 0; i < array.size(); i++) {
        res.getJurisdiction().add(parseCodeableConcept(array.get(i).getAsJsonObject()));
      }
    };
    if (json.has(""code""))
      res.setCodeElement(parseEnumeration(json.get(""code"").getAsString(), CompartmentDefinition.CompartmentType.NULL, new CompartmentDefinition.CompartmentTypeEnumFactory()));
    if (json.has(""_code""))
      parseElementProperties(json.getAsJsonObject(""_code""), res.getCodeElement());
    if (json.has(""search""))
      res.setSearchElement(parseBoolean(json.get(""search"").getAsBoolean()));
    if (json.has(""_search""))
      parseElementProperties(json.getAsJsonObject(""_search""), res.getSearchElement());
    if (json.has(""resource"")) {
      JsonArray array = json.getAsJsonArray(""resource"");
      for (int i = 0; i < array.size(); i++) {
        res.getResource().add(parseCompartmentDefinitionCompartmentDefinitionResourceComponent(array.get(i).getAsJsonObject(), res));
      }
    };
  }",Código em Conformidade,
Java,how to get html of website,"  @GET
  @Produces(MediaType.TEXT_HTML)
  public Response errorHTML(@Context HttpServletRequest request) {
    StringBuilder html = new StringBuilder(1000);

    html.append(""<!DOCTYPE html>"" +
        ""<html><head><title>Error</title>"" +
        ""<style type=\""text/css\"">"" +
        ""body{background-color:#01596e} body,p{font-family:monospace;color:white}"" +
        ""</style></head>"" +
        ""<body>"");

    html.append(""<p><strong>Error"");
    Number statusCode = (Number) request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);
    if (statusCode != null) {
      html.append(' ').append(statusCode);
    }
    html.append(""</strong>"");
    Object requestURI = request.getAttribute(RequestDispatcher.ERROR_REQUEST_URI);
    if (requestURI != null) {
      html.append("" : "");
      html.append(JspHelper.escapeXml(requestURI));
    }
    html.append(""</p>"");

    Object message = request.getAttribute(RequestDispatcher.ERROR_MESSAGE);
    if (message != null) {
      html.append(""<p><strong>"");
      html.append(JspHelper.escapeXml(message));
      html.append(""</strong></p>"");
    }

    Throwable throwable = (Throwable) request.getAttribute(RequestDispatcher.ERROR_EXCEPTION);
    if (throwable != null) {
      StringWriter sw = new StringWriter();
      throwable.printStackTrace(new PrintWriter(sw));
      html.append(""<p><pre>"");
      html.append(JspHelper.escapeXml(sw.toString()));
      html.append(""</pre></p>"");
    }

    html.append(""</body></html>"");

    Response.Status finalStatus = statusCode == null ?
        Response.Status.OK : Response.Status.fromStatusCode(statusCode.intValue());
    return Response.status(finalStatus).entity(html.toString()).build();
  }",Código em Conformidade,"```java
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import java.io.IOException;

public class Main {
    public static void main(String[] args) {
        try {
            Document doc = Jsoup.connect(""http://www.example.com"").get();
            String html = doc.html();
            System.out.println(html);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```"
Java,how to check if a checkbox is checked,"    protected JCheckBox addCheckBox(final E item, final boolean checked) {
        final String name = getName(item);
        DCCheckBox<E> checkBox = _checkBoxes.get(name);
        if (checkBox != null) {
            checkBox.setSelected(checked);
            return checkBox;
        }
        checkBox = new DCCheckBox<>(name, checked);
        checkBox.setValue(item);
        checkBox.setOpaque(false);
        checkBox.addListener(_changeListener);
        _checkBoxes.put(name, checkBox);
        add(checkBox);

        updateVisibility();
        updateUI();

        return checkBox;
    }",Código em Conformidade,"```java
    protected boolean isCheckBoxSelected(final E item) {
        final String name = getName(item);
        DCCheckBox<E> checkBox = _checkBoxes.get(name);
        if (checkBox != null) {
            return checkBox.isSelected();
        }
        return false;
    }
```"
Java,how to get html of website,"  @Nullable
  public static IHCNode createLinkedWebsite (@Nullable final String sWebsite, @Nullable final HC_Target aTarget)
  {
    if (StringHelper.hasNoText (sWebsite))
      return null;

    if (!URLValidator.isValid (sWebsite))
      return new HCTextNode (sWebsite);

    return new HCA (new SimpleURL (sWebsite)).setTarget (aTarget).addChild (sWebsite);
  }",Código em Conformidade,
Java,k means clustering,"  public double evaluateClustering(Database db, Relation<? extends NumberVector> rel, Clustering<?> c) {
    List<? extends Cluster<?>> clusters = c.getAllClusters();
    NumberVector[] centroids = new NumberVector[clusters.size()];
    int ignorednoise = centroids(rel, clusters, centroids, noiseOption);

    MeanVariance mssil = new MeanVariance();

    Iterator<? extends Cluster<?>> ci = clusters.iterator();
    for(int i = 0; ci.hasNext(); i++) {
      Cluster<?> cluster = ci.next();
      if(cluster.size() <= 1) {
        // As suggested in Rousseeuw, we use 0 for singletons.
        mssil.put(0., cluster.size());
        continue;
      }
      if(cluster.isNoise()) {
        switch(noiseOption){
        case IGNORE_NOISE:
          continue; // Ignore elements
        case TREAT_NOISE_AS_SINGLETONS:
          // As suggested in Rousseeuw, we use 0 for singletons.
          mssil.put(0., cluster.size());
          continue;
        case MERGE_NOISE:
          break; // Treat as cluster below
        }
      }

      // Cluster center:
      final NumberVector center = centroids[i];
      assert (center != null);
      for(DBIDIter it = cluster.getIDs().iter(); it.valid(); it.advance()) {
        NumberVector obj = rel.get(it);
        // a: Distance to own centroid
        double a = distance.distance(center, obj);

        // b: Distance to other clusters centroids:
        double min = Double.POSITIVE_INFINITY;
        Iterator<? extends Cluster<?>> cj = clusters.iterator();
        for(int j = 0; cj.hasNext(); j++) {
          Cluster<?> ocluster = cj.next();
          if(i == j) {
            continue;
          }
          NumberVector other = centroids[j];
          if(other == null) { // Noise!
            switch(noiseOption){
            case IGNORE_NOISE:
              continue;
            case TREAT_NOISE_AS_SINGLETONS:
              // Treat each object like a centroid!
              for(DBIDIter it2 = ocluster.getIDs().iter(); it2.valid(); it2.advance()) {
                double dist = distance.distance(rel.get(it2), obj);
                min = dist < min ? dist : min;
              }
              continue;
            case MERGE_NOISE:
              break; // Treat as cluster below, but should not be reachable.
            }
          }
          // Clusters: use centroid.
          double dist = distance.distance(other, obj);
          min = dist < min ? dist : min;
        }

        // One 'real' cluster only?
        min = min < Double.POSITIVE_INFINITY ? min : a;
        mssil.put((min - a) / (min > a ? min : a));
      }
    }

    double penalty = 1.;
    // Only if {@link NoiseHandling#IGNORE_NOISE}:
    if(penalize && ignorednoise > 0) {
      penalty = (rel.size() - ignorednoise) / (double) rel.size();
    }
    final double meanssil = penalty * mssil.getMean();
    final double stdssil = penalty * mssil.getSampleStddev();
    if(LOG.isStatistics()) {
      LOG.statistics(new StringStatistic(key + "".simplified-silhouette.noise-handling"", noiseOption.toString()));
      if(ignorednoise > 0) {
        LOG.statistics(new LongStatistic(key + "".simplified-silhouette.ignored"", ignorednoise));
      }
      LOG.statistics(new DoubleStatistic(key + "".simplified-silhouette.mean"", meanssil));
      LOG.statistics(new DoubleStatistic(key + "".simplified-silhouette.stddev"", stdssil));
    }

    EvaluationResult ev = EvaluationResult.findOrCreate(db.getHierarchy(), c, ""Internal Clustering Evaluation"", ""internal evaluation"");
    MeasurementGroup g = ev.findOrCreateGroup(""Distance-based Evaluation"");
    g.addMeasure(""Simp. Silhouette +-"" + FormatUtil.NF2.format(stdssil), meanssil, -1., 1., 0., false);
    db.getHierarchy().resultChanged(ev);
    return meanssil;
  }",Código em Conformidade,
Java,concatenate several file remove header lines,"    public static void concatenate(List<File> files, File concatenatedFile) {

        BufferedWriter writer;
        try {
            writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(concatenatedFile.getAbsoluteFile(),
                    false), DataUtilDefaults.charSet));

            FileInputStream inputStream;
            for(File input : files) {
                inputStream = new FileInputStream(input);
                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream, ""UTF-8""));
                String line;
                while((line = reader.readLine()) != null) {
                    writer.write(line + DataUtilDefaults.lineTerminator);
                }
                inputStream.close();
            }
            writer.flush();
            writer.close();
        } catch (UnsupportedEncodingException e) {
            throw new DataUtilException(e);
        } catch (FileNotFoundException e) {
            throw new DataUtilException(e);
        } catch (IOException e) {
            throw new DataUtilException(e);
        }
    }",Código em Conformidade,"public static void concatenate(List<File> files, File concatenatedFile) {

    BufferedWriter writer;
    try {
        writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(concatenatedFile.getAbsoluteFile(),
                false), DataUtilDefaults.charSet));

        FileInputStream inputStream;
        boolean firstFile = true;
        for(File input : files) {
            inputStream = new FileInputStream(input);
            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream, ""UTF-8""));
            String line;
            while((line = reader.readLine()) != null) {
                if (!firstFile && reader.getLineNumber() == 1) continue;
                writer.write(line + DataUtilDefaults.lineTerminator);
            }
            firstFile = false;
            inputStream.close();
        }
        writer.flush();
        writer.close();
    } catch (UnsupportedEncodingException e) {
        throw new DataUtilException(e);
    } catch (FileNotFoundException e) {
        throw new DataUtilException(e);
    } catch (IOException e) {
        throw new DataUtilException(e);
    }
}"
Java,how to get database table name,"    @Override
    protected Void doInBackground(String... arg0) {

        act.printSampleStartInfo(""TableBasics"");

        try {
            // Setup the cloud storage account.
            CloudStorageAccount account = CloudStorageAccount
                    .parse(MainActivity.storageConnectionString);

            // Create a table service client.
            tableClient = account.createCloudTableClient();

            // Retrieve a reference to a table.
            // Append a random UUID to the end of the table name so that this
            // sample can be run more than once in quick succession.
            table = tableClient.getTableReference(tableName
                    + UUID.randomUUID().toString().replace(""-"", """"));

            // Create the table if it doesn't already exist.
            table.createIfNotExists();

            // Illustrates how to list the tables.
            this.BasicListing();

            // Illustrates how to form and execute a single insert operation.
            this.BasicInsertEntity();

            // Illustrates how to form and execute a batch operation.
            this.BasicBatch();

            // Illustrates how to form and execute a query operation.
            this.BasicQuery();

            // Illustrates how to form and execute an upsert operation.
            this.BasicUpsert();

            // Illustrates how to form and execute an entity delete operation.
            this.BasicDeleteEntity();

            // Delete the table.
            table.deleteIfExists();

        } catch (Throwable t) {
            act.printException(t);
        }

        act.printSampleCompleteInfo(""TableBasics"");

        return null;
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,hash set for counting distinct elements,"    public ImmutableBag<T> newWithout(T element)
    {
        int elementIndex = ArrayIterate.detectIndexWith(this.keys, Predicates2.equal(), element);
        if (elementIndex > -1)
        {
            int distinctItemCount = this.sizeDistinct() - (this.counts[elementIndex] == 1 ? 1 : 0);
            T[] newKeys = (T[]) new Object[distinctItemCount];
            int[] newCounts = new int[distinctItemCount];
            if (distinctItemCount == this.sizeDistinct())
            {
                System.arraycopy(this.keys, 0, newKeys, 0, distinctItemCount);
                System.arraycopy(this.counts, 0, newCounts, 0, distinctItemCount);
                newCounts[elementIndex]--;
            }
            else
            {
                System.arraycopy(this.keys, 0, newKeys, 0, elementIndex);
                System.arraycopy(this.counts, 0, newCounts, 0, elementIndex);
                System.arraycopy(this.keys, elementIndex + 1, newKeys, elementIndex, newKeys.length - elementIndex);
                System.arraycopy(this.counts, elementIndex + 1, newCounts, elementIndex, newCounts.length - elementIndex);
            }
            return new ImmutableArrayBag<T>(newKeys, newCounts);
        }
        return this;
    }",Código em Conformidade,
Java,converting uint8 array to image,"    private BufferedImage to16Bit1ComponentGrayScale(int[][] decoded, int precision, int width, int height) {
        BufferedImage image;
        if (precision == 16) {
            image = new BufferedImage(width, height, BufferedImage.TYPE_USHORT_GRAY);
        }
        else {
            ColorModel colorModel = new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_GRAY), new int[] {precision}, false, false, Transparency.OPAQUE, DataBuffer.TYPE_USHORT);
            image = new BufferedImage(colorModel, colorModel.createCompatibleWritableRaster(width, height), colorModel.isAlphaPremultiplied(), null);
        }

        short[] imageBuffer = ((DataBufferUShort) image.getRaster().getDataBuffer()).getData();

        for (int i = 0; i < imageBuffer.length; i++) {
            imageBuffer[i] = (short) decoded[0][i];
        }

        return image;
    }",Código em Conformidade,"```java
private BufferedImage to16Bit1ComponentGrayScale(int[][] decoded, int precision, int width, int height) {
    BufferedImage image;
    if (precision == 16) {
        image = new BufferedImage(width, height, BufferedImage.TYPE_USHORT_GRAY);
    }
    else {
        ColorModel colorModel = new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_GRAY), new int[] {precision}, false, false, Transparency.OPAQUE, DataBuffer.TYPE_USHORT);
        image = new BufferedImage(colorModel, colorModel.createCompatibleWritableRaster(width, height), colorModel.isAlphaPremultiplied(), null);
    }

    short[] imageBuffer = ((DataBufferUShort) image.getRaster().getDataBuffer()).getData();

    int k = 0;
    for (int i = 0; i < decoded.length; i++) {
        for (int j = 0; j < decoded[i].length; j++) {
            imageBuffer[k] = (short) decoded[i][j];
            k++;
        }
    }

    return image;
}
```"
Java,converting uint8 array to image,"    @SuppressWarnings({""rawtypes"", ""unchecked""})
    protected Object transform(Object result, QueryResultMapper resultMapper) {
        Object actualResult = null;
        if (result instanceof Collection) {

            if (ProcessInstanceCustomDesc.class.isAssignableFrom(resultMapper.getType())) {

                logger.debug(""Converting collection of ProcessInstanceCustomDesc to ProcessInstanceCustomList"");
                actualResult = convertToProcessInstanceCustomVarsList((Collection<ProcessInstanceCustomDesc>) result);
            } else if (ProcessInstanceWithVarsDesc.class.isAssignableFrom(resultMapper.getType())) {

                logger.debug(""Converting collection of ProcessInstanceWithVarsDesc to ProcessInstanceList"");
                actualResult = convertToProcessInstanceWithVarsList((Collection<ProcessInstanceWithVarsDesc>) result);
            } else if (ProcessInstanceDesc.class.isAssignableFrom(resultMapper.getType())) {

                logger.debug(""Converting collection of ProcessInstanceDesc to ProcessInstanceList"");
                actualResult = convertToProcessInstanceList((Collection<ProcessInstanceDesc>) result);
            } else if (UserTaskInstanceWithVarsDesc.class.isAssignableFrom(resultMapper.getType())) {

                logger.debug(""Converting collection of UserTaskInstanceWithVarsDesc to TaskInstanceList"");
                actualResult = convertToTaskInstanceWithVarsList((Collection<UserTaskInstanceWithVarsDesc>) result);
            } else if (UserTaskInstanceWithPotOwnerDesc.class.isAssignableFrom(resultMapper.getType())) {

                logger.debug(""Converting collection of UserTaskInstanceWithPotOwnerDesc to TaskInstanceList"");
                actualResult = convertToTaskInstanceListPO((Collection<UserTaskInstanceWithPotOwnerDesc>) result);
            } else if (UserTaskInstanceDesc.class.isAssignableFrom(resultMapper.getType())) {

                logger.debug(""Converting collection of UserTaskInstanceDesc to TaskInstanceList"");
                actualResult = convertToTaskInstanceList((Collection<UserTaskInstanceDesc>) result);
            } else if (TaskSummary.class.isAssignableFrom(resultMapper.getType())) {

                logger.debug(""Converting collection of TaskSummary to TaskSummaryList"");
                actualResult = convertToTaskSummaryList((Collection<TaskSummary>) result);
            } else if (ExecutionError.class.isAssignableFrom(resultMapper.getType())) {

                logger.debug(""Converting collection of ExecutionError to ErrorInstanceList"");
                actualResult = convertToErrorInstanceList((List<ExecutionError>) result);
            } else if (List.class.isAssignableFrom(resultMapper.getType())) {

                logger.debug(""Converting collection of List to ArrayList"");
                actualResult = new ArrayList((Collection) result);
            }else {

                logger.debug(""Convert not supported for custom type {}"", resultMapper.getType());
                actualResult = result;
            }

            logger.debug(""Actual result after converting is {}"", actualResult);
        } else {
            logger.debug(""Result is not a collection - {}, skipping any conversion"", result);
            actualResult = result;
        }
        return actualResult;
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,parse json file,"    @Override
    public DocumentContext parse(File json) throws IOException {
        notNull(json, ""json file can not be null"");
        FileInputStream fis = null;
        try {
            fis = new FileInputStream(json);
            return parse(fis);
        } finally {
            Utils.closeQuietly(fis);
        }
    }",Bug Crítico,
Java,httpclient post json,"    public static void main(String[] args) {
        Phaser phaser = new Phaser(2);

        HTTP2ServerBuilder server = $.httpServer();
        server.router().post(""/task/create"")
              .produces(""application/json"").consumes(""*/json"")
              .handler(ctx -> {
                  Map<String, Object> ret = new HashMap<>();
                  ret.put(""msg"", ""create task, "" + ctx.getJsonBody(Task.class) + "" success "");
                  ret.put(""code"", 0);
                  ctx.put(HttpHeader.CONTENT_TYPE, MimeTypes.Type.APPLICATION_JSON_UTF_8.asString())
                     .end($.json.toJson(ret));
              }).listen(""localhost"", 8080);

        Task task = new Task();
        task.name = ""TODO today"";
        task.date = new Date();
        $.httpClient().post(""http://localhost:8080/task/create"")
         .put(HttpHeader.ACCEPT, ""text/plain; q=0.9, application/json"")
         .jsonBody(task).submit()
         .thenAccept(res -> {
             System.out.println(res.getJsonObjectBody());
             phaser.arrive();
         });

        phaser.arriveAndAwaitAdvance();
        server.stop();
        $.httpClient().stop();
    }",Código com Débito Técnico,
Java,confusion matrix,"    private String stats(boolean suppressWarnings, boolean includeConfusion, boolean logConfusionSizeWarning){
        String actual, predicted;
        StringBuilder builder = new StringBuilder().append(""\n"");
        StringBuilder warnings = new StringBuilder();
        ConfusionMatrix<Integer> confusion = confusion();
        if(confusion == null){
            confusion = new ConfusionMatrix<>();    //Empty
        }
        List<Integer> classes = confusion.getClasses();

        List<Integer> falsePositivesWarningClasses = new ArrayList<>();
        List<Integer> falseNegativesWarningClasses = new ArrayList<>();
        for (Integer clazz : classes) {
            //Output possible warnings regarding precision/recall calculation
            if (!suppressWarnings && truePositives.getCount(clazz) == 0) {
                if (falsePositives.getCount(clazz) == 0) {
                    falsePositivesWarningClasses.add(clazz);
                }
                if (falseNegatives.getCount(clazz) == 0) {
                    falseNegativesWarningClasses.add(clazz);
                }
            }
        }

        if (!falsePositivesWarningClasses.isEmpty()) {
            warningHelper(warnings, falsePositivesWarningClasses, ""precision"");
        }
        if (!falseNegativesWarningClasses.isEmpty()) {
            warningHelper(warnings, falseNegativesWarningClasses, ""recall"");
        }

        int nClasses = confusion.getClasses().size();
        DecimalFormat df = new DecimalFormat(""0.0000"");
        double acc = accuracy();
        double precisionMacro = precision(EvaluationAveraging.Macro);
        double recallMacro = recall(EvaluationAveraging.Macro);
        double f1Macro = f1(EvaluationAveraging.Macro);
        builder.append(""\n========================Evaluation Metrics========================"");
        builder.append(""\n # of classes:    "").append(nClasses);
        builder.append(""\n Accuracy:        "").append(format(df, acc));
        if (topN > 1) {
            double topNAcc = topNAccuracy();
            builder.append(""\n Top "").append(topN).append("" Accuracy:  "").append(format(df, topNAcc));
        }
        builder.append(""\n Precision:       "").append(format(df, precisionMacro));
        if (nClasses > 2 && averagePrecisionNumClassesExcluded() > 0) {
            int ex = averagePrecisionNumClassesExcluded();
            builder.append(""\t("").append(ex).append("" class"");
            if (ex > 1)
                builder.append(""es"");
            builder.append("" excluded from average)"");
        }
        builder.append(""\n Recall:          "").append(format(df, recallMacro));
        if (nClasses > 2 && averageRecallNumClassesExcluded() > 0) {
            int ex = averageRecallNumClassesExcluded();
            builder.append(""\t("").append(ex).append("" class"");
            if (ex > 1)
                builder.append(""es"");
            builder.append("" excluded from average)"");
        }
        builder.append(""\n F1 Score:        "").append(format(df, f1Macro));
        if (nClasses > 2 && averageF1NumClassesExcluded() > 0) {
            int ex = averageF1NumClassesExcluded();
            builder.append(""\t("").append(ex).append("" class"");
            if (ex > 1)
                builder.append(""es"");
            builder.append("" excluded from average)"");
        }
        if (nClasses > 2 || binaryPositiveClass == null) {
            builder.append(""\nPrecision, recall & F1: macro-averaged (equally weighted avg. of "").append(nClasses)
                            .append("" classes)"");
        }
        if(nClasses == 2 && binaryPositiveClass != null){
            builder.append(""\nPrecision, recall & F1: reported for positive class (class "").append(binaryPositiveClass);
            if(labelsList != null){
                builder.append("" - \"""").append(labelsList.get(binaryPositiveClass)).append(""\"""");
            }
            builder.append("") only"");
        }
        if (binaryDecisionThreshold != null) {
            builder.append(""\nBinary decision threshold: "").append(binaryDecisionThreshold);
        }
        if (costArray != null) {
            builder.append(""\nCost array: "").append(Arrays.toString(costArray.dup().data().asFloat()));
        }
        //Note that we could report micro-averaged too - but these are the same as accuracy
        //""Note that for “micro�?-averaging in a multiclass setting with all labels included will produce equal precision, recall and F,""
        //http://scikit-learn.org/stable/modules/model_evaluation.html

        builder.append(""\n\n"");
        builder.append(warnings);

        if(includeConfusion){
            builder.append(""\n=========================Confusion Matrix=========================\n"");
            builder.append(confusionMatrix());
        } else if(logConfusionSizeWarning){
            builder.append(""\n\nNote: Confusion matrix not generated due to space requirements for "")
                    .append(nClasses).append("" classes.\n"")
                    .append(""Use stats(false,true) to generate anyway"");
        }

        builder.append(""\n=================================================================="");
        return builder.toString();
    }",Código em Conformidade,
Java,get current process id,"    File guessUserDataDirectory(String packageName) {
        Integer uid = getProcessUid();
        if (uid == null) {
            // If we couldn't retrieve process uid, return null.
            return null;
        }

        // We're trying to get the ID of the Android user that's running the process. It can be
        // inferred from the UID of the current process.
        int userId = uid / PER_USER_RANGE;
        return getWriteableDirectory(String.format(""/data/user/%d/%s"", userId, packageName));
    }",Bug Crítico,
Java,socket recv timeout,"	private int configureSocketTimeout(int timeout) {

		if (provider instanceof SocketTimeoutSupport) {
			try {
				SocketTimeoutSupport sock = (SocketTimeoutSupport) provider;
				int ret = sock.getSoTimeout();
				sock.setSoTimeout(timeout);
				return ret;
			} catch (IOException ex) {
			}
		}

		return 0;
	}",Código em Conformidade,
Java,get inner html,"	private String getHtml()
	{
		String html = content;
		
		if (!html.matches(""(?is).*<base\\s.*""))
		{
			String baseHref = url.toString().replaceAll(""/[^/]*\\?.*"", ""/"");
			html = html.replaceAll(""(?is)(<head(?=\\s|>)[^>]*>)"", ""$1<base href=\"""" + baseHref + ""\""/>"");
		}
		
		return html;
	}",Código em Conformidade,
Java,set file attrib hidden,"    @Deprecated
    public void setHidden(final Boolean hidden) {
        if (hidden == null) {
            setAttributeValue(null);
        } else {
            setAttributeValue(
                    hidden.booleanValue() ? ""hidden"" : String.valueOf(hidden));
        }
        this.hidden = hidden;
    }",Código em Conformidade,
Java,extracting data from a text file,"	private File extractFile(String fileName, JarFile containingJar, File dstDir)
			throws DeploymentException {

		ZipEntry zipFileEntry = containingJar.getEntry(fileName);
		logger.trace(""Extracting file "" + fileName + "" from ""
				+ containingJar.getName());
		if (zipFileEntry == null) {
			throw new DeploymentException(""Error extracting jar file  ""
					+ fileName + "" from "" + containingJar.getName());
		}
		File extractedFile = new File(dstDir, new File(zipFileEntry.getName())
				.getName());
		try {
			pipeStream(containingJar.getInputStream(zipFileEntry),
					new FileOutputStream(extractedFile));
		} catch (FileNotFoundException e) {
			throw new DeploymentException(""file "" + fileName + "" not found in ""
					+ containingJar.getName(), e);
		} catch (IOException e) {
			throw new DeploymentException(""erro extracting file "" + fileName
					+ "" from "" + containingJar.getName(), e);
		}
		logger.debug(""Extracted file "" + extractedFile.getName());
		return extractedFile;
	}",Código em Conformidade,
Java,how to check if a checkbox is checked,"	public boolean verifyChecked(final By checkboxBy) {
		WebElement element = driver.findElement(checkboxBy);

		if (element.isSelected()) {
			LOG.info(""Checkbox: "" + element + "" is checked!"");
			return true;
		}

		LOG.info(""Checkbox: "" + element + "" is NOT checked!"");
		return false;
	}",Código em Conformidade,"```java
public boolean verifyChecked(final By checkboxBy) {
    try {
        WebElement element = driver.findElement(checkboxBy);

        if (element.isSelected()) {
            LOG.info(""Checkbox: "" + element + "" is checked!"");
            return true;
        }

        LOG.info(""Checkbox: "" + element + "" is NOT checked!"");
        return false;
    } catch (NoSuchElementException e) {
        LOG.error(""Checkbox: "" + checkboxBy + "" was not found!"");
        return false;
    }
}
```"
Java,sort string list,"    private List<String> convertSort(String sortStr) {
        List<String> list = new ArrayList<String>();
        if(sortStr != null && sortStr.length() != 0){
            list = Arrays.asList(sortStr.split(""\\|""));
        }
        return list;
    }",Código em Conformidade,
Java,extract latitude and longitude from given input,"    static Double extractLongitude(AisExtractor extractor) {
        int val = extractor.getSignedValue(164, 192);
        if (val == LONGITUDE_NOT_AVAILABLE) {
            return null;
        } else {
            Util.checkLong(val / 600000.0);
            return val / 600000.0;
        }

    }",Código em Conformidade,
Java,parse json file,"  private JsonObject loadJson(InputStream input) throws JsonSyntaxException, IOException {
    return JsonTrackingParser.parse(TextFile.streamToString(input), null);
    // return parser.parse(TextFile.streamToString(input)).getAsJsonObject();
  }",Código em Conformidade,
Java,hash set for counting distinct elements,"  @Nonnull
  public static <E extends Comparable<? super E>> Set<E> ofIterable(final Iterable<E> elements) {
    if (elements instanceof Collection) {
      return ofCollection((Collection<E>) elements);
    }
    return ofSeqInternal(Seq.ofIterable(elements).distinct());
  }",Código em Conformidade,
Java,encode url,"    private String encode(String value) {
        try {
            //return URLEncoder.encode(value,""UTF-8"");
            return UriUtils.encodeQueryParam(value, ""UTF-8"");
        } catch (UnsupportedEncodingException x) {
            throw new IllegalArgumentException(x);
        }
    }",Código em Conformidade,
Java,randomly extract x items from a list,"  public List<DemoItem> moarItems(int qty) {
    List<DemoItem> items = new ArrayList<>();

    for (int i = 0; i < qty; i++) {
      int colSpan = Math.random() < 0.2f ? 2 : 1;
      // Swap the next 2 lines to have items with variable
      // column/row span.
      // int rowSpan = Math.random() < 0.2f ? 2 : 1;
      int rowSpan = colSpan;
      DemoItem item = new DemoItem(colSpan, rowSpan, currentOffset + i);
      items.add(item);
    }

    currentOffset += qty;

    return items;
  }",Código em Conformidade,
Java,convert json to csv,"    private String listToCSV(List<String> list) {
        String csvStr = """";
        for (String item : list) {
            csvStr += "","" + item;
        }

        return csvStr.length() > 1 ? csvStr.substring(1) : csvStr;
    }",Código em Conformidade,
Java,nelder mead optimize,"  @Override
  public void exitStandardFileOptionOptimizeFor(final StandardFileOptionOptimizeForContext ctx) {
    verifyOptionNameUnique(""optimizeFor"", ctx.getStart());
    scopes.getFileOptions().setOptimizeFor(OptimizeMode.valueOf(ctx.optimizeMode().getText()));
  }",Código em Conformidade,
Java,how to get database table name,"    private void createTable(String database, String table)
    {
        while (true) {
            try {
                client.createTable(database, table);
                LOG.info(""Created table. database={}, table={}"", database, table);
                return;
            }
            catch (TDClientHttpException e) {
                switch (e.getStatusCode()) {
                    case 409:
                        LOG.info(""The table already exists. database={}, table={}"", database, table);
                        return;
                    case 401:
                    case 403:
                        throw new NonRetryableException(
                                String.format(""Failed to create table. database=%s, table=%s"", database, table), e);
                    case 404:
                        createDatabase(database);
                        // Retry to create the table
                        break;
                    default:
                        throw new RetryableException(
                                String.format(""Failed to create table. database=%s, table=%s"", database, table), e);
                }
            }
            catch (NonRetryableException e) {
                throw e;
            }
            catch (Throwable e) {
                throw new RetryableException(
                        String.format(""Failed to create table. database=%s, table=%s"", database, table), e);
            }
        }
    }",Código em Conformidade,
Java,set file attrib hidden,"  public String fixPropertyName(String name) {
    if (""float"".equalsIgnoreCase(name)) {
      return ""cssFloat"";
    } else if (""for"".equalsIgnoreCase(name)) {
      return ""htmlFor"";
    }
    return JsUtils.camelize(name);
  }",Código em Conformidade,
Java,save list to file,"    public void save(File file) throws IOException {
        try (FileOutputStream out = new FileOutputStream(file)) {
            save(out);
        }
    }",Bug Crítico,
Java,binomial distribution,"    public static double binomial(int k, double p, int n) {
        if(k<0 ||  p<0 || n<1) {
            throw new IllegalArgumentException(""All the parameters must be positive and n larger than 1."");
        }
        
        k = Math.min(k, n); 
        
        /*
        //Slow and can't handle large numbers
        $probability=StatsUtilities::combination($n,$k)*pow($p,$k)*pow(1-$p,$n-$k);
        */

        //fast and can handle large numbers
        //Cdf(k)-Cdf(k-1)
        double probability = approxBinomialCdf(k,p,n); 
        if(k>0) {
            probability -= approxBinomialCdf(k-1,p,n);
        }
        
        return probability;
    }",Código em Conformidade,"```java
public static double binomial(int k, double p, int n) {
    if(k<0 ||  p<0 || n<=1) {
        throw new IllegalArgumentException(""All the parameters must be positive and n larger than 1."");
    }
    
    k = Math.min(k, n); 
    
   
    double probability = approxBinomialCdf(k,p,n); 
    if(k>0) {
        probability -= approxBinomialCdf(k-1,p,n);
    }
    
    return probability;
}
```"
Java,get current ip address,"    @Override
    public String getName()
    {
        try {
            if (this.ipAddress.length != 8 && this.ipAddress.length != 32) {
                return getIpAddress().getHostAddress();
            }
            return getIpAddress().getHostAddress() + ""/"" + getIpMask().getHostAddress();
        } catch (UnknownHostException e) {
            return Arrays.toString(this.ipAddress);
        }
    }",Código em Conformidade,
Java,readonly array,"	protected void readOnlyUpdated() {
		boolean localReadOnly = isReadOnly();
		if (hasChanged(oldReadOnly, localReadOnly)) {
			oldReadOnly = localReadOnly;
			firePropertyChange(READONLY_PROPERTY, !localReadOnly, localReadOnly);
		}
	}",Código em Conformidade,
Java,sort string list,"    private List decodeSort(String value) {
        ArrayList sorts = new ArrayList();

        String[] nameAndSorts = value.split(DELIM_GRID_NAME);
        if(nameAndSorts.length != 2)
            return null;

        String namespace = nameAndSorts[0];
        String[] sortStrings = nameAndSorts[1].split(DELIM_SORT_TERM);

        // find the list of sorted columns
        // two columns of the bugs grid would be sorted as:
        //
        // netui_sort=bugs~id,-priority
        for(int i = 0; i < sortStrings.length; i++) {
            String sort = sortStrings[i];
            SortDirection sortDirection = SortDirection.NONE;
            if(sort.startsWith(""-""))
                sortDirection = SortDirection.DESCENDING;
            else
                sortDirection = SortDirection.ASCENDING;
            String sortExpression = (sortDirection == SortDirection.DESCENDING ? sort.substring(1) : sort);
            Sort gridSort = _config.createSort();
            gridSort.setSortExpression(sortExpression);
            gridSort.setDirection(sortDirection);
            sorts.add(gridSort);
        }

        return sorts;
    }",Código em Conformidade,"```java
private List<Sort> decodeSort(String value) {
    List<Sort> sorts = new ArrayList<>();

    String[] nameAndSorts = value.split(DELIM_GRID_NAME);
    if(nameAndSorts.length != 2)
        return null;

    String[] sortStrings = nameAndSorts[1].split(DELIM_SORT_TERM);

    for(String sort : sortStrings) {
        SortDirection sortDirection = sort.startsWith(""-"") ? SortDirection.DESCENDING : SortDirection.ASCENDING;
        String sortExpression = (sortDirection == SortDirection.DESCENDING ? sort.substring(1) : sort);
        Sort gridSort = _config.createSort();
        gridSort.setSortExpression(sortExpression);
        gridSort.setDirection(sortDirection);
        sorts.add(gridSort);
    }

    return sorts;
}
```"
Java,socket recv timeout,"  private void setSocketTimeout(int millis) throws PSQLException {
    try {
      Socket s = pgStream.getSocket();
      if (!s.isClosed()) { // Is this check required?
        pgStream.getSocket().setSoTimeout(millis);
      }
    } catch (SocketException e) {
      throw new PSQLException(GT.tr(""An error occurred while trying to reset the socket timeout.""),
        PSQLState.CONNECTION_FAILURE, e);
    }
  }",Código em Conformidade,
Java,how to read the contents of a .gz compressed file?,"    private static String invertFilename(File file, String compression) {
        // first invert the filename
        String[] name = StringUtils.split(file.getName(), '.');
        if (name.length < 2)
            return null;
        String extension = name[name.length - 1];
        boolean compressed = false;
        if (extension.equalsIgnoreCase(""gz"")) {
            extension = name[name.length - 2];
            compressed = true;
        }
        StringBuilder result = new StringBuilder();
        for (int i = 0; i < (compressed ? name.length - 2 : name.length - 1); i++)
            result.append(name[i]).append(""."");
        result.append(extension.equalsIgnoreCase(""xml"") ? ""txt"" : ""xml"");
        if (compressed)
            result.append("".gz"");

        // then update the extension using the requested compression
        String newName = result.toString();
        if (""gz"".equals(compression)) {
            if (newName.endsWith("".xz""))
                newName = newName.replace("".xz"", """");
            if (!newName.endsWith("".gz""))
                newName = newName + "".gz"";
        }
        else if (""xz"".equals(compression)) {
            if (newName.endsWith("".gz""))
                newName = newName.replace("".gz"", """");
            if (!newName.endsWith("".xz""))
                newName = newName + "".xz"";
        }
        else if (""none"".equals(compression)) {
            if (newName.endsWith("".gz""))
                newName = newName.replace("".gz"", """");
            else if (newName.endsWith("".xz""))
                newName = newName.replace("".xz"", """");
        }

        return new File(file.getParentFile(), newName).getName();
    }",Código em Conformidade,
Java,confusion matrix,"  protected void printGeneralConfusionTable() {
    printHeader(""Confusion matrix"");

    SortedSet<String> labels = getConfusionMatrixTagset();

    double[][] confusionMatrix = getConfusionMatrix();

    printStream.append(""\nTags with 100% accuracy: "");
    int line = 0;
    for (String label : labels) {
      if (confusionMatrix[line][confusionMatrix[0].length - 1] == 1) {
        printStream.append(label).append("" ("")
            .append(Integer.toString((int) confusionMatrix[line][line]))
            .append("") "");
      }
      line++;
    }

    printStream.append(""\n\n"");

    printStream.append(matrixToString(labels, confusionMatrix, true));

    printFooter(""Confusion matrix"");
  }",Código em Conformidade,
Java,set file attrib hidden,"    public void setMeterCritical( long meterCritical ) {
        settings.put( getSettingPath( DisplayerAttributeDef.METER_CRITICAL ), Long.toString( meterCritical ) );
    }",Código em Conformidade,
Java,randomly extract x items from a list,"	@SuppressWarnings(""unchecked"")
	public static <T> List<T> range(Iterable<T> items, int from, int to) {
		U.must(from <= to, ""'from' (%s) must be <= 'to' (%s)!"", from, to);

		if (from == to) {
			return Collections.emptyList();
		}

		if (items instanceof Results) {
			Results results = (Results) items;
			return results.page(from, to - from);
		}

		List<?> list = (items instanceof List<?>) ? (List<?>) items : U.list(items);

		from = Math.min(from, list.size());
		to = Math.min(to, list.size());

		return U.cast(list.subList(from, to));
	}",Código em Conformidade,"```java
import java.util.ArrayList;
import java.util.List;
import java.util.Random;

public class Main {
    public static <T> List<T> getRandomElements(List<T> list, int totalItems) {
        Random rand = new Random();
        List<T> newList = new ArrayList<>();
        for (int i = 0; i < totalItems; i++) {
            int randomIndex = rand.nextInt(list.size());
            newList.add(list.get(randomIndex));
            list.remove(randomIndex);
        }
        return newList;
    }
}
```"
Java,k means clustering,"  @Override
  public Clustering<MeanModel> run(Database database, Relation<V> relation) {
    // Database objects to process
    final DBIDs ids = relation.getDBIDs();
    // Choose initial means
    double[][] means = initializer.chooseInitialMeans(database, relation, k, getDistanceFunction());
    // Setup cluster assignment store
    List<ModifiableDBIDs> clusters = new ArrayList<>();
    for(int i = 0; i < k; i++) {
      clusters.add(DBIDUtil.newHashSet(relation.size() / k + 2));
    }

    // Meta data storage
    final WritableDataStore<Meta> metas = initializeMeta(relation, means);
    // Perform the initial assignment
    ArrayModifiableDBIDs tids = initialAssignment(clusters, metas, ids);
    // Recompute the means after the initial assignment
    means = means(clusters, means, relation);
    // Refine the result via k-means like iterations
    means = refineResult(relation, means, clusters, metas, tids);

    // Wrap result
    Clustering<MeanModel> result = new Clustering<>(""k-Means Samesize Clustering"", ""kmeans-samesize-clustering"");
    for(int i = 0; i < clusters.size(); i++) {
      result.addToplevelCluster(new Cluster<>(clusters.get(i), new MeanModel(means[i])));
    }
    return result;
  }",Código em Conformidade,
Java,read properties file,"	private void readPropertyFile()
	{
		java.util.Properties props = new java.util.Properties();
	    try
	    {
	        File propertyFile = new File(propertyFilePath + File.separator + PROPERTYFILENAME);
	        if (propertyFile.exists())
	        {
	        	java.io.FileInputStream fis = null;
	        	try
	        	{
			    	fis = new java.io.FileInputStream(propertyFile);
			        props.load(fis);
	        	}
	        	finally
	        	{
	        		if (fis!=null) try { fis.close(); } catch (IOException ex) { Log.error(""IGNORED"", ex); }
	        	}
	        }

	        searchPath = props.getProperty(PROPERTY_SEARCHPATH, Helpers.HOMEDIR);
			exportPath = props.getProperty(PROPERTY_EXPORTPATH, Helpers.HOMEDIR);
			uiClassName = props.getProperty(PROPERTY_LOOKANDFEEL, javax.swing.UIManager.getSystemLookAndFeelClassName());
			useSystemTray = Boolean.parseBoolean(props.getProperty(PROPERTY_SYSTEMTRAY, ""FALSE""));
			currentVolume = Float.parseFloat(props.getProperty(PROPERTY_VOLUME_VALUE, ""1.0""));
			currentBalance = Float.parseFloat(props.getProperty(PROPERTY_BALANCE_VALUE, ""0.0""));
			lastLoaded = new ArrayList<URL>(PROPERTY_LASTLOADED_MAXENTRIES);
			for (int i=0; i<PROPERTY_LASTLOADED_MAXENTRIES; i++)
			{
				String url = props.getProperty(PROPERTY_LASTLOADED+'.'+i, null);
				if (url!=null) lastLoaded.add(new URL(url)); else lastLoaded.add(null);
			}
			setDSPEnabled(Boolean.parseBoolean(props.getProperty(PROPERTY_EFFECTS_PASSTHROUGH, ""FALSE"")));
			mainDialogLocation = Helpers.getPointFromString(props.getProperty(PROPERTY_MAINDIALOG_POS, ""-1x-1""));
			mainDialogSize = Helpers.getDimensionFromString(props.getProperty(PROPERTY_MAINDIALOG_SIZE, ""320x410""));
			playerSetUpDialogLocation = Helpers.getPointFromString(props.getProperty(PROPERTY_SETUPDIALOG_POS, ""-1x-1""));
			playerSetUpDialogSize = Helpers.getDimensionFromString(props.getProperty(PROPERTY_SETUPDIALOG_SIZE, ""720x230""));
			playerSetUpDialogVisable = Boolean.parseBoolean(props.getProperty(PROPERTY_SETUPDIALOG_VISABLE, ""false""));
			modInfoDialogLocation = Helpers.getPointFromString(props.getProperty(PROPERTY_PROPERTIESDIALOG_POS, ""-1x-1""));
			modInfoDialogSize = Helpers.getDimensionFromString(props.getProperty(PROPERTY_PROPERTIESDIALOG_SIZE, ""520x630""));
			modInfoDialogVisable = Boolean.parseBoolean(props.getProperty(PROPERTY_PROPERTIESDIALOG_VISABLE, ""false""));
			playlistDialogLocation = Helpers.getPointFromString(props.getProperty(PROPERTY_PLAYLISTDIALOG_POS, ""-1x-1""));
			playlistDialogSize = Helpers.getDimensionFromString(props.getProperty(PROPERTY_PLAYLISTDIALOG_SIZE, ""400x400""));
			playlistDialogVisable = Boolean.parseBoolean(props.getProperty(PROPERTY_PLAYLIST_VISABLE, ""false""));
			effectsDialogLocation = Helpers.getPointFromString(props.getProperty(PROPERTY_EFFECTDIALOG_POS, ""-1x-1""));
			effectsDialogSize = Helpers.getDimensionFromString(props.getProperty(PROPERTY_EFFECTDIALOG_SIZE, ""560x470""));
			effectDialogVisable = Boolean.parseBoolean(props.getProperty(PROPERTY_EFFECT_VISABLE, ""false""));
			
			if (currentEqualizer!=null)
			{
				boolean isActive = Boolean.parseBoolean(props.getProperty(PROPERTY_EQUALIZER_ISACTIVE, ""FALSE""));
				currentEqualizer.setIsActive(isActive);
				float preAmpValueDB = Float.parseFloat(props.getProperty(PROPERTY_EQUALIZER_PREAMP, ""0.0""));
				currentEqualizer.setPreAmp(preAmpValueDB);
				for (int i=0; i<currentEqualizer.getBandCount(); i++)
				{
					float bandValueDB = Float.parseFloat(props.getProperty(PROPERTY_EQUALIZER_BAND_PREFIX + Integer.toString(i), ""0.0""));
					currentEqualizer.setBand(i, bandValueDB);
				}
			}
			if (currentPitchShift!=null)
			{
				boolean isActive = Boolean.parseBoolean(props.getProperty(PROPERTY_PITCHSHIFT_ISACTIVE, ""FALSE""));
				currentPitchShift.setIsActive(isActive);
				float pitchValue = Float.parseFloat(props.getProperty(PROPERTY_PITCHSHIFT_PITCH, ""1.0""));
				currentPitchShift.setPitchScale(pitchValue);
				float scaleValue = Float.parseFloat(props.getProperty(PROPERTY_PITCHSHIFT_SAMPLESCALE, ""1.0""));
				currentPitchShift.setSampleScale(scaleValue);
				int overSampling = Integer.parseInt(props.getProperty(PROPERTY_PITCHSHIFT_OVERSAMPLING, ""32""));
				currentPitchShift.setFFTOversampling(overSampling);
				int frameSize = Integer.parseInt(props.getProperty(PROPERTY_PITCHSHIFT_FRAMESIZE, ""8192""));
				currentPitchShift.setFFTFrameSize(frameSize);
			}

			MultimediaContainerManager.configureContainer(props);
	    }
	    catch (Throwable ex)
	    {
			Log.error(""[MainForm]"", ex);
	    }
	}",Código em Conformidade,
Java,format date,"	private Date getDateBySupportedDateFormat(String dateStr) {
		
		for(String format : supportedDateFormat) {
			try {
				Date date = TimeUtil.getDateFormatter(format).parse(dateStr);
				return date;
			}catch (Exception e) {
				
			}
		}
		return null;
	}",Código em Conformidade,
Java,pretty print json,"    public static String prettyPrintJson(JsonNode jsonNode) {
        String indented = jsonNode.toString();

        final ObjectMapper objectMapper = new ObjectMapperProvider().get();

        try {
            return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(jsonNode);

        } catch (IOException e) {
            /*
             *  Pretty-print logic threw an exception, not a big deal, print the original json then.
             */
            return indented;
        }
    }",Código em Conformidade,
Java,how to determine a string is a valid word,"    private static boolean detectNameWordInSentenceByPosition(final List<Token> _text, final int _pos) {
        boolean isFirstWord = false;
        boolean nextWordIsName = false;
        if (_pos == 0 || !isLetterOrDigit((_text.get(_pos - 1).text.charAt(0)))) {
            isFirstWord = true;
            //noinspection SimplifiableIfStatement
            if (_text.size() > _pos + 1) {
                final String plus1 = _text.get(_pos + 1).text;
                nextWordIsName = (""of"".equalsIgnoreCase(plus1) || ""'s"".equalsIgnoreCase(plus1))
                                 ? ((_text.size() > (_pos + 2)) && isName(_text.get(_pos + 2).text, false, false))
                                 : isName(plus1, false, false);
            }
            else nextWordIsName = false;
        }
        //noinspection UnnecessaryLocalVariable
        final boolean isName = isName(_text.get(_pos).text, isFirstWord, nextWordIsName);

        /*
        String wordType = dict.checkup(Strings.toEngLowerCase(_text.get(_pos));
        if (isFirstWord && !isName && wordType != null && wordType.startsWith(""JJ"")) {
            // if the first word is determined not to be a name but it is an adj.,
            // and if the second word is a name, we consider the first word to be a name as well.
            if (isName(_text.get(_pos + 1), false))
                return true;
        }
        */

        return isName;
    }",Código em Conformidade,
Java,socket recv timeout,"    private static void setTimeout(Socket socket, long timeoutMs) {
        try {
            socket.setSoTimeout((int) timeoutMs);
        } catch (SocketException e) {
            throw new RuntimeException(e);
        }
    }",Código em Conformidade,
Java,parse command line argument,"  @SuppressWarnings(""unchecked"")
  public static Map<String, String> parseCommandLineArguments(String[] args) {
    return (Map)parseCommandLineArguments(args, false);
  }",Código em Conformidade,
Java,copying a file to a path,"	public final void fileCopy(File in, File out) throws IOException {
		assert in != null;
		assert out != null;
		getLog().debug(""Copying file: "" + in.toString() + "" into "" + out.toString()); //$NON-NLS-1$ //$NON-NLS-2$
		try (FileInputStream fis = new FileInputStream(in)) {
			try (FileChannel inChannel = fis.getChannel()) {
				try (FileOutputStream fos = new FileOutputStream(out)) {
					try (FileChannel outChannel = fos.getChannel()) {
						inChannel.transferTo(0, inChannel.size(), outChannel);
					}
				}
			}
		} finally {
			getBuildContext().refresh(out);
		}
	}",Bug Crítico,"```java
public final void fileCopy(File in, File out) throws IOException {
    if (in == null || out == null) {
        throw new IllegalArgumentException(""Input and output files must not be null"");
    }
    if (!in.exists() || !in.canRead()) {
        throw new IOException(""Input file must exist and be readable"");
    }
    if (out.exists() && !out.canWrite()) {
        throw new IOException(""Output file must be writable"");
    }

    getLog().debug(""Copying file: "" + in.toString() + "" into "" + out.toString());

    try (FileInputStream fis = new FileInputStream(in)) {
        try (FileChannel inChannel = fis.getChannel()) {
            try (FileOutputStream fos = new FileOutputStream(out)) {
                try (FileChannel outChannel = fos.getChannel()) {
                    inChannel.transferTo(0, inChannel.size(), outChannel);
                }
            }
        }
    } finally {
        getBuildContext().refresh(out);
    }
}
```"
Java,readonly array,"    private Object readNewArray(boolean unshared) throws OptionalDataException,
            ClassNotFoundException, IOException {
        ObjectStreamClass classDesc = readClassDesc();

        if (classDesc == null) {
            throw missingClassDescriptor();
        }

        int newHandle = nextHandle();

        // Array size
        int size = input.readInt();
        Class<?> arrayClass = classDesc.forClass();
        Class<?> componentType = arrayClass.getComponentType();
        Object result = Array.newInstance(componentType, size);

        registerObjectRead(result, newHandle, unshared);

        // Now we have code duplication just because Java is typed. We have to
        // read N elements and assign to array positions, but we must typecast
        // the array first, and also call different methods depending on the
        // elements.
        if (componentType.isPrimitive()) {
            if (componentType == int.class) {
                int[] intArray = (int[]) result;
                for (int i = 0; i < size; i++) {
                    intArray[i] = input.readInt();
                }
            } else if (componentType == byte.class) {
                byte[] byteArray = (byte[]) result;
                input.readFully(byteArray, 0, size);
            } else if (componentType == char.class) {
                char[] charArray = (char[]) result;
                for (int i = 0; i < size; i++) {
                    charArray[i] = input.readChar();
                }
            } else if (componentType == short.class) {
                short[] shortArray = (short[]) result;
                for (int i = 0; i < size; i++) {
                    shortArray[i] = input.readShort();
                }
            } else if (componentType == boolean.class) {
                boolean[] booleanArray = (boolean[]) result;
                for (int i = 0; i < size; i++) {
                    booleanArray[i] = input.readBoolean();
                }
            } else if (componentType == long.class) {
                long[] longArray = (long[]) result;
                for (int i = 0; i < size; i++) {
                    longArray[i] = input.readLong();
                }
            } else if (componentType == float.class) {
                float[] floatArray = (float[]) result;
                for (int i = 0; i < size; i++) {
                    floatArray[i] = input.readFloat();
                }
            } else if (componentType == double.class) {
                double[] doubleArray = (double[]) result;
                for (int i = 0; i < size; i++) {
                    doubleArray[i] = input.readDouble();
                }
            } else {
                throw new ClassNotFoundException(""Wrong base type in "" + classDesc.getName());
            }
        } else {
            // Array of Objects
            Object[] objectArray = (Object[]) result;
            for (int i = 0; i < size; i++) {
                // TODO: This place is the opportunity for enhancement
                //      We can implement writing elements through fast-path,
                //      without setting up the context (see readObject()) for
                //      each element with public API
                objectArray[i] = readObject();
            }
        }
        if (enableResolve) {
            result = resolveObject(result);
            registerObjectRead(result, newHandle, false);
        }
        return result;
    }",Código em Conformidade,
Java,linear regression,"    public static double score(MultiLayerNetwork model, DataSetIterator testSet, RegressionValue regressionValue) {
        RegressionEvaluation eval = model.evaluateRegression(testSet);
        return getScoreFromRegressionEval(eval, regressionValue);
    }",Código em Conformidade,
Java,encode url,"    public static String encodeUrl(String url) {
        try {
            return URLEncoder.encode(url, DEFAULT_ENCODING);
        } catch (UnsupportedEncodingException ignore) {
            return url;
        }
    }",Código em Conformidade,"```java
public static String encodeUrl(String url) {
    String DEFAULT_ENCODING = ""UTF-8"";
    try {
        return URLEncoder.encode(url, DEFAULT_ENCODING);
    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
        return url;
    }
}
```"
Java,sending binary data over a serial connection,"    public void sendBinary(@Sensitive ByteBuffer data, OpcodeType type, boolean isLast) throws IOException {

        OpcodeType t = type;

        if (messageWriteState == MessageWriteState.PARTIAL_TEXT_IN_USE) {
            if (tc.isDebugEnabled()) {
                Tr.debug(tc, ""Send while Send outstanding error.  throw IllegalStateException"");
            }
            // another send is outstanding on this connection, as per spec behaivor, need to throw an illegalStateException
            IllegalStateException up = new IllegalStateException();
            throw up;
        }

        if (messageWriteState == MessageWriteState.PARTIAL_NOT_IN_USE) {
            messageWriteState = MessageWriteState.PARTIAL_BINARY_IN_USE;
            if (isLast) {
                t = OpcodeType.BINARY_WHOLE;
            } else {
                t = OpcodeType.BINARY_PARTIAL_FIRST;
            }
        } else {
            if (isLast) {
                t = OpcodeType.BINARY_PARTIAL_LAST;
            } else {
                t = OpcodeType.BINARY_PARTIAL_CONTINUATION;
            }
        }

        try {
            RETURN_STATUS ret = sendBinaryCommon(data, t, false);
            if (ret != RETURN_STATUS.OK) {
                // another write of an IO frame is outstanding on this connection
                IllegalStateException up = new IllegalStateException(""write not allowed.  Most likely cause is that another Write or Close is in progress"");
                throw up;
            }
        } finally {
            if (isLast == true) {
                messageWriteState = MessageWriteState.PARTIAL_NOT_IN_USE;
            }
        }
    }",Bug Crítico,"```java
public void sendBinary(@Sensitive ByteBuffer data, OpcodeType type, boolean isLast) throws IOException {
    if (messageWriteState == MessageWriteState.PARTIAL_TEXT_IN_USE) {
        throw new IllegalStateException(""Another send is outstanding on this connection"");
    }

    if (messageWriteState == MessageWriteState.PARTIAL_NOT_IN_USE) {
        messageWriteState = MessageWriteState.PARTIAL_BINARY_IN_USE;
        if (isLast) {
            type = OpcodeType.BINARY_WHOLE;
        } else {
            type = OpcodeType.BINARY_PARTIAL_FIRST;
        }
    } else {
        if (isLast) {
            type = OpcodeType.BINARY_PARTIAL_LAST;
        } else {
            type = OpcodeType.BINARY_PARTIAL_CONTINUATION;
        }
    }

    try {
        RETURN_STATUS ret = sendBinaryCommon(data, type, false);
        if (ret != RETURN_STATUS.OK) {
            throw new IllegalStateException(""Write not allowed. Most likely cause is that another Write or Close is in progress"");
        }
    } catch (IOException e) {
        throw e;
    } finally {
        if (isLast) {
            messageWriteState = MessageWriteState.PARTIAL_NOT_IN_USE;
        }
    }
}
```"
Java,parse query string in url,"    public static String stripProtocolAndPort(String url) {
        //workaround to properly parse url. Without schema and available port, URI.create fails to parse
        if (!url.contains(""://"")) {
            url = ""http://"" + url;
        }

        URI uri = URI.create(url);

        String host = uri.getHost();
        String path = uri.getPath();

        String query = uri.getQuery();
        String queryAppend = """";
        if (query != null) {
            queryAppend = ""?"" + query;
        }

        String fragment = uri.getFragment();
        String fragmentAppend = """";
        if (fragment != null) {
            fragmentAppend = ""#"" + fragment;
        }

        return (host == null ? """" : host) + (path == null ? """" : path) + queryAppend + fragmentAppend;
    }",Código em Conformidade,
Java,convert int to bool,"    private static int toInt(Long l) {
        if (l <= Integer.MAX_VALUE) {
            return l.intValue();
        } else {
            return Integer.MAX_VALUE;
        }
    }",Código em Conformidade,
Java,deserialize json,"  @Override
  public ResourceSpecification deserialize(JsonElement json, Type typeOfT,
                                          JsonDeserializationContext context) throws JsonParseException {
    JsonObject jsonObj = json.getAsJsonObject();

    int cores = jsonObj.get(""virtualCores"").getAsInt();
    int memorySize = jsonObj.get(""memoryMB"").getAsInt();

    return new Resources(memorySize, cores);
  }",Código em Conformidade,
Java,parse binary file to custom class,"  public Bioml parse() throws FileParsingException {
    //ClassLoader classLoaderOrig = Thread.currentThread().getContextClassLoader();
    try {

      //String filePath = ""D:\\projects\\GPMDB\\gpm-xml-parser\\GPM32310000038_indented_cropped.xml"";
      //String filePath = ""D:\\projects\\GPMDB\\gpm-xml-parser\\GPM64510013519.xml"";
      Path filePath = Paths.get(this.getPath());
      FileInputStream fis = new FileInputStream(filePath.toFile());
      BufferedInputStream bis = new BufferedInputStream(fis, 1024 * 1024 * 32); // 32 MB buffer

      Class<Bioml> clazz = Bioml.class;

      JAXBContext jaxbContext = JAXBContext.newInstance(clazz);
      Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();
      Object unmarshalled = unmarshaller.unmarshal(bis);

      Bioml bioml = convertJAXBObjectToDomain(clazz, unmarshalled);
      return bioml;

    } catch (JAXBException | FileNotFoundException e) {
      throw new FileParsingException(e);
    } finally {
//            Thread.currentThread().setContextClassLoader(classLoaderOrig);
    }
  }",Código em Conformidade,
Java,html entities replace,"    public static String call(PageContext pc, String html) {
	return ""<pre>"" + HTMLEntities.escapeHTML(html, HTMLEntities.HTMLV40) + ""</pre>"";
    }",Código em Conformidade,
Java,normal distribution,"    public static TimeGenerator newTimeGenerator(Map<String, Object> data) {
        String distribution = (String) data.get(SimulationConstants.DISTRIBUTION_TYPE);
         if (""random"".equalsIgnoreCase(distribution)) {
            return new RandomTimeGenerator(data);
        } else if (""uniform"".equalsIgnoreCase(distribution)) {
            return new UniformTimeGenerator(data);
        } else if (""normal"".equalsIgnoreCase(distribution)) {
            return new NormalTimeGenerator(data);
        } else if (""poisson"".equalsIgnoreCase(distribution)) {
            return new PoissonTimeGenerator(data);
        } else if (""exact"".equalsIgnoreCase(distribution)) {
            return new ExactTimeGenerator(data);
        } else {
            throw new RuntimeException(""Unsupported distribution type "" + distribution);
        }
    }",Código em Conformidade,
Java,copying a file to a path,"  @Nonnull
  private static ESuccess _copyFileViaChannel (@Nonnull final File aSrcFile, @Nonnull final File aDestFile)
  {
    final FileChannel aSrcChannel = FileChannelHelper.getFileReadChannel (aSrcFile);
    if (aSrcChannel == null)
      return ESuccess.FAILURE;

    try
    {
      final FileChannel aDstChannel = FileChannelHelper.getFileWriteChannel (aDestFile, EAppend.TRUNCATE);
      if (aDstChannel == null)
        return ESuccess.FAILURE;

      try
      {
        FileLock aSrcLock = null;
        FileLock aDestLock = null;
        try
        {
          final long nBytesToRead = aSrcChannel.size ();

          // Shared read lock and exclusive write lock
          aSrcLock = aSrcChannel.lock (0, nBytesToRead, true);
          aDestLock = aDstChannel.lock ();

          // Main copying - the loop version is much quicker than then
          // transferTo with full size!
          long nBytesWritten = 0;
          final long nChunkSize = 1L * CGlobal.BYTES_PER_MEGABYTE;
          while (nBytesWritten < nBytesToRead)
            nBytesWritten += aSrcChannel.transferTo (nBytesWritten, nChunkSize, aDstChannel);

          if (nBytesToRead != nBytesWritten)
          {
            if (LOGGER.isErrorEnabled ())
              LOGGER.error (""Failed to copy file. Meant to read "" + nBytesToRead + "" bytes but wrote "" + nBytesWritten);
            return ESuccess.FAILURE;
          }
          return ESuccess.SUCCESS;
        }
        catch (final IOException ex)
        {
          throw new IllegalStateException (""Failed to copy from "" + aSrcFile + "" to "" + aDestFile, ex);
        }
        finally
        {
          // Unlock
          ChannelHelper.release (aDestLock);
          ChannelHelper.release (aSrcLock);
        }
      }
      finally
      {
        ChannelHelper.close (aDstChannel);
      }
    }
    finally
    {
      ChannelHelper.close (aSrcChannel);
    }
  }",Código em Conformidade,
Java,custom http error response,"    public static void readErrorResponse(URLConnection c)
    {
        if (c == null)
        {
            return;
        }
        InputStream in = null;
        try
        {
            int error = ((HttpURLConnection) c).getResponseCode();
            in = ((HttpURLConnection) c).getErrorStream();
            if (in == null)
            {
                return;
            }
            LOG.warn(""HTTP error response: "" + ((HttpURLConnection) c).getResponseMessage());
            // read the response body
            ByteArrayOutputStream out = new ByteArrayOutputStream(1024);
            int count;
            byte[] bytes = new byte[8192];
            while ((count = in.read(bytes)) != -1)
            {
                out.write(bytes, 0, count);
            }
            LOG.warn(""HTTP error Code:  "" + error);
        }
        catch (ConnectException e)
        {
            LOG.error(""Connection exception trying to read HTTP error response"", e);
        }
        catch (IOException e)
        {
            LOG.error(""IO Exception trying to read HTTP error response"", e);
        }
        catch (Exception e)
        {
            LOG.error(""Exception trying to read HTTP error response"", e);
        }
        finally
        {
            IOUtilities.close(in);
        }
    }",Código em Conformidade,
Java,replace in file,"    public boolean replaceStringsInFile(String filePath, Map<String, String> replaceValues) {
        return replaceStringsInFile(filePath, replaceValues, null);
    }",Código em Conformidade,
Java,convert string to number,"	public Object doConvert(ConversionContext context, Object sourceObject, TypeReference<?> destinationType) throws ConverterException {
		if (sourceObject == null) {
			if (destinationType.isPrimitive()) {
				throw new ConverterException(""Cannot convert null to a primitive number"");
			}
			return null;
		}

		String sourceString = (String) sourceObject;

		ParsePosition pos = new ParsePosition(0);
		Number number;
		synchronized(this) {
			number = numberFormat.parse(sourceString, pos);
		}
		if (pos.getIndex() < sourceString.length()) {
			number = null;
		}

		if (number == null) {
			throw new ConverterException(MessageFormat.format(
					""Could not convert ''{0}'' to a number"", sourceString));
		}

		return numberToNumberConverter.convert(context, number, destinationType);
	}",Código em Conformidade,
Java,sending binary data over a serial connection,"    public void sendOneWay(MessageOut message, int id, InetAddress to)
    {
        if (logger.isTraceEnabled())
            logger.trace(FBUtilities.getBroadcastAddress() + "" sending "" + message.verb + "" to "" + id + ""@"" + to);

        if (to.equals(FBUtilities.getBroadcastAddress()))
            logger.trace(""Message-to-self {} going over MessagingService"", message);

        // message sinks are a testing hook
        MessageOut processedMessage = SinkManager.processOutboundMessage(message, id, to);
        if (processedMessage == null)
        {
            return;
        }

        // get pooled connection (really, connection queue)
        OutboundTcpConnection connection = getConnection(to, processedMessage);

        // write it
        connection.enqueue(processedMessage, id);
    }",Código em Conformidade,
Java,postgresql connection,"  private static long toJavaSecs(long secs) {
    // postgres epoc to java epoc
    secs += 946684800L;

    // Julian/Gregorian calendar cutoff point
    if (secs < -12219292800L) { // October 4, 1582 -> October 15, 1582
      secs += 86400 * 10;
      if (secs < -14825808000L) { // 1500-02-28 -> 1500-03-01
        int extraLeaps = (int) ((secs + 14825808000L) / 3155760000L);
        extraLeaps--;
        extraLeaps -= extraLeaps / 4;
        secs += extraLeaps * 86400L;
      }
    }
    return secs;
  }",Código em Conformidade,
Java,get inner html,"    public static String stripHtml(String html) {

        if (html == null) {
            return null;
        }
        Element el = DOM.createDiv();
        el.setInnerHTML(html);
        return el.getInnerText();
    }",Código em Conformidade,
Java,convert a utc time to epoch,"	public static DateTime epoch() {
		 MutableDateTime epoch = new MutableDateTime();
		 
	     epoch.setDate(0); 
	     epoch.setTime(0);
	        
	     return epoch.toDateTime();
	}",Código em Conformidade,
Java,print model summary,"    protected void printResultSummary(ResultsSummary s, List<FeatureToken> featuresList) {
        new FailureSummaryWriter().printFailureSummary(featuresList, this::printMessage);
        new ResultSummaryWriter().printResultSummary(s, this::printMessage);
    }",Código em Conformidade,
Java,parse query string in url,"    private String appendQueryString(String url, Map<String, Object> query) {
        if(query != null && query.size() > 0) {
            String queryString = this.queryAsString(query);
            return String.format(""%s?%s"", url, queryString);
        } else {
            return url;
        }
    }",Código em Conformidade,
Java,extract data from html content,"	private String extractHTMLRobots(MetaData m) {
		JSONArray metas = JSONUtils.extractArray(m, ""Envelope.Payload-Metadata.HTTP-Response-Metadata.HTML-Metadata.Head.Metas"");
		if(metas != null) {
			int count = metas.length();
			for(int i = 0; i < count; i++) {
				JSONObject meta = metas.optJSONObject(i);
				if(meta != null) {
					String name = scanHeadersLC(meta, ""name"", null);
					if(name != null) {
						if(name.toLowerCase().equals(""robots"")) {
							// alright - some robot instructions:
							String content = scanHeadersLC(meta, ""content"", null);
							if(content != null) {
								return parseRobotInstructions(content);
							}
						}
					}
				}
			}
		}
		return ""-"";
	}",Código em Conformidade,
Java,map to json,"    private static Json.JObject toObject(Map<String, Value> object) {
        Map<String, Json.JValue> map = new LinkedHashMap<>();
        object.forEach((k, v) -> map.put(k, v.asJson()));
        return Json.jObject(map);
    }",Código em Conformidade,
Java,how to read the contents of a .gz compressed file?,"    private File extract(File compressedFile)
            throws IOException, InterruptedException {
        String fileName = compressedFile.getName().toLowerCase();

        boolean extractFile = !fileName.endsWith(""exe"")
                && !fileName.endsWith(""jar"");
        if (extractFile) {
            log.info(""Extracting binary from compressed file {}"", fileName);
        }
        if (fileName.endsWith(""tar.bz2"")) {
            unBZip2(compressedFile);
        } else if (fileName.endsWith(""tar.gz"")) {
            unTarGz(compressedFile);
        } else if (fileName.endsWith(""gz"")) {
            unGzip(compressedFile);
        } else if (fileName.endsWith(""msi"")) {
            extractMsi(compressedFile);
        } else if (fileName.endsWith(""zip"")) {
            unZip(compressedFile);
        }

        if (extractFile) {
            deleteFile(compressedFile);
        }

        File result = WebDriverManager.getInstance(driverManagerType)
                .postDownload(compressedFile).getAbsoluteFile();
        log.trace(""Resulting binary file {}"", result);

        return result;
    }",Código em Conformidade,
Java,how to extract zip file recursively,"    private void extractOneFromZip(File srcFile, String entryName, File dstFile)
            throws IOException {

        try (ZipFile zipFile = new ZipFile(srcFile)) {
            Enumeration<? extends ZipEntry> enu = zipFile.entries();

            while (enu.hasMoreElements()) {
                ZipEntry zipEntry = enu.nextElement();

                if (zipEntry.getName().equals(entryName)) {

                    File parentDir = dstFile.getParentFile();
                    if (!parentDir.exists()) {
                        parentDir.mkdirs();
                    }

                    try (InputStream is = zipFile.getInputStream(zipEntry)) {
                        Files.copy(is, dstFile.toPath());
                    }
                }

            }
        }
    }",Bug Crítico,
Java,normal distribution,"  public static <E> Distribution<E> getDistributionFromPartiallySpecifiedCounter(Counter<E> c, int numKeys){
    Distribution<E> d;
    double total = c.totalCount();
    if (total >= 1.0){
      d = getDistribution(c);
      d.numberOfKeys = numKeys;
    } else {
      d = new Distribution<E>();
      d.numberOfKeys = numKeys;
      d.counter = c;
      d.reservedMass = 1.0 - total;
    }
    return d;
  }",Código em Conformidade,
Java,scatter plot,"    public static PlotCanvas plot(String id, double[][] data, int[] y, char[] legend, Color[] palette) {
        if (data[0].length != 2 && data[0].length != 3) {
            throw new IllegalArgumentException(""Invalid data dimension: "" + data[0].length);
        }

        double[] lowerBound = Math.colMin(data);
        double[] upperBound = Math.colMax(data);
        PlotCanvas canvas = new PlotCanvas(lowerBound, upperBound);

        ScatterPlot plot = new ScatterPlot(data, y, legend, palette);
        plot.setID(id);
        canvas.add(plot);

        return canvas;
    }",Código em Conformidade,
Java,encode url,"    private String urlEncode(String s) throws UnsupportedEncodingException {
        return URLEncoder.encode(s, String.valueOf(StandardCharsets.UTF_8));
    }",Código em Conformidade,
Java,read properties file,"  public static Properties readPropertiesFromFile(File file)
      throws IOException {
    try (FileInputStream fis = new FileInputStream(file)) {
      Properties prop = new Properties();
      prop.load(fis);
      return prop;
    }
  }",Bug Crítico,
Java,aes encryption,"	private byte[] aesDecrypt(byte[] encryptionKey, byte[] iv, byte[] encryptedMessage)
			throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,
			InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {

		Cipher cipher = Cipher.getInstance(AES_CFB_NO_PADDING_ALGORITHM);
		cipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(encryptionKey, SYMMETRIC_KEY_TYPE), new IvParameterSpec(iv));
		return cipher.doFinal(encryptedMessage);

	}",Código em Conformidade,
Java,nelder mead optimize,,Código em Conformidade,
Java,how to extract zip file recursively,"    public static void extractZip(File file) throws FileNotFoundException, IOException {
        final String originalPath = file.getPath();
        final File zip = new File(originalPath + "".zip"");
        if (zip.isFile() && !zip.delete()) {
            LOGGER.debug(""Failed to delete initial temporary file when extracting 'zip' {}"", zip.toString());
            zip.deleteOnExit();
        }
        if (!file.renameTo(zip)) {
            throw new IOException(""Unable to rename '"" + file.getPath() + ""'"");
        }
        final File newFile = new File(originalPath);
        try (FileInputStream fis = new FileInputStream(zip);
                ZipInputStream cin = new ZipInputStream(fis);
                FileOutputStream out = new FileOutputStream(newFile)) {
            cin.getNextEntry();
            IOUtils.copy(cin, out);
        } finally {
            if (zip.isFile() && !org.apache.commons.io.FileUtils.deleteQuietly(zip)) {
                LOGGER.debug(""Failed to delete temporary file when extracting 'zip' {}"", zip.toString());
                zip.deleteOnExit();
            }
        }
    }",Bug Crítico,
Java,deducting the median from each column,"    public SQLBuilder except(final Collection<String> columnNames) {
        op = OperationType.QUERY;

        this.columnNames = null;
        this.columnNameList = columnNames;
        this.columnAliases = null;

        sb.append(_SPACE_EXCEPT_SPACE);

        return this;
    }",Código em Conformidade,
Java,write csv,"    @SuppressWarnings(""Duplicates"")
    public static void main(String[] args) {
        // init logging
        PropertyConfigurator.configure(
                IdxWritingExample.class.getResource(PACKAGE + ""/log4j.properties""));

        // create some CSV records
        List<IdxRecord> records = new ArrayList<>();
        records.add(createRecord());
        records.add(createRecord());
        records.add(createRecord());
        records.add(createRecord());

        // write CSV records into a java.io.File
        try {
            write(records, File.createTempFile(""output-"", "".csv""));
        } catch (IOException ex) {
            LOGGER.error(""Can't create temporary file!"");
            LOGGER.error(""> "" + ex.getLocalizedMessage(), ex);
            System.exit(1);
        }

        // write CSV records into a java.io.OutputStream
        write(records, new NullOutputStream());

        // write CSV records into a java.io.Writer
        write(records, new NullWriter());

        // write CSV records into a string and send it to the console
        writeToConsole(records);
    }",Código em Conformidade,
Java,how to get database table name,"	public static ArrayList<String> getColumnNames(SQLiteDatabase db, String table) {
		return readStrings(db, ""PRAGMA table_info("" + table + "")"", 1);
	}",Código em Conformidade,
Java,how to reverse a string,"    public static String reverse(final String str) {
        if (str == null) {
            return null;
        }
        return new StringBuilder(str).reverse().toString();
    }",Código em Conformidade,
Java,filter array,"    public static Filter and(Filter... filter) {
        if (filter.length == 1) return filter[0];
        AndFilter result = new AndFilter();
        for (int i = 0; i < filter.length; i++) {
            result.and(filter[i]);
        }
        return result;
    }",Código em Conformidade,
Java,converting uint8 array to image,"	@Override
	public void setLegendImageServiceUrl(String legendImageServiceUrlAsString) {
		this.image = null; // remove the cached image
		this.legendImageServiceUrl = null; // Clear the cached value

		URL absoluteUrl = null;

		if (!legendImageServiceUrlAsString.startsWith(""http:"") && !legendImageServiceUrlAsString.startsWith(""https:"")) {

			try {
				String baseUrlAsString = dispatcherUrlService.getLocalDispatcherUrl();
				log.debug(""BaseURL: {}"", baseUrlAsString);
				URL baseUrl = new URL(baseUrlAsString);
				absoluteUrl = new URL(baseUrl, ""../"" + legendImageServiceUrlAsString);
				log.debug(""AbsoluteUrl: {}"", absoluteUrl);
			} catch (MalformedURLException e) {
				// Should never happen...
				log.error(""Error converting URL "" + legendImageServiceUrlAsString + "" to absolute URL"", e);
				e.printStackTrace();
			}
		} else {
			try {
				absoluteUrl = new URL(legendImageServiceUrlAsString);
			} catch (MalformedURLException e) {
				// Should never happen...
				log.error(""Error converting URL "" + legendImageServiceUrlAsString + "" to absolute URL"", e);
			}
		}
		this.legendImageServiceUrlAsString = absoluteUrl.toExternalForm();
	}",Código em Conformidade,
Java,randomly extract x items from a list,"	public List<Point2D3D> createObservations( Se3_F64 worldToCamera , int total ) {

		Se3_F64 cameraToWorld = worldToCamera.invert(null);

		// transform from pixel coordinates to normalized pixel coordinates, which removes lens distortion
		Point2Transform2_F64 pixelToNorm = LensDistortionFactory.narrow(intrinsic).undistort_F64(true,false);

		List<Point2D3D> observations = new ArrayList<>();

		Point2D_F64 norm = new Point2D_F64();
		for (int i = 0; i < total; i++) {
			// randomly pixel a point inside the image
			double x = rand.nextDouble()*intrinsic.width;
			double y = rand.nextDouble()*intrinsic.height;

			// Convert to normalized image coordinates because that's what PNP needs.
			// it can't process pixel coordinates
			pixelToNorm.compute(x,y,norm);

			// Randomly pick a depth and compute 3D coordinate
			double Z = rand.nextDouble()+4;
			double X = norm.x*Z;
			double Y = norm.y*Z;

			// Change the point's reference frame from camera to world
			Point3D_F64 cameraPt = new Point3D_F64(X,Y,Z);
			Point3D_F64 worldPt = new Point3D_F64();

			SePointOps_F64.transform(cameraToWorld,cameraPt,worldPt);

			// Save the perfect noise free observation
			Point2D3D o = new Point2D3D();
			o.getLocation().set(worldPt);
			o.getObservation().set(norm.x,norm.y);

			observations.add(o);
		}

		return observations;
	}",Código em Conformidade,
Java,convert decimal to hex,"    public static BigDecimal decimalPart(final BigDecimal val) {
        return BigDecimalUtil.subtract(val, val.setScale(0, BigDecimal.ROUND_DOWN));
    }",Código em Conformidade,
Java,aes encryption,"	public boolean testEncryption() {
		// Uses test data in rfc3711 to test encryption
		boolean ret = true;
		rollOverCounter = 0L;
		byte[] sessKey = { (byte) 0x2B, (byte) 0x7E, (byte) 0x15, (byte) 0x16,
				(byte) 0x28, (byte) 0xAE, (byte) 0xD2, (byte) 0xA6,
				(byte) 0xAB, (byte) 0xF7, (byte) 0x15, (byte) 0x88,
				(byte) 0x09, (byte) 0xCF, (byte) 0x4F, (byte) 0x3C };
		byte[] sessSalt = { (byte) 0xF0, (byte) 0xF1, (byte) 0xF2, (byte) 0xF3,
				(byte) 0xF4, (byte) 0xF5, (byte) 0xF6, (byte) 0xF7,
				(byte) 0xF8, (byte) 0xF9, (byte) 0xFA, (byte) 0xFB,
				(byte) 0xFC, (byte) 0xFD };

		byte[] IV = new byte[16];
		initialiseIV(IV, 0L, 0, 0L, sessSalt);
		byte[] outArray = null;
		try {
			// AESKey key = new AESKey(sessKey);
			// AESEncryptorEngine engine = new AESEncryptorEngine(key);
			EncryptorSuite encSuite = platform.getCrypto()
					.createEncryptorSuite(sessKey, initVector);
			ByteArrayOutputStream baos = new ByteArrayOutputStream();
			for (int i = 0; i < 3; ++i) {
				//logBuffer(""testEncryption, IV - "", IV);
				byte[] encrypted = encSuite.encryptIV_for_prf(IV);
				//logBuffer(""testEncryption, encrypted block - "", encrypted);
				baos.write(encrypted);
				incrementIV(IV);
			}
			outArray = baos.toByteArray();
			baos.close();
			//logBuffer(""testEncryption, outArray - "", outArray);
		} catch (Throwable e) {
			log(""testEncryption, Exception thrown"");
			ret = false;
		}
		String outString = platform.getUtils().byteToHexString(outArray);
		String expectedOutput = ""E03EAD0935C95E80E166B16DD92B4EB4D23513162B02D0F72A43A2FE4A5F97AB41E95B3BB0A2E8DD477901E4FCA894C0"";
		if (!outString.equalsIgnoreCase(expectedOutput)) {
			ret = false;
		}
		return ret;
	}",Código em Conformidade,
Java,positions of substrings in string,,Código em Conformidade,
Java,parse json file,"    public static DocumentContext parse(File json, Configuration configuration) throws IOException {
        return new ParseContextImpl(configuration).parse(json);
    }",Código em Conformidade,
Java,html encode string,"    public static String encodeTo(String buttonCaption, String html) {
        try {
            return new ExpandableDetailsNote(buttonCaption, html).encode();
        } catch (IOException e) {
            // impossible, but don't make this a fatal problem
            LOGGER.log(Level.WARNING, ""Failed to serialize ""+HyperlinkNote.class,e);
            return """";
        }
    }",Código em Conformidade,
Java,reading element from html - <td>,"    public HtmlElement findHtmlElementById(String elementId) {
        try {
            return htmlPage.getHtmlElementById(elementId);
        } catch (ElementNotFoundException e) {
            return null;
        }
    }",Código em Conformidade,
Java,print model summary,"  private static void summarizeDeepLearningModel(ModelSummary summary, hex.deeplearning.DeepLearningModel model) {
    // add generic fields such as column names
    summarizeModelCommonFields(summary, model);

    summary.model_algorithm = ""DeepLearning"";

    JsonObject all_params = (model.get_params()).toJSON();
    summary.critical_parameters = whitelistJsonObject(all_params, DL_critical_params);
    summary.secondary_parameters = whitelistJsonObject(all_params, DL_secondary_params);
    summary.expert_parameters = whitelistJsonObject(all_params, DL_expert_params);
  }",Código em Conformidade,
Java,parse command line argument,"    public void parse(String arg) {
        if (super.parseArg(arg))
            return;
        if (arg.startsWith(Main.STDOUT_PREFIX)) {
            //Ignore this
        } else if (srcFile == null) {
            srcFile = new File(arg);
        } else {
            setInvalid(format(""JSCover: Extra command line argument found '%s'"", arg));
        }
    }",Código em Conformidade,
Java,convert a utc time to epoch,"  public static Long toEpoch(Date dateTime, String timeZone) {
    // Epoch of midnight in local time zone
    Calendar timeOffset = Calendar.getInstance(TimeZone.getTimeZone(timeZone));
    timeOffset.set(Calendar.MILLISECOND, 0);
    timeOffset.set(Calendar.SECOND, 0);
    timeOffset.set(Calendar.MINUTE, 0);
    timeOffset.set(Calendar.HOUR_OF_DAY, 0);

    long midnightOffSet = timeOffset.getTime().getTime();
    long localTimestamp = dateTime.getTime();

    return timeOffset == null ? null : midnightOffSet + localTimestamp;
  }",Código em Conformidade,
Java,initializing array,"    public static void initializeCDI(Application application){
        JSFExtensionFactory factory = instance.get();
        if(factory != null){
            if(factory.cdiJSFInitializerService != null){
                CDIJSFInitializer cdiInitializer = factory.cdiJSFInitializerService.getService();
                if(cdiInitializer != null){
                    cdiInitializer.initializeCDIJSFELContextListenerAndELResolver(application);
                    cdiInitializer.initializeCDIJSFViewHandler(application);
                }
            }
        }
    }",Código em Conformidade,
Java,priority queue,"    @Override
	public final void setPriority(int priority) throws JMSException
    {
        if (priority < 0 || priority > 9)
            throw new FFMQException(""Invalid priority value : ""+priority,""INVALID_PRIORITY"");
        
        this.defaultPriority = priority;
    }",Código em Conformidade,
Java,how to randomly pick a number,"  private int pickRandomSlotInR() {
    assert r_ > 0;
    final int offset = h_ + m_;
    if (r_ == 1) {
      return offset;
    } else {
      return offset + SamplingUtil.rand.nextInt(r_);
    }
  }",Código em Conformidade,
Java,filter array,"	public static <A> A[] arrayFilter(A[] arr, Predicate<A> accept) {
		if (arr == null || arr.length == 0)
			return arr;
		A[] accepted = newArray(arr, arr.length);
		int j = 0;
		for (int i = 0; i < arr.length; i++)
			if (accept.test(arr[i]))
				accepted[j++] = arr[i];
		return j == arr.length ? arr : copyOf(accepted, j);
	}",Código em Conformidade,
Java,socket recv timeout,"	public static Socket setupSocket( Socket socket , int socketSendBufferSize , int socketRecvBufferSize ) throws PacketTransportException
    {
    	try
    	{
	    	socket.setTcpNoDelay(true);    	
	    	socket.setSendBufferSize(socketSendBufferSize);
	    	socket.setReceiveBufferSize(socketRecvBufferSize);
	    	socket.setKeepAlive(false);
	    	
	    	return socket;
    	}
    	catch (SocketException e)
    	{
    		throw new PacketTransportException(""Could not set socket options"",e);
    	}
    }",Código em Conformidade,
Java,read text file line by line,"    protected void readLineByLine() {
        String line;
        try {
            while ((line = data.readLine()) != null) {
                //System.out.println(line);
                ObjectNode interaction = (ObjectNode) DataSiftClient.MAPPER.readTree(line);
                send(new Interaction(interaction));
            }
            buffer.discardReadBytes();
        } catch (IOException e) {
            log.info(""Failed to decode interaction "", e);
        }
    }",Código com Débito Técnico,
Java,find int in string,"    public String find(PushbackReader in, int size) throws IOException, SyntaxErrorException
    {
        if (acceptEmpty)
        {
            throw new IllegalArgumentException(""using find for  '"" + expression + ""'  that accepts empty string"");
        }
        InputReader reader = Input.getInstance(in, size);
        int rc = find(reader);
        reader.release();
        if (rc == 1)
        {
            return reader.getString();
        }
        else
        {
            throw new SyntaxErrorException(""string matching  '"" + expression + ""'  not found"");
        }
    }",Código em Conformidade,
Java,heatmap from 3d coordinates,"    private static GeometricParity geometric3D(int i, int[] adjacent, IAtomContainer container) {

        IAtom atom = container.getAtom(i);
        Point3d[] coordinates = new Point3d[4];

        // set the forth ligand to centre as default (overwritten if
        // we have 4 neighbors)
        if (atom.getPoint3d() != null)
            coordinates[3] = atom.getPoint3d();
        else
            return null;

        // for each neighboring atom check if we have 3D coordinates
        for (int j = 0; j < adjacent.length; j++) {
            IAtom neighbor = container.getAtom(adjacent[j]);

            if (neighbor.getPoint3d() != null)
                coordinates[j] = neighbor.getPoint3d();
            else
                return null; // skip to next atom
        }

        // add new 3D stereo encoder
        return new Tetrahedral3DParity(coordinates);

    }",Código em Conformidade,
Java,set file attrib hidden,"    public static File writeARFF(TrainingCorpus corpus, Lexicon lexicon,
            boolean b, String vector_location,
            Map<Integer, Integer> attributeMapping) throws IOException {
        File vectorFile = new File(vector_location);
        PrintWriter out = null;
        out = new PrintWriter(new FileWriter(vectorFile));

        out.print(""%\n% Dataset generated by the TextClassifiation API\n%\n\n"");

        // generate the arff headers
        out.print(""@relation dataset\n\n"");

        // label values
        out.print(""@attribute label {"");
        boolean isFirst = true;
        for (String l : lexicon.getLabels()) {
            if (!isFirst)
                out.print("","");
            out.print(l);
            isFirst = false;
        }
        out.print(""}\n"");

        // dump the content of the lexicon file
        int attributeNum = lexicon.getAttributesNum();
        Map<Integer, String> iindex = lexicon.getInvertedIndex();
        for (int c = 1; c <= attributeNum; c++) {
            String attrib = iindex.get(c);
            if (attrib == null)
                attrib = ""NULL"";
            else
                attrib = attrib.replaceAll(""\\s+"", "" "");
            attrib = attrib.replaceAll(""\"""", ""&quote;"");
            if (attrib.endsWith(""\\""))
                attrib = attrib.substring(0, attrib.length() - 1);
            attrib = ""\""i_"" + c + ""_"" + attrib + ""\"""";
            out.print(""@attribute "" + attrib + ""  NUMERIC\n"");
        }

        out.print(""\n"");

        out.print(""@data\n"");

        // get an iterator on the Corpus
        // and retrieve the documents one by one
        Iterator<Document> docIterator = corpus.iterator();
        while (docIterator.hasNext()) {
            Document doc = docIterator.next();
            int label = doc.getLabel();
            // get a vector from the document
            // need a metric (e.g. relative frequency / binary)
            // and a lexicon
            // the vector is represented as a string directly
            Vector vector = null;
            if (attributeMapping == null)
                vector = doc.getFeatureVector(lexicon);
            else
                vector = doc.getFeatureVector(lexicon, attributeMapping);

            StringBuffer buffer = new StringBuffer(""{"");

            buffer.append(""0 "").append(lexicon.getLabel(label));

            // {1 X, 3 Y, 4 ""class A""}
            // index space value
            int[] indices = vector.getIndices();
            double[] values = vector.getValues();
            for (int i = 0; i < indices.length; i++) {
                if (buffer.length() > 1)
                    buffer.append("", "");
                if (indices[i] > attributeNum)
                    continue;
                buffer.append(indices[i]).append("" "").append(values[i]);
            }
            buffer.append(""}\n"");
            out.print(buffer.toString());
        }
        out.close();
        return vectorFile;
    }",Código em Conformidade,
Java,convert html to pdf,"    public static File convertPdf2Tiff(File inputPdfFile) throws IOException {
        if (PDFBOX.equals(System.getProperty(PDF_LIBRARY))) {
            return PdfBoxUtilities.convertPdf2Tiff(inputPdfFile);
        } else {
            try {
                return PdfGsUtilities.convertPdf2Tiff(inputPdfFile);
            } catch (Exception e) {
                System.setProperty(PDF_LIBRARY, PDFBOX);
                return convertPdf2Tiff(inputPdfFile);
            }
        }
    }",Código em Conformidade,
Java,copying a file to a path,"    public static void copyFile(File source, File dest) throws IOException {
        log.debug(""Copy from {} to {}"", source.getAbsoluteFile(), dest.getAbsoluteFile());
        FileInputStream fi = new FileInputStream(source);
        FileChannel fic = fi.getChannel();
        MappedByteBuffer mbuf = fic.map(FileChannel.MapMode.READ_ONLY, 0, source.length());
        fic.close();
        fi.close();
        fi = null;

        // ensure the destination directory exists
        if (!dest.exists()) {
            String destPath = dest.getPath();
            log.debug(""Destination path: {}"", destPath);
            String destDir = destPath.substring(0, destPath.lastIndexOf(File.separatorChar));
            log.debug(""Destination dir: {}"", destDir);
            File dir = new File(destDir);
            if (!dir.exists()) {
                if (dir.mkdirs()) {
                    log.debug(""Directory created"");
                } else {
                    log.warn(""Directory not created"");
                }
            }
            dir = null;
        }

        FileOutputStream fo = new FileOutputStream(dest);
        FileChannel foc = fo.getChannel();
        foc.write(mbuf);
        foc.close();
        fo.close();
        fo = null;

        mbuf.clear();
        mbuf = null;
    }",Código em Conformidade,
Java,positions of substrings in string,"  public static String[] splitString(final String s, final char c) {
    final char[] chars = s.toCharArray();
    int num_substrings = 1;
    for (final char x : chars) {
      if (x == c) {
        num_substrings++;
      }
    }
    final String[] result = new String[num_substrings];
    final int len = chars.length;
    int start = 0;  // starting index in chars of the current substring.
    int pos = 0;    // current index in chars.
    int i = 0;      // number of the current substring.
    for (; pos < len; pos++) {
      if (chars[pos] == c) {
        result[i++] = new String(chars, start, pos - start);
        start = pos + 1;
      }
    }
    result[i] = new String(chars, start, pos - start);
    return result;
  }",Código em Conformidade,
Java,buffered file reader read text,"  public Text read() throws IOException {
    if (this.mCurrentReader == null) {
      updateReader();
    }
    Text ret = this.mCurrentReader.read();
    if (ret != null)
      return ret;

    this.mCurrentIndex++;
    if (this.mCurrentIndex < this.mFiles.size()) {
      this.updateReader();
      return read();
    }

    return null;
  }",Código em Conformidade,
Java,buffered file reader read text,"    public static BufferedReader newReader(Path self) throws IOException {
        return Files.newBufferedReader(self, Charset.defaultCharset());
    }",Código em Conformidade,
Java,convert string to number,,Código em Conformidade,
Java,httpclient post json,"    private boolean httpPost(String url, String msg) {
        boolean ret = false;

        CloseableHttpClient httpClient = HttpClientBuilder.create().build();
        CloseableHttpResponse response = null;
        try {
            HttpPost request = new HttpPost(url);
            List<NameValuePair> nvps = new ArrayList<>();
            nvps.add(new BasicNameValuePair(""name"", monitorName));
            nvps.add(new BasicNameValuePair(""msg"", msg));
            request.setEntity(new UrlEncodedFormEntity(nvps));
            response = httpClient.execute(request);
            HttpEntity entity = response.getEntity();
            if (entity != null) {
                LOG.info(EntityUtils.toString(entity));
            }
            EntityUtils.consume(entity);
            ret = true;
        } catch (Exception e) {
            LOG.error(""Exception when sending http request to ali monitor"", e);
        } finally {
            try {
                if (response != null)
                    response.close();
                httpClient.close();
            } catch (Exception e) {
                LOG.error(""Exception when closing httpclient"", e);
            }
        }

        return ret;
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,how to extract zip file recursively,"    private void advance() throws IOException {
        if (!entries.hasNext()) {
            if (!files.hasNext()) {
                next = null;
                return;
            }
            File file = files.next();
            if (hasExtension(file.getName(), "".jar"")) {
                ZipFile zip = new JarFile(file);
                zips.add(zip);
                entries = new ZipIterator(zip);
            } else if (hasExtension(file.getName(), "".zip"")) {
                ZipFile zip = new ZipFile(file);
                zips.add(zip);
                entries = new ZipIterator(zip);
            } else if (file.isDirectory()) {
                entries = new FileIterator(file);
            } else {
                throw new IllegalArgumentException(""Do not know how to handle "" + file);
            }
        }

        boolean foundClass = false;
        while (!foundClass && entries.hasNext()) {
          next = entries.next();
          foundClass = isClass(next.getName());
        }
        if (!foundClass) {
          advance();
        }
    }",Código em Conformidade,
Java,convert html to pdf,"    public Result<String> convertToHtml(File file) throws IOException {
        return new InternalDocumentConverter(options).convertToHtml(file).toResult();
    }",Código em Conformidade,
Java,export to excel,"    public void writeExcelFile() throws IOException, WriteException {
        WritableWorkbook excelWrkBook = null;
        int curDsPointer = 0;

        try {
            final String[] columnNames = ds.getColumns();
            final List<String> exportOnlyColumnsList = getExportOnlyColumns() != null ? Arrays.asList(exportOnlyColumns) : null;
            final List<String> excludeFromExportColumnsList = getExcludeFromExportColumns() != null ? Arrays.asList(excludeFromExportColumns) : null;
            final List<String> numericColumnList = getNumericColumns() != null ? Arrays.asList(getNumericColumns()) : new ArrayList<>();
            // get the current position of the DataSet. We have to go to the top
            // to do this write,
            // and we will put the pionter back where it was after we are done
            curDsPointer = ds.getIndex();
            ds.goTop();

            excelWrkBook = Workbook.createWorkbook(xlsFile);
            final WritableSheet wrkSheet = excelWrkBook.createSheet(""results"", 0);

            final WritableFont times10ptBold = new WritableFont(WritableFont.TIMES, 10, WritableFont.BOLD);
            final WritableFont times10pt = new WritableFont(WritableFont.TIMES, 10, WritableFont.NO_BOLD);
            // write the column headings in the spreadsheet
            WritableCellFormat cellFormat = new WritableCellFormat(times10ptBold);
            int colOffset = 0;
            for (int i = 0; i < columnNames.length; i++) {
                if (exportOnlyColumnsList != null && !exportOnlyColumnsList.contains(columnNames[i])
                        || excludeFromExportColumnsList != null && excludeFromExportColumnsList.contains(columnNames[i])) {
                    colOffset++;
                    continue;
                }

                final Label xlsTextLbl = new Label(i - colOffset, 0, columnNames[i], cellFormat);
                wrkSheet.addCell(xlsTextLbl);
            }

            cellFormat = new WritableCellFormat(times10pt);
            int row = 1;
            while (ds.next()) {
                if (!ds.isRecordID(FPConstants.DETAIL_ID)) {
                    continue;
                }

                colOffset = 0;
                for (int i = 0; i < columnNames.length; i++) {
                    if (exportOnlyColumnsList != null && !exportOnlyColumnsList.contains(columnNames[i])
                            || excludeFromExportColumnsList != null && excludeFromExportColumnsList.contains(columnNames[i])) {
                        colOffset++;
                        continue;
                    }

                    WritableCell wc = null;
                    if (numericColumnList.contains(columnNames[i])) {
                        wc = new Number(i - colOffset, row, ds.getDouble(columnNames[i]), cellFormat);
                    } else {
                        wc = new Label(i - colOffset, row, ds.getString(columnNames[i]), cellFormat);
                    }

                    wrkSheet.addCell(wc);
                }

                row++;
            }

            excelWrkBook.write();

        } finally {
            if (curDsPointer > -1) {
                ds.absolute(curDsPointer);
            }
            if (excelWrkBook != null) {
                excelWrkBook.close();
            }
        }

    }",Bug Crítico,
Java,json to xml conversion,"    public static String jsonToXml(String json) {
        return jsonToXml(json, Xml.XmlStringBuilder.Step.TWO_SPACES);
    }",Código em Conformidade,
Java,matrix multiply,"    public Matrix multiply(Matrix B, ExecutorService threadPool)
    {
        Matrix C = new DenseMatrix(this.rows(), B.cols());
        multiply(B, C, threadPool);
        return C;
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,priority queue,"	@SuppressWarnings(""unchecked"")
	@Override
	public PriorityQueue readObject(OInput in, Class<PriorityQueue> clazz) throws IOException {
		int size = NaturalNumberIoHelper.readNaturalNumber(in);
		
		Comparator comparator = (Comparator)in.readObject();
		PriorityQueue queue = new PriorityQueue(size, comparator);
		
		for(int i=0 ; i<size ; i++) {
			queue.add(in.readObject());
		}
		
		return queue;
	}",Código em Conformidade,
Java,get the description of a http status code,"	private static String toStatusString(int theStatusCode) {
		return Integer.toString(theStatusCode) + "" "" + defaultString(Constants.HTTP_STATUS_NAMES.get(theStatusCode));
	}",Código em Conformidade,
Java,read text file line by line,"    public static void writeFile(ArrayList<String> content, String ruleFile) {
        ArrayList<String> output = new ArrayList<String>();
        File file = new File(ruleFile);
        BufferedWriter reader = null;
        try {
            reader = new BufferedWriter(new FileWriter(file));

            // read rules line by line to construct the regular expression
            for (String line : content) {
                reader.write(line + ""\n"");
            }
            reader.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }",Código em Conformidade,
Java,encrypt aes ctr mode,"    @Override
    public String encrypt(String plainText) throws CryptoException {
        try {
            byte[] initializationVector = getIvProviderInstance().createIV();
            Cipher encryptCipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
            encryptCipher.init(Cipher.ENCRYPT_MODE, createSecretKeySpec(), new IvParameterSpec(initializationVector));

            byte[] bytesToEncrypt = plainText.getBytes(StandardCharsets.UTF_8);
            byte[] encryptedBytes = encryptCipher.doFinal(bytesToEncrypt);

            return String.join("":"", ""AES"", ENCODER.encodeToString(initializationVector), ENCODER.encodeToString(encryptedBytes));
        } catch (Exception e) {
            throw new CryptoException(e);
        }
    }",Código em Conformidade,
Java,html encode string,"    public static String encode(String str)
    {
        String encodedValue = str;

        try
        {
            encodedValue = URLEncoder.encode(encodedValue, ""UTF-8"");

            // Spaces in NRQL queries expected to be encoded as ""%20"" instead of ""+"".
            encodedValue = encodedValue.replace(""+"", ""%20"");
        }
        catch (UnsupportedEncodingException e)
        {
            logger.severe(""Failed to encode value: ""+str);
        }

        return encodedValue;
    }",Código em Conformidade,
Java,how to randomly pick a number,"    public static IntStreamEx of(Random random, int randomNumberOrigin, int randomNumberBound) {
        return seq(random.ints(randomNumberOrigin, randomNumberBound));
    }",Código em Conformidade,
Java,normal distribution,"  public static double quantile(double x, double mu, double sigma) {
    return FastMath.exp(mu + sigma * NormalDistribution.standardNormalQuantile(x));
  }",Código em Conformidade,
Java,convert json to csv,"    public String getCsv() {

        StringWriter writer = new StringWriter();
        try (CSVWriter csv = new CSVWriter(writer)) {
            List<String> headers = new ArrayList<>();
            for (String col : m_columns) {
                headers.add(col);
            }
            csv.writeNext(headers.toArray(new String[] {}));
            for (List<Object> row : m_data) {
                List<String> colCsv = new ArrayList<>();
                for (Object col : row) {
                    colCsv.add(String.valueOf(col));
                }
                csv.writeNext(colCsv.toArray(new String[] {}));
            }
            return writer.toString();
        } catch (IOException e) {
            return null;
        }
    }",Código em Conformidade,
Java,get current process id,"	public Order startInstanceByExecution(Execution execution) {
		Process process = execution.getProcess();
		StartModel start = process.getModel().getStart();
		AssertHelper.notNull(start, ""流程定义[id="" + process.getId() + ""]没有开始节点"");
		
		Execution current = execute(process, execution.getOperator(), execution.getArgs(), 
				execution.getParentOrder().getId(), execution.getParentNodeName());
		start.execute(current);
		return current.getOrder();
	}",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,how to reverse a string,"    public static String reverse(final String str) {
        if (N.isNullOrEmpty(str)) {
            return str;
        }

        final StringBuilder sb = Objectory.createStringBuilder();

        try {
            sb.append(str);

            return sb.reverse().toString();
        } finally {
            Objectory.recycle(sb);
        }
    }",Bug Crítico,
Java,get name of enumerated value,"	private static Enum<?> getEnum(String enumFullName) {
		String[] x = enumFullName.split(""\\.(?=[^\\.]+$)"");
		if (x.length == 2) {
			String enumClassName = x[0];
			String enumName = x[1];
			try {
				Class<Enum> cl = (Class<Enum>) Class.forName(enumClassName);
				return Enum.valueOf(cl, enumName);
			} catch (ClassNotFoundException e) {
				throw new RuntimeException(""Incompatible KafkaProducer version"", e);
			}
		}
		return null;
	}",Código em Conformidade,
Java,convert int to bool,"    public static boolean convertToBoolean(Object value)
    {
        if (value instanceof Boolean)
        {
            return ((Boolean) value);
        }
        else if (value instanceof String)
        {
            try
            {
                return Boolean.parseBoolean((String) value);
            }
            catch (Exception e)
            {
                throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to boolean"");
            }
        }
        else
        {
            throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to boolean"");
        }
    }    ",Código em Conformidade,
Java,socket recv timeout,"    protected Socket acceptSocket(int timeout)
    {
        try
        {
            Socket s = null;

            if (_listen != null)
            {
                if (_soTimeOut != timeout)
                {
                    _soTimeOut = timeout;
                    _listen.setSoTimeout(_soTimeOut);
                }

                s = _listen.accept();

                try
                {
                    if (getMaxIdleTimeMs() >= 0) s.setSoTimeout(getMaxIdleTimeMs());
                    if (_lingerTimeSecs >= 0)
                        s.setSoLinger(true, _lingerTimeSecs);
                    else
                        s.setSoLinger(false, 0);
                }
                catch (Exception e)
                {
                    LogSupport.ignore(log, e);
                }
            }
            return s;
        }
        catch (java.net.SocketException e)
        {
            // TODO - this is caught and ignored due strange
            // exception from linux java1.2.v1a
            LogSupport.ignore(log, e);
        }
        catch (InterruptedIOException e)
        {
            LogSupport.ignore(log, e);
        }
        catch (IOException e)
        {
            log.warn(LogSupport.EXCEPTION, e);
        }
        return null;
    }",Código em Conformidade,
Java,how to read the contents of a .gz compressed file?,"  public static InputStream decompress(final InputStream in, final String fileName) throws IOException
  {
    if (fileName.endsWith(GZ_SUFFIX)) {
      return gzipInputStream(in);
    } else if (fileName.endsWith(BZ2_SUFFIX)) {
      return new BZip2CompressorInputStream(in, true);
    } else if (fileName.endsWith(XZ_SUFFIX)) {
      return new XZCompressorInputStream(in, true);
    } else if (fileName.endsWith(SNAPPY_SUFFIX)) {
      return new FramedSnappyCompressorInputStream(in);
    } else if (fileName.endsWith(ZSTD_SUFFIX)) {
      return new ZstdCompressorInputStream(in);
    } else if (fileName.endsWith(ZIP_SUFFIX)) {
      // This reads the first file in the archive.
      final ZipInputStream zipIn = new ZipInputStream(in, StandardCharsets.UTF_8);
      try {
        final ZipEntry nextEntry = zipIn.getNextEntry();
        if (nextEntry == null) {
          zipIn.close();

          // No files in the archive - return an empty stream.
          return new ByteArrayInputStream(new byte[0]);
        }
        return zipIn;
      }
      catch (IOException e) {
        try {
          zipIn.close();
        }
        catch (IOException e2) {
          e.addSuppressed(e2);
        }
        throw e;
      }
    } else {
      return in;
    }
  }",Código em Conformidade,
Java,scatter plot,"    public void addScatterPlot(String scatterID, String xAxisLabel, String yAxisLabel) throws ShanksException {
        if (!this.timeCharts.containsKey(scatterID)) {
            ScatterPlotGenerator scatter = new ScatterPlotGenerator();
            scatter.setTitle(scatterID);
            scatter.setXAxisLabel(xAxisLabel);
            scatter.setYAxisLabel(yAxisLabel);
            this.scatterPlots.put(scatterID, scatter);
        } else {
            throw new DuplicatedChartIDException(scatterID);
        }
    }",Código em Conformidade,
Java,parse command line argument,"    public static void main(String[] args) throws IOException {

        Arguments arguments = new Arguments().parse(args);

        if (arguments.isUseCommonsLang3()) {
            System.err.println(""--commons-lang3 is deprecated. Please remove the argument from your command-line arguments."");
        }

        Jsonschema2Pojo.generate(arguments);
    }",Código em Conformidade,
Java,extract data from html content,"  private void extract(String htmlDoc) {

    //now extract the contents of <body>...
    int bodyStart = htmlDoc.indexOf(BODY_BEGIN) + BODY_BEGIN.length();

    //scan for end of the <body> start tag (beginning of body content)
    char quote = NOT_IN_QUOTE;
    for (int body = bodyStart; body < htmlDoc.length(); body++) {
      final char c = htmlDoc.charAt(body);
      if (isQuoteChar(c)) {
        if (quote == NOT_IN_QUOTE)
          quote = c;
        else if (quote == c)
          quote = NOT_IN_QUOTE;
      }

      if ('>' == c && NOT_IN_QUOTE == quote) {
        bodyStart = body + 1;
        break;
      }
    }

    int bodyEnd = htmlDoc.indexOf(BODY_END, bodyStart);

    //if there was no body tag, just embed whatever was rendered directly
    if (-1 == bodyEnd) {
      EmbeddedRespond.this.body = htmlDoc;
    } else
      EmbeddedRespond.this.body = htmlDoc.substring(bodyStart, bodyEnd);
  }",Código em Conformidade,
Java,priority queue,"    public static <E> PriorityQueue<E> newPriorityQueue(final PriorityQueue<? extends E> c) {
        return new PriorityQueue<E>(c);
    }",Código em Conformidade,
Java,save list to file,"  public void saveListTo(final String fileName) {
    try {
      PrintStream stream = new PrintStream(new File(fileName));
      printList(stream);
      stream.close();
    } catch (FileNotFoundException e) {
      e.printStackTrace();
    }
  }",Código em Conformidade,
Java,extract data from html content,"	public String toHTML(Object content, Object extra) {
		ByteArrayOutputStream out = new ByteArrayOutputStream();
		str(content, extra, out);
		return out.toString();
	}",Código em Conformidade,
Java,string to date,"    private static String dateToString(Date date) {
        return date == null ? """" : new SimpleDateFormat(StageConverter.DATE_PATTERN).format(date);
    }",Código em Conformidade,
Java,postgresql connection,"    @NotNull
    private Connection ensureConnection() {
        if (sqlConnection == null) {
            try {
                sqlConnection = db.dataSource.getConnection();
            } catch (SQLException e) {
                throw new RuntimeException(""Failed to get connection from DataSource!"", e);
            }
        }
        return sqlConnection;
    }",Código em Conformidade,
Java,encode url,"    public static List<String> readLines(URL url, String encode) {
        return readLines(url, encode, 0);
    }",Código em Conformidade,
Java,extract data from html content,"	private void patternCSSExtract(HTMLMetaData data, Pattern pattern, String content) {
		Matcher m = pattern.matcher(content);
		int idx = 0;
		int contentLen = content.length();
		if (contentLen > 100000)
			// extract URLs only from the first 100 kB
			contentLen = 100000;
		while((idx < contentLen) && m.find()) {
			idx = m.end();
			String url = m.group(1);
			url = cssUrlTrimPattern.matcher(url).replaceAll("""");
			if (!url.isEmpty()) {
				data.addHref(""path"",""STYLE/#text"",""href"", url);
			}
		}
	}",Código em Conformidade,
Java,how to make the checkbox checked,"    private CheckBox createPermissionCheckBox(String id) {
        CheckBox checkBox = new CheckBox(id);
        checkBox.setOutputMarkupId(true);
        
        return checkBox;
    }",Código em Conformidade,
Java,convert decimal to hex,"	private Decimal toDecimalSlow(int precision, int scale) {
		// As data in Decimal is currently stored by BigDecimal if `precision` > Decimal.MAX_LONG_DIGITS,
		// and BigDecimal only supports String or char[] for its constructor,
		// we can't directly extract the value from BinaryString.
		//
		// As BigDecimal(char[], int, int) is faster than BigDecimal(String, int, int),
		// we extract char[] from the memory segment and pass it to the constructor of BigDecimal.
		char[] chars = SegmentsUtil.allocateReuseChars(sizeInBytes);
		int len;
		if (segments.length == 1) {
			len = StringUtf8Utils.decodeUTF8Strict(segments[0], offset, sizeInBytes, chars);
		} else {
			byte[] bytes = SegmentsUtil.allocateReuseBytes(sizeInBytes);
			ensureMaterialized();
			SegmentsUtil.copyToBytes(segments, offset, bytes, 0, sizeInBytes);
			len = StringUtf8Utils.decodeUTF8Strict(bytes, 0, sizeInBytes, chars);
		}

		if (len < 0) {
			return null;
		} else {
			// Trim white spaces
			int start = 0, end = len;
			for (int i = 0; i < len; i++) {
				if (chars[i] != ' ' && chars[i] != '\n' && chars[i] != '\t') {
					start = i;
					break;
				}
			}
			for (int i = len - 1; i >= 0; i--) {
				if (chars[i] != ' ' && chars[i] != '\n' && chars[i] != '\t') {
					end = i + 1;
					break;
				}
			}
			try {
				BigDecimal bd = new BigDecimal(chars, start, end - start);
				return Decimal.fromBigDecimal(bd, precision, scale);
			} catch (NumberFormatException nfe) {
				return null;
			}
		}
	}",Código em Conformidade,
Java,scatter plot,"    public static final void plot(FrequencyDomain fd, double minMag, Path out) throws IOException
    {
        int sampleCount = fd.getSampleCount();
        Plotter plotter = new Plotter(sampleCount, sampleCount/2);
        fd.stream(minMag).forEach((f)->plotter.drawLine(f.getFrequency(), 0, f.getFrequency(), f.getMagnitude()));
        plotter.drawCoordinateX();
        plotter.plot(out.toFile(), ""png"");
    }",Código em Conformidade,
Java,convert string to number,"    public String valueNumberToString(ValueNumber vn, FlowValue value ) {
        StringBuilder buf = new StringBuilder();

        buf.append(vn.getNumber());
        buf.append(""->"");

        buf.append(value);
        if (value != FlowValue.TOP) {
            Set<? extends SourceSinkInfo> always = getSourceSinkInfoSet(whereAlways, vn);
            Set<? extends SourceSinkInfo> never = getSourceSinkInfoSet(whereNever, vn);
            if (value != FlowValue.UNKNOWN || !always.equals(never)) {
                buf.append(""["");
                if (!always.isEmpty()) {
                    appendSourceSinkInfos(buf, ""YES="", always);
                }
                if (!always.isEmpty() && !never.isEmpty()) {
                    buf.append("","");
                }
                if (!never.isEmpty()) {
                    appendSourceSinkInfos(buf, ""NO="", never);
                }
                buf.append(""]"");
            }
        }

        return buf.toString();
    }",Código em Conformidade,
Java,custom http error response,"    @ResponseOverride(
            description = ""Return empty response"",
            blockRequest = true)
    public static void http_200_empty_response(PluginArguments args) throws Exception {
        HttpServletResponse response = args.getResponse();
        response.setStatus(Constants.statusOK);
        response.setContentType(Constants.contentType);
        PluginHelper.writeResponseContent(response, createErrorMessage(Constants.statusOK, ""\""\""""));
    }",Código em Conformidade,
Java,initializing array,"    public void initAsCopyOf(MArray array, boolean isMutable) {
        super.initAsCopyOf(array, isMutable);
        baseArray = array != null ? array.getBaseArray() : null;
        values = array != null ? new ArrayList<>(array.values) : new ArrayList<>();
    }",Código em Conformidade,
Java,finding time elapsed using a timer,"	public long getElapsedMinutes() {
		long elapsed;
		if (running) {
			elapsed = (System.nanoTime() - startTime);
		} else {
			elapsed = (stopTime - startTime);
		}
		return elapsed / nsPerMm;
	}",Código em Conformidade,
Java,get current process id,"  protected String currentProcessId() {
    String currentProcessId = getRuntimeMXBean().getName();

    if (isBlank(currentProcessId)) throw new IllegalStateException(""Unable to extract current process ID."");

    int indexOfAtSymbol = currentProcessId.indexOf(""@"");

    if (indexOfAtSymbol > 0) currentProcessId = currentProcessId.substring(0, indexOfAtSymbol);

    return currentProcessId;
  }",Código em Conformidade,
Java,priority queue,"  synchronized int size( int priority) {
    if (priority < 0 || priority >= LEVEL) {
      throw new IllegalArgumentException(""Unsupported priority: "" + priority);
    }
    return priorityQueues.get(priority).size();
  }",Código em Conformidade,
Java,k means clustering,"	public static Clustering kMeans_gta(int k, Clustering clustering, Clustering gtClustering) {
		
		ArrayList<CFCluster> microclusters = new ArrayList<CFCluster>();
        for (int i = 0; i < clustering.size(); i++) {
            if (clustering.get(i) instanceof CFCluster) {
                microclusters.add((CFCluster)clustering.get(i));
            } else {
                System.out.println(""Unsupported Cluster Type:"" + clustering.get(i).getClass() + "". Cluster needs to extend moa.cluster.CFCluster"");
            }
        }
        
        int n = microclusters.size();
		assert (k <= n);
		
		/* k-means */
		Random random = new Random(0);
		Cluster[] centers = new Cluster[k];
		int K = gtClustering.size();
		
		for (int i = 0; i < k; i++) {
			if (i < K) {	// GT-aided
				centers[i] = new SphereCluster(gtClustering.get(i).getCenter(), 0);
			} else {		// Randomized
				int rid = random.nextInt(n);
				centers[i] = new SphereCluster(microclusters.get(rid).getCenter(), 0);
			}
		}
		
		return cleanUpKMeans(kMeans(k, centers, microclusters), microclusters);
	}",Código com Débito Técnico,
Java,get current process id,"    protected int getCurrentProcessID() throws ProcessHandlerException {
        int pid;
        // Not ideal but using JNA failed on RHEL5.
        RuntimeMXBean runtime = ManagementFactory.getRuntimeMXBean();
        Field jvm = null;
        try {
            jvm = runtime.getClass().getDeclaredField(""jvm"");
            jvm.setAccessible(true);
            VMManagement mgmt = (VMManagement) jvm.get(runtime);
            Method pid_method = mgmt.getClass().getDeclaredMethod(""getProcessId"");
            pid_method.setAccessible(true);
            pid = (Integer) pid_method.invoke(mgmt);
        } catch (NoSuchFieldException | NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {
            throw new ProcessHandlerException(e);
        }
        return pid;
    }",Código em Conformidade,
Java,extract latitude and longitude from given input,"    @Procedure
    @Description(""apoc.spatial.reverseGeocode(latitude,longitude) YIELD location, latitude, longitude, description - look up address from latitude and longitude from a geocoding service (the default one is OpenStreetMap)"")
    public Stream<GeoCodeResult> reverseGeocode(@Name(""latitude"") double latitude, @Name(""longitude"") double longitude, @Name(value = ""quotaException"",defaultValue = ""false"") boolean quotaException) {
        try {
            return getSupplier().reverseGeocode(latitude, longitude);
        } catch(IllegalStateException re) {
            if (!quotaException && re.getMessage().startsWith(""QUOTA_EXCEEDED"")) return Stream.empty();
            throw re;
        }
    }",Código em Conformidade,
Java,binomial distribution,"	public void setBinomialDistribution(BinomialDistributionType newBinomialDistribution) {
		((FeatureMap.Internal)getMixed()).set(BpsimPackage.Literals.DOCUMENT_ROOT__BINOMIAL_DISTRIBUTION, newBinomialDistribution);
	}",Código em Conformidade,
Java,get executable path,"    CommandLine getExecutablePath( Map<String, String> enviro, File dir )
    {
        File execFile = new File( executable );
        String exec = null;
        if ( execFile.isFile() )
        {
            getLog().debug( ""Toolchains are ignored, 'executable' parameter is set to "" + executable );
            exec = execFile.getAbsolutePath();
        }

        if ( exec == null )
        {
            Toolchain tc = getToolchain();

            // if the file doesn't exist & toolchain is null, the exec is probably in the PATH...
            // we should probably also test for isFile and canExecute, but the second one is only
            // available in SDK 6.
            if ( tc != null )
            {
                getLog().info( ""Toolchain in exec-maven-plugin: "" + tc );
                exec = tc.findTool( executable );
            }
            else
            {
                if ( OS.isFamilyWindows() )
                {
                    List<String> paths = this.getExecutablePaths( enviro );
                    paths.add( 0, dir.getAbsolutePath() );

                    exec = findExecutable( executable, paths );
                }
            }
        }

        if ( exec == null )
        {
            exec = executable;
        }

        CommandLine toRet;
        if ( OS.isFamilyWindows() && !hasNativeExtension( exec ) && hasExecutableExtension( exec ) )
        {
            // run the windows batch script in isolation and exit at the end
            final String comSpec = System.getenv( ""ComSpec"" );
            toRet = new CommandLine( comSpec == null ? ""cmd"" : comSpec );
            toRet.addArgument( ""/c"" );
            toRet.addArgument( exec );
        }
        else
        {
            toRet = new CommandLine( exec );
        }

        return toRet;
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,how to check if a checkbox is checked,"    private void check(CheckBox checkBox) {
        if (checkBox.getValue()) {
            selectedListItems.add(checkBox.getText());
            checkBox.addStyleName(STYLE_CHECKBOXLIST_ITEM_CHECKED);
            clearSelectionControl.setVisible(true);
        } else {
            removeItem(checkBox.getText());
            checkBox.removeStyleName(STYLE_CHECKBOXLIST_ITEM_CHECKED);
            if (selectedListItems.size() == 0) {
                clearSelectionControl.setVisible(false);
            }
        }
    }",Código em Conformidade,
Java,priority queue,"  public void send(Queue queue, Message message, int deliveryMode, int priority, long timeToLive) throws JMSException {
    if (TraceComponent.isAnyTracingEnabled() && tc.isEntryEnabled()) SibTr.entry(this, tc, ""send"", new Object[]{queue, message, deliveryMode, priority, timeToLive});
    super.send(queue, message, deliveryMode, priority, timeToLive);
    if (TraceComponent.isAnyTracingEnabled() && tc.isEntryEnabled()) SibTr.exit(this, tc, ""send"");
  }",Bug Crítico,
Java,convert json to csv,"  public static JsonObject csvToJsonObject(List<String> bulkRecordHeader, List<String> record, int columnCount) {
    ObjectMapper mapper = new ObjectMapper();
    Map<String, String> resultInfo = new HashMap<>();
    for (int i = 0; i < columnCount; i++) {
      resultInfo.put(bulkRecordHeader.get(i), record.get(i));
    }

    JsonNode json = mapper.valueToTree(resultInfo);
    JsonElement element = GSON.fromJson(json.toString(), JsonObject.class);
    return element.getAsJsonObject();
  }",Código em Conformidade,
Java,how to empty array,,Código em Conformidade,
Java,html encode string,"	public static String urlEncode(String str) {
		try {
			return URLEncoder.encode(str, UTF8);
		} catch (UnsupportedEncodingException e) {
			throw new IllegalArgumentException(""failed to encode"", e);
		}
	}",Código em Conformidade,
Java,how to make the checkbox checked,"    private void check(CheckBox checkBox) {
        if (checkBox.getValue()) {
            selectedListItems.add(checkBox.getText());
            checkBox.addStyleName(STYLE_CHECKBOXLIST_ITEM_CHECKED);
            clearSelectionControl.setVisible(true);
        } else {
            removeItem(checkBox.getText());
            checkBox.removeStyleName(STYLE_CHECKBOXLIST_ITEM_CHECKED);
            if (selectedListItems.size() == 0) {
                clearSelectionControl.setVisible(false);
            }
        }
    }",Código em Conformidade,
Java,socket recv timeout,"  private ByteBuffer recv(int attempt)
          throws IOException, SocketException, SocketTimeoutException {
    int timeout = UDP_BASE_TIMEOUT_SECONDS * (int) Math.pow(2, attempt);
    logger.trace(""Setting receive timeout to {}s for attempt {}..."",
            timeout, attempt);
    this.socket.setSoTimeout(timeout * 1000);

    try {
      DatagramPacket p = new DatagramPacket(
              new byte[UDP_PACKET_LENGTH],
              UDP_PACKET_LENGTH);
      this.socket.receive(p);
      return ByteBuffer.wrap(p.getData(), 0, p.getLength());
    } catch (SocketTimeoutException ste) {
      throw ste;
    }
  }",Código em Conformidade,
Java,converting uint8 array to image,"    public static byte[] convertABGRToYUV220SP(BufferedImage image) {
        byte[] oneFrame = new byte[(int) (image.getWidth() * image.getHeight() * 1.5)];
        WritableRaster wr = image.getRaster();
        DataBufferByte db = (DataBufferByte) wr.getDataBuffer();

        byte[] inArray = db.getData();

        int width = wr.getWidth();
        int height = wr.getHeight();

        int i = 0;
        int numpixels = width * height;
        int R, G, B, Y, U, V;
        int ui = numpixels;
        int vi = numpixels + numpixels / 4;
        int color;

        for (int y = 0; y < height; y++) {
            for (int x = 0; x < width; x++) {
                int inPtr = (y * width + x) * 4;
                color = image.getRGB(x, y);
                R = inArray[inPtr + 3];
                G = inArray[inPtr + 2];
                B = inArray[inPtr + 1];

                Y = (int) ((0.257 * R) + (0.504 * G) + (0.098 * B) + 16);
                oneFrame[i] = (byte) Y;
                if (0 == y % 2 && 0 == x % 2) {
                    oneFrame[vi++] = (byte) ((0.439 * R) - (0.368 * G) - (0.071 * B) + 128);
                    oneFrame[ui++] = (byte) (-(0.148 * R) - (0.291 * G) + (0.439 * B) + 128);
                }
                i++;
            }
        }
        return oneFrame;
    }",Código em Conformidade,
Java,read properties file,,Código em Conformidade,
Java,postgresql connection,"    @Override
    public void open(Properties configuration) throws TransformationException {
	try {
	    connection = PostgreSQLUtils.connect(configuration);
	} catch (SQLException e) {
	    throw new TransformationException(""Could not open connection to PostgreSQL."", e);
	}
    }",Código em Conformidade,
Java,parse query string in url,"    protected static Set<String> parseQuery(String query) throws IOException {
        Set<String> names = new HashSet<String>();
        if (query != null) {
            String[] pairs = query.split(""&"");
            for (String pair : pairs) {
                int idx = pair.indexOf(""="");
                if (idx != -1 && URLDecoder.decode(pair.substring(0, idx), ""UTF-8"").equals(""name[]"")) {
                    names.add(URLDecoder.decode(pair.substring(idx + 1), ""UTF-8""));
                }
            }
        }
        return names;
    }",Código em Conformidade,
Java,map to json,"    public static String generate(InputStream inputStream) throws IOException {
        logger.trace(""Converting XML document [{}]"");
        // Extracting XML content
        // See #185: https://github.com/dadoonet/fscrawler/issues/185

        Map<String, Object> map = generateMap(inputStream);

        // Serialize to JSON
        String json = mapper.writeValueAsString(map);

        logger.trace(""Generated JSON: {}"", json);
        return json;
    }",Código em Conformidade,
Java,httpclient post json,"    public JsonResponse apiPost(ApiParams data, ApiFileParams fileParams) throws IOException {
        return httpRequestJson(HttpRequestMethod.POST, data, fileParams);
    }",Código em Conformidade,
Java,encode url,"    public static String urlencode(String value) {
        try {
            return URLEncoder.encode(value, UTF_8);
        } catch (UnsupportedEncodingException e) {
            throw new RuntimeException(""Failed to urlencode"", e);
        }
    }",Código em Conformidade,
Java,how to make the checkbox checked,"    protected void selectCheckbox(PageElement element, String valueKeyOrKey, Map<String, Boolean> values) throws TechnicalException, FailureException {
        final String valueKey = Context.getValue(valueKeyOrKey) != null ? Context.getValue(valueKeyOrKey) : valueKeyOrKey;
        try {
            final WebElement webElement = Context.waitUntil(ExpectedConditions.elementToBeClickable(Utilities.getLocator(element)));
            Boolean checkboxValue = values.get(valueKey);
            if (checkboxValue == null) {
                checkboxValue = values.get(""Default"");
            }
            if (webElement.isSelected() != checkboxValue.booleanValue()) {
                webElement.click();
            }
        } catch (final Exception e) {
            new Result.Failure<>(e.getMessage(), Messages.format(Messages.getMessage(Messages.FAIL_MESSAGE_UNABLE_TO_CHECK_ELEMENT), element, element.getPage().getApplication()), true,
                    element.getPage().getCallBack());
        }
    }",Código em Conformidade,
Java,sending binary data over a serial connection,,Código em Conformidade,
Java,nelder mead optimize,"    public boolean doOptimization(OptimizedTagContext context) {
        boolean optimize = true;
        
        if (context.hasAttribute(""varStatus"")) {
            optimize = false;
        }
        else if (context.isJspAttribute(""var"")) {
            optimize = false;
        }
        else if (context.isJspAttribute(""items"")) {
            optimize = false;
        }
        else if (context.isJspAttribute(""step"")) {
            optimize = false;
        }
        else if (context.isJspAttribute(""begin"")) {
            optimize = false;
        }
        else if (context.isJspAttribute(""end"")) {
            optimize = false;
        }

        return optimize;
    }",Código em Conformidade,
Java,buffered file reader read text,"    static public String
    readtextfile(Reader rdr)
            throws IOException
    {
        StringBuilder buf = new StringBuilder();
        for(; ; ) {
            int c = rdr.read();
            if(c < 0) break;
            buf.append((char) c);
        }
        return buf.toString();
    }",Código em Conformidade,
Java,pretty print json,"    private String prettyPrintIfNeeded(Logger logger, String contentType, String body) {
        String result = body;
        if (prettyPrintJSON && contentType != null && (contentType.startsWith(""application/json"") || contentType.startsWith(""text/json""))) {
            try {
                final Object deserialized = PRETTY_PRINTER.readTree(body);
                result = PRETTY_PRINTER.writeValueAsString(deserialized);
            } catch (Exception e) {
                log(logger, ""Failed to pretty print JSON: "" + e.getMessage());
            }
        }
        return result;
    }",Código em Conformidade,
Java,how to make the checkbox checked,"    protected JCheckBox addCheckBox(final E item, final boolean checked) {
        final String name = getName(item);
        DCCheckBox<E> checkBox = _checkBoxes.get(name);
        if (checkBox != null) {
            checkBox.setSelected(checked);
            return checkBox;
        }
        checkBox = new DCCheckBox<>(name, checked);
        checkBox.setValue(item);
        checkBox.setOpaque(false);
        checkBox.addListener(_changeListener);
        _checkBoxes.put(name, checkBox);
        add(checkBox);

        updateVisibility();
        updateUI();

        return checkBox;
    }",Código em Conformidade,
Java,copy to clipboard,"    public static void copyToClipboard( String text ) {
        StringSelection selection = new StringSelection(text);
        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
        clipboard.setContents(selection, selection);
    }",Código em Conformidade,
Java,how to extract zip file recursively,"    private void actionRead(boolean binary) throws ZipException, IOException, PageException {
	required(""file"", file, true);
	required(""variable"", variable);
	required(""entrypath"", entryPaths);
	ZipFile zip = getZip(file);

	if (entryPaths.length > 1) throw new ApplicationException(""you can only read one entry!"");

	try {
	    ZipEntry ze = getZipEntry(zip, entryPaths[0]);
	    if (ze == null) {
		String msg = ExceptionUtil.similarKeyMessage(names(zip), entryPaths[0], ""entry"", ""zip file"", ""in the zip file ["" + file + ""]"", true);
		throw new ApplicationException(msg);
		// throw new ApplicationException(""zip file [""+file+""] has no entry with name [""+entryPath+""]"");
	    }

	    ByteArrayOutputStream baos = new ByteArrayOutputStream();

	    InputStream is = zip.getInputStream(ze);
	    IOUtil.copy(is, baos, true, false);
	    zip.close();

	    if (binary) pageContext.setVariable(variable, baos.toByteArray());
	    else {
		if (charset == null) charset = ((PageContextImpl) pageContext).getResourceCharset().name();
		pageContext.setVariable(variable, new String(baos.toByteArray(), charset));
	    }
	}
	finally {
	    IOUtil.closeEL(zip);
	}

    }",Bug Crítico,
Java,set file attrib hidden,"    public List<IHidden> getHidden()
    {
        for (final IHidden hidden : this.hidden) {
            hidden.setAdded(false);
        }
        return this.hidden;
    }",Código em Conformidade,
Java,convert json to csv,"    private Set<String> convertCsvToSet(String csv) {
        // A null line in the file indicates an empty file so return an empty
        // set as it means no APARs were found
        if (csv == null) {
            return Collections.emptySet();
        }

        // If we got this far then we must of found the CSV file so process it
        // to find the APAR IDs
        Set<String> fixPackAparIds = new HashSet<String>();
        String[] aparIds = csv.split("","");
        for (String id : aparIds) {
            fixPackAparIds.add(id);
        }
        return fixPackAparIds;
    }",Código em Conformidade,
Java,readonly array,"	@SuppressWarnings(""unchecked"")
	public JSONNavi<T> array() {
		if (failure)
			return this;
		if (current == null && readonly)
			failure(""Can not create Array child in readonly"", null);
		if (current != null) {
			if (isArray())
				return this;
			if (isObject())
				failure(""can not use Object feature on Array."", null);
			failure(""Can not use current possition as Object"", null);
		} else {
			current = mapper.createArray();
		}
		if (root == null)
			root = (T) current;
		else
			store();
		return this;
	}",Código em Conformidade,
Java,matrix multiply,"    public Matrix2f mul(Matrix2f m) {
        return new Matrix2f(
                m00 * m.m00 + m01 * m.m10, m00 * m.m01 + m01 * m.m11,
                m10 * m.m00 + m11 * m.m10, m10 * m.m01 + m11 * m.m11);
    }",Código em Conformidade,
Java,how to extract zip file recursively,"	public static void extractZip(File zip, File toDir) throws IOException{
		if(!toDir.exists()) {
			throw new IOException(""Directory '"" + toDir + ""' does not exist."");
		}

		try (ZipFile zipFile = new ZipFile(zip)) {
			Enumeration<? extends ZipEntry> entries = zipFile.entries();

			while (entries.hasMoreElements()) {
				ZipEntry entry = entries.nextElement();

				File target = new File(toDir, entry.getName());
				if (entry.isDirectory()) {
					// Assume directories are stored parents first then children.
					//logger.info(""Extracting directory: "" + entry.getName());
					// This is not robust, just for demonstration purposes.
					if(!target.mkdirs()) {
						logger.warning(""Could not create directory "" + target);
					}
					continue;
				}

				// zips can contain nested files in sub-dirs without separate entries for the directories
				if(!target.getParentFile().exists() && !target.getParentFile().mkdirs()) {
					logger.warning(""Could not create directory "" + target.getParentFile());
				}

				//logger.info(""Extracting file: "" + entry.getName());
				try (InputStream inputStream = zipFile.getInputStream(entry)) {
					try (BufferedOutputStream outputStream = new BufferedOutputStream(new FileOutputStream(target))) {
						IOUtils.copy(inputStream, outputStream);
					}
				}
			}
		} catch (FileNotFoundException | NoSuchFileException e) {
			throw e;
		} catch (IOException e) {
			throw new IOException(""While extracting file "" + zip + "" to "" + toDir, e);
		}
	}",Código em Conformidade,
Java,finding time elapsed using a timer,"  public void printTimeStatistics() {
    print(""Elapsed time statistics:"");

    List<String> timers = Lists.newArrayList(getAllTimers());
    Collections.sort(timers);
    for (String timer : timers) {
      double total = (double) getTimerElapsedTime(timer);
      long invocations = getTimerInvocations(timer);
      double average = total / invocations;
      print(String.format(""%s: %.3f sec (%.3f ms * %d)"", timer, (total / 1000), average, invocations));
    }
  }",Código em Conformidade,
Java,matrix multiply,"    public Matrix multiply(double k)
    {
        double pv[][] = new double[nRows][nCols]; // product values

        // Compute values of the product.
        for (int r = 0; r < nRows; ++r) {
            for (int c = 0; c < nCols; ++c) {
                pv[r][c] = k*values[r][c];
            }
        }

        return new Matrix(pv);
    }",Código em Conformidade,
Java,how to empty array,"    public static Double[] nullToEmpty(Double[] array) {
        if (array == null || array.length == 0) {
            return EMPTY_DOUBLE_OBJECT_ARRAY;
        }
        return array;
    }",Código em Conformidade,
Java,initializing array,"    public AbstractJdbcHelper init() {
        dataSources.forEach((key, ds) -> DbcHelper.registerJdbcDataSource(id + ""-"" + key, ds));
        return this;
    }",Código em Conformidade,
Java,convert string to number,"    private static String numToString(int num, int width) {
        String str = Integer.toString(num);
        int len = str.length();
        if (len >= width) {
            return str.substring(len - width, len);
        }
        StringBuilder sb = new StringBuilder(width);
        for (int i = len; i < width; i++) {
            sb.append('0');
        }
        sb.append(str);
        return sb.toString();
    }",Código em Conformidade,
Java,converting uint8 array to image,"    public static BufferedImage convertImage(RawImage rawImage) {
        switch (rawImage.bpp) {
            case 16:
                return rawImage16toARGB(rawImage);
            case 32:
                return rawImage32toARGB(rawImage);
        }
        return null;
    }",Código em Conformidade,
Java,finding time elapsed using a timer,"	public long getElapsedTicks() {
		long elapsed;
		if (running) {
			elapsed = (System.nanoTime() - startTime);
		} else {
			elapsed = (stopTime - startTime);
		}
		return elapsed / nsPerTick;
	}",Código em Conformidade,
Java,how to get html of website,"    private String getHtmlExample() {
        final StringBuilder html = new StringBuilder();
        html.append(""<!DOCTYPE html>\n"");
        html.append(""<html xmlns=\""http://www.w3.org/1999/xhtml\""\n"");
        html.append(""      xmlns:h=\""http://xmlns.jcp.org/jsf/html\""\n"");
        html.append(""      xmlns:b=\""http://butterfaces.org/components\"">\n"");
        html.append(""<h:head />\n"");
        html.append(""<body>\n"");
        html.append(""   <form>\n"");
        html.append(""      Hello World!\n"");
        html.append(""   </form>\n"");
        html.append(""</body>\n"");
        html.append(""</html>"");

        return html.toString();
    }",Código em Conformidade,
Java,connect to sql,,Código em Conformidade,
Java,how to get current date,"	public static String getCurrentDate() {
		long now = System.currentTimeMillis();

		if ((now - currentDateGenerated) > 1000) {
			synchronized (format) {
				if ((now - currentDateGenerated) > 1000) {
					currentDateGenerated = now;
					currentDate = format.format(new Date(now));
				}
			}
		}

		return currentDate;
	}",Código em Conformidade,
Java,binomial distribution,"    public static boolean distributionEquals(IntegerDistribution a, IntegerDistribution b) {
        if (a.getClass() != b.getClass())
            return false;
        Class<?> c = a.getClass();

        if (c == BinomialDistribution.class) {
            BinomialDistribution ba = (BinomialDistribution) a;
            BinomialDistribution bb = (BinomialDistribution) b;
            return ba.getNumberOfTrials() == bb.getNumberOfTrials()
                            && ba.getProbabilityOfSuccess() == bb.getProbabilityOfSuccess();
        } else if (c == GeometricDistribution.class) {
            GeometricDistribution ga = (GeometricDistribution) a;
            GeometricDistribution gb = (GeometricDistribution) b;
            return ga.getProbabilityOfSuccess() == gb.getProbabilityOfSuccess();
        } else if (c == HypergeometricDistribution.class) {
            HypergeometricDistribution ha = (HypergeometricDistribution) a;
            HypergeometricDistribution hb = (HypergeometricDistribution) b;
            return ha.getPopulationSize() == hb.getPopulationSize()
                            && ha.getNumberOfSuccesses() == hb.getNumberOfSuccesses()
                            && ha.getSampleSize() == hb.getSampleSize();
        } else if (c == PascalDistribution.class) {
            PascalDistribution pa = (PascalDistribution) a;
            PascalDistribution pb = (PascalDistribution) b;
            return pa.getNumberOfSuccesses() == pb.getNumberOfSuccesses()
                            && pa.getProbabilityOfSuccess() == pb.getProbabilityOfSuccess();
        } else if (c == PoissonDistribution.class) {
            PoissonDistribution pa = (PoissonDistribution) a;
            PoissonDistribution pb = (PoissonDistribution) b;
            return pa.getMean() == pb.getMean();
        } else if (c == UniformIntegerDistribution.class) {
            UniformIntegerDistribution ua = (UniformIntegerDistribution) a;
            UniformIntegerDistribution ub = (UniformIntegerDistribution) b;
            return ua.getSupportUpperBound() == ub.getSupportUpperBound()
                            && ua.getSupportUpperBound() == ub.getSupportUpperBound();
        } else if (c == ZipfDistribution.class) {
            ZipfDistribution za = (ZipfDistribution) a;
            ZipfDistribution zb = (ZipfDistribution) b;
            return za.getNumberOfElements() == zb.getNumberOfElements() && za.getExponent() == zb.getNumberOfElements();
        } else {
            throw new UnsupportedOperationException(""Unknown or not supported IntegerDistribution: "" + c);
        }

    }",Código em Conformidade,
Java,map to json,"    public Map<String, Object> toJson() {
        Map<String, Object> jsonMap = new LinkedHashMap<>();
        jsonMap.put(key, value);
        return jsonMap;
    }",Código em Conformidade,
Java,k means clustering,"    private void clusterAndAssignSenses(
            OnlineClustering<SparseDoubleVector> contexts,
            String primaryKey,
            double mergeThreshold) {
        // First forcefully condense everything down to the required
        // number of clusters.
        List<Cluster<SparseDoubleVector>> newClusters = clusterStream(
                contexts.getClusters(), numClusters, 0.0);

        // Then try to merge these new centroids based on the similarity
        // threshold.
        newClusters = clusterStream(contexts.getClusters(), 0, mergeThreshold);

        // Store a mapping for each word sense to it's induced word
        // sense, i.e., the centroid.
        synchronized(wordSpace) {
            wordSpace.put(primaryKey, newClusters.get(0).centroid());
            for (int i = 1; i < newClusters.size(); ++i)
                wordSpace.put(primaryKey+""-""+i, newClusters.get(i).centroid());
        }

        // If there is no reporter, skip any post processing.
        if (reporter == null)
            return;

        // Get the set of context labels for each data point for the
        // given word.
        String[] contextLabels = reporter.contextLabels(primaryKey);
        if (contextLabels.length == 0)
            return;

        // Output the assignments for a single clustering.
        int clusterId = 0;
        for (Cluster<SparseDoubleVector> cluster : newClusters) {
            BitSet contextIds = cluster.dataPointIds();
            for (int contextId = contextIds.nextSetBit(0); contextId >= 0;
                     contextId = contextIds.nextSetBit(contextId + 1)) {
                reporter.updateAssignment(
                        primaryKey, contextLabels[contextId], clusterId); 
            }
            clusterId++;
        }
    }",Bug Crítico,
Java,get inner html,"    public static void innerHtml(HTMLElement element, SafeHtml html) {
        if (element != null) {
            element.innerHTML = html.asString();
        }
    }",Código em Conformidade,
Java,finding time elapsed using a timer,"    public static Timer getStatsTimer(String name) {
        Timer timer = timerMap.get(name);
        if (timer != null) return timer;
        writeLock.lock();
        try {
            if (timerMap.containsKey(name)) {
                return timerMap.get(name);
            } else {
                final StatsConfig statsConfig = new StatsConfig.Builder().withPercentiles(new double[] { 95, 99 })
                        .withPublishMax(true).withPublishMin(true).withPublishMean(true)
                        .withPublishCount(true).withSampleSize(sampleSize.get()).build();
                final MonitorConfig monitorConfig = MonitorConfig.builder(name).withTag(OWNER).build();
                timer = new StatsTimer(monitorConfig, statsConfig, TimeUnit.MILLISECONDS);
                DefaultMonitorRegistry.getInstance().register(timer);
                timerMap.put(name, timer);
                return timer;
            }
        } finally {
            writeLock.unlock();
        }
    }",Bug Crítico,
Java,encode url,"    private static String encode(String str) {
	try {
	    return URLEncodedFormat.invoke(str, ""UTF-8"", false);
	}
	catch (PageException e) {
	    return URLEncoder.encode(str);
	}
    }",Código em Conformidade,
Java,get name of enumerated value,"    private Enum manageEnum(EEnum obj) {
        final Enum e = Enum.of(getFullName(obj));
        obj.getELiterals().stream().forEach(l -> e.addValue(l.getLiteral()));
        return e;
    }",Código em Conformidade,
Java,heatmap from 3d coordinates,"    public Point3d[] get3DCoordinatesForSP3Ligands(IAtom refAtom, IAtomContainer noCoords, IAtomContainer withCoords,
            IAtom atomC, int nwanted, double length, double angle) {
        //logger.debug(""SP3 Ligands start "");
        Point3d newPoints[] = new Point3d[0];
        Point3d aPoint = refAtom.getPoint3d();
        int nwithCoords = withCoords.getAtomCount();
        if (angle < 0) {
            angle = TETRAHEDRAL_ANGLE;
        }
        if (nwithCoords == 0) {
            newPoints = calculate3DCoordinates0(refAtom.getPoint3d(), nwanted, length);
        } else if (nwithCoords == 1) {
            newPoints = calculate3DCoordinates1(aPoint, (withCoords.getAtom(0)).getPoint3d(),
                    (atomC != null) ? atomC.getPoint3d() : null, nwanted, length, angle);
        } else if (nwithCoords == 2) {
            Point3d bPoint = withCoords.getAtom(0).getPoint3d();
            Point3d cPoint = withCoords.getAtom(1).getPoint3d();
            newPoints = calculate3DCoordinates2(aPoint, bPoint, cPoint, nwanted, length, angle);
        } else if (nwithCoords == 3) {
            Point3d bPoint = withCoords.getAtom(0).getPoint3d();
            Point3d cPoint = withCoords.getAtom(1).getPoint3d();
            newPoints = new Point3d[1];
            Point3d dPoint = withCoords.getAtom(2).getPoint3d();
            newPoints[0] = calculate3DCoordinates3(aPoint, bPoint, cPoint, dPoint, length);
        }
        //logger.debug(""...Ready"");
        return newPoints;
    }",Código em Conformidade,
Java,output to html file,"    public static File earlHtmlReport( String outputDir )
                    throws FileNotFoundException {

        ClassLoader cl = Thread.currentThread().getContextClassLoader();
        String resourceDir = cl.getResource( ""com/occamlab/te/earl/lib"" ).getPath();
        String earlXsl = cl.getResource( ""com/occamlab/te/earl_html_report.xsl"" ).toString();

        File htmlOutput = new File( outputDir, ""result"" );
        htmlOutput.mkdir();
        LOGR.fine( ""HTML output is written to directory "" + htmlOutput );
        File earlResult = new File( outputDir, ""earl-results.rdf"" );

        try {
            TransformerFactory tf = TransformerFactory.newInstance();
            Transformer transformer = tf.newTransformer( new StreamSource( earlXsl ) );
            transformer.setParameter( ""outputDir"", htmlOutput );
            File indexHtml = new File( htmlOutput, ""index.html"" );
            indexHtml.createNewFile();
            FileOutputStream outputStream = new FileOutputStream( indexHtml );
            transformer.transform( new StreamSource( earlResult ), new StreamResult( outputStream ) );
            // Foritfy Mod: Close the outputStream releasing its resources
            outputStream.close();
            FileUtils.copyDirectory( new File( resourceDir ), htmlOutput );
        } catch ( Exception e ) {
            LOGR.log( Level.SEVERE, ""Transformation of EARL to HTML failed."", e );
            throw new RuntimeException( e );
        }
        if ( !htmlOutput.exists() ) {
            throw new FileNotFoundException( ""HTML results not found at "" + htmlOutput.getAbsolutePath() );
        }
        return htmlOutput;
    }",Código em Conformidade,
Java,convert string to number,"    public static int convertToInt(Object value)
    {
        if (value instanceof Number)
        {
            return ((Number) value).intValue();
        }
        else if (value instanceof String)
        {
            try
            {
                return Integer.parseInt((String) value);
            }
            catch (NumberFormatException e)
            {
                throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to int"");
            }
        }
        else
        {
            throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to int"");
        }
    }",Código em Conformidade,
Java,hash set for counting distinct elements,"    @Override
    public void describeMismatchSafely(final Iterable<? extends E> actual, final Description mismatchDescription) {
        final Set<E> elements = new HashSet<>();
        final Collection<E> nonDistinctElements = new ArrayList<>(); // keep actual's order for reporting mismatch

        for (final E element : actual) {
            if (!elements.add(element)) {
                nonDistinctElements.add(element);
            }
        }

        mismatchDescription.appendText("" non distinct elements are "").appendValueList(""["", "", "", ""]"",
                nonDistinctElements);
    }",Código em Conformidade,
Java,reading element from html - <td>,"  private int _checkInlineHtml (final MarkdownHCStack out, final String in, final int nStart)
  {
    final StringBuilder aTmp = new StringBuilder ();

    // Check for auto links
    aTmp.setLength (0);
    int nPos = MarkdownHelper.readUntil (aTmp, in, nStart + 1, ':', ' ', '>', '\n');
    if (nPos != -1 && in.charAt (nPos) == ':' && MarkdownHTML.isLinkPrefix (aTmp.toString ()))
    {
      nPos = MarkdownHelper.readUntil (aTmp, in, nPos, '>');
      if (nPos != -1)
      {
        final String sLink = aTmp.toString ();
        final HCA aLink = m_aConfig.getDecorator ().openLink (out);
        aLink.setHref (new SimpleURL (sLink)).addChild (sLink);
        m_aConfig.getDecorator ().closeLink (out);
        return nPos;
      }
    }

    // Check for mailto or address auto link
    aTmp.setLength (0);
    nPos = MarkdownHelper.readUntil (aTmp, in, nStart + 1, '@', ' ', '>', '\n');
    if (nPos != -1 && in.charAt (nPos) == '@')
    {
      nPos = MarkdownHelper.readUntil (aTmp, in, nPos, '>');
      if (nPos != -1)
      {
        final String sLink = aTmp.toString ();
        final HCA aLink = m_aConfig.getDecorator ().openLink (out);
        if (sLink.startsWith (""@""))
        {
          // address auto links
          final String sAddress = sLink.substring (1);
          final ISimpleURL aUrl = new SimpleURL (""https://maps.google.com/maps"").add (""q"", sAddress);
          aLink.setHref (aUrl).addChild (sAddress);
        }
        else
        {
          // mailto auto links
          aLink.setHref (new SimpleURL (""mailto:"" + sLink)).addChild (sLink);
        }
        m_aConfig.getDecorator ().closeLink (out);
        return nPos;
      }
    }

    // Check for inline html
    if (nStart + 2 < in.length ())
    {
      nPos = nStart;
      if (nStart + 3 < in.length () &&
          in.charAt (nStart + 1) == '!' &&
          in.charAt (nStart + 2) == '-' &&
          in.charAt (nStart + 3) == '-')
      {
        nPos = nStart + 4;
        final int nCommentStartPos = nPos;
        while (true)
        {
          while (nPos < in.length () && in.charAt (nPos) != '-')
            nPos++;

          if (nPos == in.length ())
          {
            // FIXME End of line in comment
            return -1;
          }
          if (nPos + 2 < in.length () && in.charAt (nPos + 1) == '-' && in.charAt (nPos + 2) == '>')
          {
            // XML comment inline
            out.append (new HCCommentNode (in.substring (nCommentStartPos, nPos)));
            return nPos + 2;
          }
          nPos++;
        }
      }

      aTmp.setLength (0);
      final int nNewPos = MarkdownHelper.readXMLElement (aTmp, in, nStart, m_aConfig.isSafeMode ());
      if (nNewPos != -1)
      {
        final String sElement = aTmp.toString ();
        if (sElement.endsWith (""/>""))
        {
          // Self closed tag - can be parsed
          final IMicroDocument aXML = MicroReader.readMicroXML (sElement);
          if (aXML == null)
            throw new MarkdownException (""Failed to parse XML: "" + sElement);
          // And use the root element
          out.append (new HCDOMWrapper (aXML.getDocumentElement ().detachFromParent ()));
        }
        else
          if (sElement.startsWith (""</""))
          {
            // Closing tag
            out.pop ();
          }
          else
          {
            // Opening tag - parse as self-closed tag and push to stack
            final String sParseCode = sElement.substring (0, sElement.length () - 1) + ""/>"";
            final IMicroDocument aXML = MicroReader.readMicroXML (sParseCode);
            if (aXML == null)
              throw new MarkdownException (""Failed to parse XML: "" + sParseCode);
            final IMicroElement eRoot = aXML.getDocumentElement ();

            // And use the root element
            final IHCElement <?> aHC = HCExtHelper.createHCElementFromName (eRoot.getTagName ());
            if (aHC == null)
              throw new MarkdownException (""Failed to get HC element: "" + eRoot.getTagName ());

            // Clone all attributes
            eRoot.forAllAttributes (aAttr -> aHC.customAttrs ().putIn (aAttr.getAttributeQName (),
                                                                       aAttr.getAttributeValue ()));

            if (aHC.getElement ().mayBeSelfClosed ())
            {
              // e.g. <hr />
              out.append (aHC);
            }
            else
            {
              // Push
              out.push (aHC);
            }
          }

        return nNewPos - 1;
      }
    }

    return -1;
  }",Código em Conformidade,
Java,html entities replace,"	public static StringBuilder escapeASCIIHtmlEntities(final CharSequence input) {
		if(input == null)
			return null;

		StringBuilder replaced = new StringBuilder();
		StringBuilder toBeReplaced = new StringBuilder();
		boolean isEntity = false;

		for(int i =0; i<input.length();i++){
			char c = input.charAt(i);
			if (isEntity) {
				if (c == '&') {
					replaced.append(toBeReplaced);
					toBeReplaced = new StringBuilder();
					toBeReplaced.append(c);
				} else {
					toBeReplaced.append(c);
					if (c == ';') {
						if (entityNameToChar.containsKey(toBeReplaced.toString())) {
							replaced.append(entityNameToChar.get(toBeReplaced.toString()));
						} else {
							Matcher m = entityNumberPattern.matcher(toBeReplaced);
							if (m.matches()) {
								int ascii = Integer.parseInt(m.group(1));
								replaced.append(ascii >= 32 && ascii <= 126 ? Character.toString((char) ascii) : toBeReplaced);
							} else {
								replaced.append(toBeReplaced);
							}
						}
						isEntity = false;
						toBeReplaced = new StringBuilder();
					}
				}
			} else if (c == '&') {
				isEntity = true;
				toBeReplaced.append(c);
			} else {
				replaced.append(c);
			}
		}

		if (isEntity) {
			replaced.append(toBeReplaced);
		}

		return replaced;
	}",Código em Conformidade,
Java,memoize to disk  - persistent memoization,"    public Closure<V> memoizeAtMost(final int maxCacheSize) {
        if (maxCacheSize < 0) throw new IllegalArgumentException(""A non-negative number is required as the maxCacheSize parameter for memoizeAtMost."");

        return Memoize.buildMemoizeFunction(new LRUCache(maxCacheSize), this);
    }",Código em Conformidade,
Java,copy to clipboard,"    private void copyToClipboard(Context context){
        ClipboardManager clipboardManager = (ClipboardManager) context.getSystemService(Context.CLIPBOARD_SERVICE);
        ClipData clipData = ClipData.newPlainText(buttonText,inboxMessage.getInboxMessageContents().get(0).getLinkCopyText(buttonObject));
        if (clipboardManager != null) {
            clipboardManager.setPrimaryClip(clipData);
            Toast.makeText(context,""Text Copied to Clipboard"",Toast.LENGTH_SHORT).show();
        }
    }",Código em Conformidade,
Java,filter array,"    @Override
    public Filter[] filterChainToArray() {
        int length = chainLength();
        Filter[] array = new Filter[length];
        Filter thisFilter = this;
        for (int i = 0; i < length; i++) {
            array[i] = thisFilter;
            thisFilter = thisFilter.getAnd();
        }
        return array;
    }",Código em Conformidade,
Java,how to extract zip file recursively,"    public static void unzip(File file, File destDir) throws IOException {
        if (!destDir.exists()) {
            destDir.mkdir();
        }
        ZipInputStream zipIn = new ZipInputStream(new FileInputStream(file));
        ZipEntry entry = zipIn.getNextEntry();
        // iterates over entries in the zip file
        while (entry != null) {
            File entryFile = new File(destDir, entry.getName());
            if (!entry.isDirectory()) {
                // if the entry is a file, extracts it
                extractFile(zipIn, entryFile);
            } else {
                // if the entry is a directory, make the directory
                entryFile.mkdir();
            }
            zipIn.closeEntry();
            entry = zipIn.getNextEntry();
        }
        zipIn.close();
    }",Bug Crítico,
Java,get current observable value,"  @Override @NonNull public Observable<ValueUpdate<T>> observe() {
    Observable<ValueUpdate<T>> startingValue = get()
        .map(new Function<T, ValueUpdate<T>>() {
          @Override public ValueUpdate<T> apply(T value) throws Exception {
            return new ValueUpdate<T>(value);
          }
        })
        .defaultIfEmpty(ValueUpdate.<T>empty())
        .toObservable();

    return updateSubject.startWith(startingValue);
  }",Código em Conformidade,
Java,unzipping large files,"    private void unZip(File compressedFile) throws IOException {
        File file = null;
        try (ZipFile zipFolder = new ZipFile(compressedFile)) {
            Enumeration<?> enu = zipFolder.entries();

            while (enu.hasMoreElements()) {
                ZipEntry zipEntry = (ZipEntry) enu.nextElement();

                String name = zipEntry.getName();
                long size = zipEntry.getSize();
                long compressedSize = zipEntry.getCompressedSize();
                log.trace(""Unzipping {} (size: {} KB, compressed size: {} KB)"",
                        name, size, compressedSize);

                file = new File(compressedFile.getParentFile(), name);
                if (!file.exists() || config.isOverride()) {
                    if (name.endsWith(""/"")) {
                        file.mkdirs();
                        continue;
                    }

                    File parent = file.getParentFile();
                    if (parent != null) {
                        parent.mkdirs();
                    }

                    try (InputStream is = zipFolder.getInputStream(zipEntry)) {
                        copyInputStreamToFile(is, file);
                    }
                    setFileExecutable(file);
                } else {
                    log.debug(""{} already exists"", file);
                }

            }
        }
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,finding time elapsed using a timer,"	public long getElapsedSeconds() {
		long elapsed;
		if (running) {
			elapsed = (System.nanoTime() - startTime);
		} else {
			elapsed = (stopTime - startTime);
		}
		return elapsed / nsPerSs;
	}",Código em Conformidade,
Java,write csv,"  public static void writeCsv(List<String[]> csvData, String fileName) throws IOException {
    Preconditions.checkNotNull(csvData, ""Null CSV data"");
    Preconditions.checkNotNull(fileName, ""Null file name"");

    CSVWriter writer = null;
    try {
      writer = new CSVWriter(Files.newWriter(new File(fileName), StandardCharsets.UTF_8));
      for (String[] line : csvData) {
        writer.writeNext(line);
      }
    } finally {
      if (writer != null) {
        writer.close();
      }
    }
  }",Bug Crítico,
Java,get current observable value,"    @Override
    public Observable<Observable<Integer>> call(Observable<Observable<R>> observable) {
        return observable.map(new Func1<Observable<R>, Observable<Integer>>() {
            @Override
            public Observable<Integer> call(Observable<R> parameters) {
                return builder.clearParameters().parameters(parameters).count();
            }
        });
    }",Código em Conformidade,
Java,how to read .csv file in an efficient way?,"    private List<String[]> readFile(String absolutePath, boolean headerRowOnly) {

        try (InputStream in = new BOMInputStream(new FileInputStream(absolutePath));
                Reader reader = new InputStreamReader(in, pm.getCsvCharset())) {

            RFC4180Parser rfc4180Parser = new RFC4180ParserBuilder().build();
            CSVReaderBuilder csvReaderBuilder = new CSVReaderBuilder(reader)
                    .withCSVParser(rfc4180Parser);

            try (CSVReader csvReader = csvReaderBuilder.build()) {

                if (headerRowOnly) {
                    return Collections.singletonList(csvReader.readNext());
                } else {
                    return csvReader.readAll();
                }

            }
        } catch (IOException e) {
            throw new IllegalStateException(e);
        }
    }",Código em Conformidade,
Java,how to make the checkbox checked,"	private void linkToEmitter(String name, LinearInterpolator interpol) {
		// put to value map
		valueMap.put(name, interpol);

		// now update the checkbox to represent the state of the given
		// interpolator
		boolean checked = interpol.isActive();
		JCheckBox enableControl = (JCheckBox) valueNameToControl.get(name);
		enableControl.setSelected(false);
		if (checked)
			enableControl.setSelected(checked);
	}",Código em Conformidade,
Java,string similarity levenshtein,"    private static void similar_str(String txt1, int len1, String txt2, int len2, Tuple t) {
        t.setMax(0);
        for (int p = 0; p < len1; ++p) {
            for (int q = 0; q < len2; ++q) {
                int l;
                for (l = 0; (p+l < len1) && (q+l < len2) && (txt1.charAt(p+l) == txt2.charAt(q+l)); ++l) {
                    
                }
                if (l > t.getMax()) {
                    t.setMax(l);
                    t.setPos1(p);
                    t.setPos2(q);
                }
            }
        }
    }",Código em Conformidade,
Java,positions of substrings in string,"	public static String[] split(final String src, final String delimiter) {
		int maxparts = (src.length() / delimiter.length()) + 2;		// one more for the last
		int[] positions = new int[maxparts];
		int dellen = delimiter.length();

		int i, j = 0;
		int count = 0;
		positions[0] = - dellen;
		while ((i = src.indexOf(delimiter, j)) != -1) {
			count++;
			positions[count] = i;
			j = i + dellen;
		}
		count++;
		positions[count] = src.length();

		String[] result = new String[count];

		for (i = 0; i < count; i++) {
			result[i] = src.substring(positions[i] + dellen, positions[i + 1]);
		}
		return result;
	}",Código em Conformidade,
Java,regex case insensitive,"    public static int indexOfIgnoreCase(String text, String str, int startIndex) {
        Matcher m = Pattern.compile(Pattern.quote(str), Pattern.CASE_INSENSITIVE).matcher(text);
        return m.find(startIndex) ? m.start() : -1;
    }",Código em Conformidade,
Java,filter array,"    public static Filter filterArrayToChain(Filter[] filterArray) {
        for (int i = 0; i < (filterArray.length - 1); i++) {
            AbstractFilter thisFilter = (AbstractFilter) filterArray[i];
            thisFilter.setAnd(filterArray[i + 1]);
        }
        AbstractFilter lastFilter = (AbstractFilter) filterArray[filterArray.length - 1];
        lastFilter.setAnd(null);
        return filterArray[0];
    }",Código em Conformidade,
Java,connect to sql,"    private JDBCConnect useConnect() {
        JDBCConnect connect = null;
        try {
            connect = connects.pop();
            if (connect != null) {
                if (connect.getEnd().getTime() <= new Date().getTime() || !connect.getConnect().isValid(1000)) {
                    connect.close();
                    connect = null;
                }
            }
        } catch (EmptyStackException | SQLException e) {
            connect = null;
            //try create connect
            createConnect();
        }
        return connect == null ? useConnect() : connect;
    }",Código em Conformidade,
Java,how to get html of website,"  @Nullable
  public static IHCNode createLinkedWebsite (@Nullable final String sWebsite)
  {
    return createLinkedWebsite (sWebsite, (HC_Target) null);
  }",Código em Conformidade,
Java,convert html to pdf,"	private String convertPageToPdf (Pdf pdf, ByteArrayOutputStream baos) {
		try {
			baos.write(pdf.getPDF());
			return baos.toString(""ISO-8859-1"");
		} catch (IOException e) {

			logger.warn(""pdf(): IOException"", e);

		} catch (InterruptedException e) {

			logger.warn(""pdf(): InterruptedException"", e);

		}
		return """";
	}",Código em Conformidade,
Java,string to date,"    public String getDateStringOrSuppliedString(String emptyDateString) {
        LocalDate date = getDate();
        return (date == null) ? emptyDateString : date.toString();
    }",Código em Conformidade,
Java,find int in string,"    @SuppressWarnings({""MethodWithMultipleReturnPoints"", ""LabeledStatement"", ""ValueOfIncrementOrDecrementUsed"", ""ContinueStatement"", ""ContinueStatementWithLabel""})
    public static int indexOf(char[] src, char[] find, int startAt) {
        int startPos = startAt;
        final int max = src.length - find.length;
        if (startPos > max) {
            return -1;
        }
        final char find0 = find[0];
        final int len = find.length;
        int j;
        int k;

        // Find the first character
        startOver:
        while (startPos <= max) {
            if (src[startPos++] == find0) {
                // First character found - look for the rest
                j = startPos;
                k = 1;
                while (k < len) {
                    if (src[j++] != find[k++]) {
                        continue startOver;
                    }
                }
                return startPos - 1;
            }
        }
        return -1;
    }",Código em Conformidade,
Java,replace in file,"	@Override
	protected File writeFileContent(String fileContent) throws IOException {

		// Load the template
		ByteArrayOutputStream out = new ByteArrayOutputStream();
		InputStream in = getClass().getResourceAsStream( ""/fop.tpl"" );
		Utils.copyStreamSafely( in, out );

		//Copy the header in outputDirectory
		InputStream h = getClass().getResourceAsStream( ""/roboconf.jpg"" );
		File imgFile = new File( this.outputDirectory, ""header.jpg"" );
		Utils.copyStream( h, imgFile );

		// Create the target directory
		File targetFile = new File( this.outputDirectory, ""index.fo"" );
		Utils.createDirectory( targetFile.getParentFile());

		// Write the main file
		String toWrite = out.toString( ""UTF-8"" )
				.replace( TITLE_MARKUP, this.applicationTemplate.getName())
				.replace( CONTENT_MARKUP, fileContent )
				.replace( ""header.jpg"", this.outputDirectory.getAbsolutePath() + ""/header.jpg"" )
				.replace( ""png/"", this.outputDirectory.getAbsolutePath() + ""/png/"" )
				.replaceAll( ""\n{3,}"", ""\n\n"" );

		Utils.writeStringInto( toWrite, targetFile );
		return targetFile;
	}",Código em Conformidade,
Java,parse command line argument,"    private static void parseCommandLineArgs(String[] args) throws ConfigurationException {

        if (args[0].equalsIgnoreCase(""-?"") || args[0].equalsIgnoreCase(""-h"")
                || args[0].equalsIgnoreCase(""/?"") || args[0].equalsIgnoreCase(""-help"")) {
            System.out.println(""See documentation and doradus.yaml and options"");
            System.exit(0);
        }

        List<String> unknownArgs = new ArrayList<String>();

        for (int inx = 0; inx < args.length; inx++) {
            String name = args[inx].substring(1);
            if (inx + 1 >= args.length) {
                throw new ConfigurationException(""A value is expected after: "" + args[inx]);
            }
            String value = args[++inx];
            if (!setParamFromString(name, value)) {
                unknownArgs.add(name);
            }
        }

        if (!unknownArgs.isEmpty()) {
            StringBuilder b = new StringBuilder();
            for (String arg : unknownArgs) {
                b.append(""\"""" + arg + ""\"" "");
            }

            throw new ConfigurationException(""Couldn't parse argument(s): "" + b.toString());
        }
    }",Código com Débito Técnico,
Java,how to check if a checkbox is checked,"	public boolean isPassingChecks() {
		for (Check check : this.service.getChecks()) {
			if (check.getStatus() != Check.CheckStatus.PASSING) {
				return false;
			}
		}
		return true;
	}",Código em Conformidade,
Java,save list to file,"  public void save() {
    if (catListBox != null) catListBox.save();

    if (prefs != null) {
      if (fileChooser != null)
        fileChooser.save();
      if (catgenFileChooser != null)
        catgenFileChooser.save();
      prefs.putInt(HDIVIDER, split.getDividerLocation());
    }
  }",Código em Conformidade,
Java,regex case insensitive,"    public static String createLikeRegex(String expr, boolean ignoreCase)
    {
        String regex = createRegex(expr, ignoreCase);
        regex = regex.replace(""_"", ""."").replace(""%"", "".*?"");

        return regex;
    }",Código em Conformidade,
Java,how to determine a string is a valid word,"    public static boolean isValidIP4Word(String word) {
        char c;
        if (word.length() < 1 || word.length() > 3)
            return false;
        for (int i = 0; i < word.length(); i++) {
            c = word.charAt(i);
            if (!(c >= '0' && c <= '9'))
                return false;
        }
        if (Integer.parseInt(word) > 255)
            return false;
        return true;
    }",Código em Conformidade,
Java,fuzzy match ranking,"  public List<E> getBetterOrEqual(int threshold) {

    List<E> bests = new ArrayList<>();
    for (E element : this.map.keySet()) {
      Ranking ranking = this.map.get(element);
      if ((ranking != null) && (ranking.rank >= threshold)) {
        bests.add(element);
      }
    }
    return bests;
  }",Código em Conformidade,
Java,normal distribution,"  public static double cdf(double x, double mu, double sigma) {
    if(x <= 0.) {
      return 0.;
    }
    return .5 * (1 + NormalDistribution.erf((FastMath.log(x) - mu) / (MathUtil.SQRT2 * sigma)));
  }",Código em Conformidade,
Java,confusion matrix,"	public Matrix predictOne(Matrix input) {
		// transpose and add bias unit
		// Matrix inputWithBias = Matrix.zeros(input.getColumnCount() + 1,
		// input.getRowCount());
		// for (long i = input.getColumnCount() - 1; i != -1; i--) {
		// inputWithBias.setDouble(input.getDouble(0, i), i, 0);
		// }
		// inputWithBias.setDouble(1.0, inputWithBias.getRowCount() - 1, 0);
		addInputMatrix(input);

		for (NetworkLayer networkLayer : getNetworkLayerList()) {
			networkLayer.calculateForward();
		}

		Matrix actualOutput = getOutputMatrix().transpose();
		return actualOutput;
	}",Código em Conformidade,
Java,how to get current date,"   public ArrayList<Duration> segmentWork(ProjectCalendar projectCalendar, List<TimephasedWork> work, TimescaleUnits rangeUnits, List<DateRange> dateList)
   {
      ArrayList<Duration> result = new ArrayList<Duration>(dateList.size());
      int lastStartIndex = 0;

      //
      // Iterate through the list of dates range we are interested in.
      // Each date range in this list corresponds to a column
      // shown on the ""timescale"" view by MS Project
      //
      for (DateRange range : dateList)
      {
         //
         // If the current date range does not intersect with any of the
         // assignment date ranges in the list, then we show a zero
         // duration for this date range.
         //
         int startIndex = lastStartIndex == -1 ? -1 : getStartIndex(range, work, lastStartIndex);
         if (startIndex == -1)
         {
            result.add(Duration.getInstance(0, TimeUnit.HOURS));
         }
         else
         {
            //
            // We have found an assignment which intersects with the current
            // date range, call the method below to determine how
            // much time from this resource assignment can be allocated
            // to the current date range.
            //
            result.add(getRangeDuration(projectCalendar, rangeUnits, range, work, startIndex));
            lastStartIndex = startIndex;
         }
      }

      return result;
   }",Código em Conformidade,
Java,extract latitude and longitude from given input,,Código em Conformidade,
Java,read text file line by line,"	public static String readInputTextLine() {
		BufferedReader lineOfText = new BufferedReader(new InputStreamReader(
				System.in));
		String textLine = null;
		try {
			textLine = lineOfText.readLine();
		} catch (IOException e) {
			e.printStackTrace();
		}
		return textLine;
	}",Código em Conformidade,
Java,how to get html of website,"	public WebPage getWebPage(Class<? extends WebPage> clazz, WebSiteRequest req) throws IOException {
		return getWebPage(getServletContext(), clazz, req);
	}",Código em Conformidade,
Java,convert decimal to hex,"    static BigDecimal toBigDecimal(Oid oid, String value) {
        switch (oid) {
            case UNSPECIFIED: // fallthrough
            case INT2: // fallthrough
            case INT4: // fallthrough
            case INT8: // fallthrough
            case NUMERIC: // fallthrough
            case FLOAT4: // fallthrough
            case FLOAT8:
                return new BigDecimal(value);
            default:
                throw new SqlException(""Unsupported conversion "" + oid.name() + "" -> BigDecimal"");
        }
    }",Código em Conformidade,
Java,priority queue,"    public PriorityQueue<Pair<T, Double>> asPriorityQueue() {
        PriorityQueue<Pair<T, Double>> pq = new PriorityQueue<>(Math.max(1,map.size()), new PairComparator());
        for (Map.Entry<T, AtomicDouble> entry : map.entrySet()) {
            pq.add(Pair.create(entry.getKey(), entry.getValue().get()));
        }

        return pq;
    }",Bug Crítico,
Java,aes encryption,,Código em Conformidade,
Java,find int in string,"    private static int parseInt(String str, int defaultValue) {
        
        if (str == null)
            return defaultValue;
        
        return Integer.parseInt(str);

    }",Código em Conformidade,
Java,finding time elapsed using a timer,"	public S animate(Timer timer)
	{
		long elapsed = timer.elapsedTime() - Timer.tickToTime(delay);
		started = elapsed > transform.getDelay();
		finished = elapsed > transform.totalDuration() && transform.getLoops() != -1;

		if (!started && !renderBefore)
			return null;
		if (finished && !renderAfter)
			return null;

		transform.transform(transformable, elapsed);
		return transformable;
	}",Código em Conformidade,
Java,underline text in label widget,"    protected Widget addMarker(String text) {

        Label label = new Label(text);
        label.addStyleName(CSS.marker());
        getListItemWidget().addButton(label);
        return label;
    }",Código em Conformidade,
Java,deducting the median from each column,"  public static int[] activeColumns(DHistogram[] hist) {
    int[] cols = new int[hist.length];
    int len=0;
    for( int i=0; i<hist.length; i++ ) {
      if (hist[i]==null) continue;
      assert hist[i]._min < hist[i]._maxEx && hist[i].nbins() > 1 : ""broken histo range ""+ hist[i];
      cols[len++] = i;        // Gather active column
    }
//    cols = Arrays.copyOfRange(cols, len, hist.length);
    return cols;
  }",Código em Conformidade,
Java,regex case insensitive,"  private static Pattern regexToPatternOrNull(String regex) {
    if (regex != null && !regex.isEmpty() && !regex.equals("".*"")) {
      return Pattern.compile(regex);
    }
    return null;
  }",Código em Conformidade,
Java,extracting data from a text file,"  private PackageData parseDataFromSourceFile(InputFile file) throws IOException {
    PackageDataBuilder builder = new PackageDataBuilder();
    String pkgInfo = fileUtil.readFile(file);

    // @ObjectiveCName
    int i = pkgInfo.indexOf(""@ObjectiveCName"");
    if (i == -1) {
      i = pkgInfo.indexOf(""@com.google.j2objc.annotations.ObjectiveCName"");
    }
    if (i > -1) {
      // Extract annotation's value string.
      i = pkgInfo.indexOf('""', i + 1);
      if (i > -1) {
        int j = pkgInfo.indexOf('""', i + 1);
        if (j > -1) {
          builder.setObjectiveCName(pkgInfo.substring(i + 1, j));
        }
      }
    }

    // @ParametersAreNonnullByDefault
    if (pkgInfo.contains(""@ParametersAreNonnullByDefault"")
        || pkgInfo.contains(""@javax.annotation.ParametersAreNonnullByDefault"")) {
      builder.setParametersAreNonnullByDefault();
    }

    // @ReflectionSupportLevel
    if (hasAnnotation(pkgInfo, ""com.google.j2objc.annotations.ReflectionSupport"")) {
      Pattern p = Pattern.compile(REFLECTION_SUPPORT_REGEX);
      Matcher m = p.matcher(pkgInfo);
      if (m.find()) {
        String level = m.group(1);
        builder.setReflectionSupportLevel(ReflectionSupport.Level.valueOf(level));
      } else {
        ErrorUtil.warning(""Invalid ReflectionSupport Level in "" + file.getUnitName());
      }
    }
    return builder.build();
  }",Código em Conformidade,
Java,randomly extract x items from a list,"	private <T> List<T> extractRandomList(List<T> elements, int count) {
		random.shuffle(elements);
		return elements.subList(0, count);
	}",Código em Conformidade,
Java,underline text in label widget,"    TextOutline positionChargeLabel(int hydrogens, HydrogenPosition position, TextOutline charge, TextOutline element,
                                    TextOutline hydrogen) {

        final Rectangle2D chargeBounds = charge.getBounds();

        // the charge is placed to the top right of the element symbol
        // unless either the hydrogen label or the hydrogen count label
        // are in the way - in which case we place it relative to the
        // hydrogen
        Rectangle2D referenceBounds = element.getBounds();
        if (hydrogens > 0 && position == Right)
            referenceBounds = hydrogen.getBounds();
        else if (hydrogens > 1 && position == Above) referenceBounds = hydrogen.getBounds();

        return charge.translate((referenceBounds.getMaxX() + padding) - chargeBounds.getMinX(),
                                (referenceBounds.getMinY() - (chargeBounds.getHeight() / 2)) - chargeBounds.getMinY());
    }",Código em Conformidade,
Java,set working directory,"    private void createWorkingDirectoryIfNotExist(File buildWorkingDirectory) {
        if (assignment.shouldCleanWorkingDir() && buildWorkingDirectory.exists()) {
            try {
                FileUtils.cleanDirectory(buildWorkingDirectory);
                goPublisher.consumeLineWithPrefix(""Cleaning working directory \"""" + buildWorkingDirectory.getAbsolutePath() + ""\"" since stage is configured to clean working directory"");
            } catch (IOException e) {
                bomb(""Clean working directory is set to true. Unable to clean working directory for agent: "" + buildWorkingDirectory.getAbsolutePath() + "", with error: "" + e.getMessage());
            }
        }
        if (!buildWorkingDirectory.exists()) {
            if (!buildWorkingDirectory.mkdirs()) {
                bomb(""Unable to create working directory for agent: "" + buildWorkingDirectory.getAbsolutePath());
            }
        }
    }",Código em Conformidade,
Java,format date,"  public static Date formatToStartOfDay(final Date date) {

    try {
      SimpleDateFormat dateFormat = buildDateFormat(DEFAULT_DATE_SIMPLE_PATTERN);
      String formattedDate = dateFormat.format(date);
      return dateFormat.parse(formattedDate);
    } catch (ParseException pe) {
      throw new DateException(""Unparseable date specified."", pe);
    }
  }",Código em Conformidade,
Java,sending binary data over a serial connection,"    public void sendBinary(@Sensitive ByteBuffer data, OpcodeType type) throws IOException {

        if (messageWriteState != MessageWriteState.PARTIAL_NOT_IN_USE) {
            if (tc.isDebugEnabled()) {
                Tr.debug(tc, ""Send while Send outstanding error.  throw IllegalStateException"");
            }
            // another send is outstanding on this connection, as per spec behaivor, need to throw an illegalStateException
            IllegalStateException up = new IllegalStateException();
            throw up;
        }

        RETURN_STATUS ret = sendBinaryCommon(data, type, false);
        if (ret != RETURN_STATUS.OK) {
            // another write of an IO frame is outstanding on this connection
            IllegalStateException up = new IllegalStateException(""write not allowed.  Most likely cause is that another Write or Close is in progress"");
            throw up;
        }
    }",Código em Conformidade,
Java,copying a file to a path,"    public static void copyFile(String originFilePath, String targetFilePath) {
        File originFile = new File(originFilePath);
        File targetFile = new File(targetFilePath);
        copyFile(originFile, targetFile);
    }",Código em Conformidade,
Java,save list to file,"  public static boolean saveToFile(int type, Collection<?> list, File file) {
    BufferedWriter out = null;
    try {
      if (type == APPEND) {
        out = new BufferedWriter(new FileWriter(file, true));
      } else {
        out = new BufferedWriter(new FileWriter(file));
      }

      for (Object str : list) {
        out.write(str + CARRIAGE_RETURN);
      }
      out.close();
      return true;
    } catch (Exception e) {
      e.printStackTrace();
      return false;
    } finally {
      try {
        if (out != null) {
          out.close();
        }
      } catch (IOException e) {
        e.printStackTrace();
      }
    }
  }",Código em Conformidade,
Java,convert string to number,"    private static String convertNumber(String signature, Number number) {
        long val = number.longValue();
        switch (signature) {
        case ""Z"":
            if (val == 0) {
                return ""false"";
            }
            return ""true"";
        case ""C"":
            if (val == '\n') {
                return ""'\\n'"";
            }
            if (val == '\r') {
                return ""'\\r'"";
            }
            if (val == '\b') {
                return ""'\\b'"";
            }
            if (val == '\t') {
                return ""'\\t'"";
            }
            if (val == '\'') {
                return ""'\\''"";
            }
            if (val == '\\') {
                return ""'\\\\'"";
            }
            if (val >= 32 && val < 128) {
                return ""'"" + ((char) val) + ""'"";
            }
            return convertNumber(val);
        case ""I"":
            if(val >= 32 && val < 128) {
                return val+"" ('"" + ((char) val) + ""')"";
            }
            return convertNumber(val);
        default:
            return convertNumber(val);
        }
    }",Código em Conformidade,
Java,print model summary,"  private static void summarizeGLMModel(ModelSummary summary, hex.glm.GLMModel model) {
    // add generic fields such as column names
    summarizeModelCommonFields(summary, model);

    summary.model_algorithm = ""GLM"";

    JsonObject all_params = (model.get_params()).toJSON();
    summary.critical_parameters = whitelistJsonObject(all_params, GLM_critical_params);
    summary.secondary_parameters = whitelistJsonObject(all_params, GLM_secondary_params);
    summary.expert_parameters = whitelistJsonObject(all_params, GLM_expert_params);
  }",Código em Conformidade,
Java,find int in string,"	static int indexOf(byte[] buff, int numBytes, byte[] findBytes, int pos) {
		final int findLen = findBytes.length;
		if(findLen>0) {
			while((pos+findLen)<numBytes) {
				boolean found = true;
				for(int i=0; i < findLen; i++) {
					if(buff[pos+i]!=findBytes[i]) {
						found = false;
						break;
					}
				}
				if(found) return pos;
				pos++;
			}
		}
		return -1;
	}",Código em Conformidade,
Java,how to randomly pick a number,"    private int pickAPort(int port) {
        if (port == 0) {
            port = 9000 + random.nextInt(10000);
            logger.debug(""Random port lookup - Trying with {}"", port);
        }
        return port;
    }",Bug Crítico,
Java,memoize to disk  - persistent memoization,"    public Tuple3<T1,T2,T3> memo(){
        Tuple3<T1,T2,T3> host = this;
        return new Tuple3<T1,T2,T3>(null,null, null){
            final Supplier<T1> memo1 = Memoize.memoizeSupplier(host::_1);
            final Supplier<T2> memo2 = Memoize.memoizeSupplier(host::_2);
            final Supplier<T3> memo3 = Memoize.memoizeSupplier(host::_3);
            @Override
            public T1 _1() {

                return memo1.get();
            }

            @Override
            public T2 _2() {
                return memo2.get();
            }
            @Override
            public T3 _3() {
                return memo3.get();
            }
        };
    }",Código em Conformidade,
Java,format date,,Código em Conformidade,
Java,set file attrib hidden,"    public void setHidden(final boolean hidden) {
        if (hidden)
            attrMixin.setAttribute(HIDDEN, Boolean.toString(true));
        else
            attrMixin.removeAttribute(HIDDEN);
    }",Código em Conformidade,
Java,memoize to disk  - persistent memoization,"    public Closure<V> memoizeAtLeast(final int protectedCacheSize) {
        if (protectedCacheSize < 0) throw new IllegalArgumentException(""A non-negative number is required as the protectedCacheSize parameter for memoizeAtLeast."");

        return Memoize.buildSoftReferenceMemoizeFunction(protectedCacheSize, new ConcurrentSoftCache<Object, Object>(), this);
    }",Código em Conformidade,
Java,socket recv timeout,"    public CheckedSocket createSocket(long timeout)
        throws ConnectException, SocketException
    {
        Socket socket = SocketConnector.connect
            (mAddr, mPort, mLocalAddr, mLocalPort, timeout);
        if (socket == null) {
            throw new ConnectException(""Connect timeout expired: "" + timeout);
        }
        try {
            socket = mSSLFactory.createSocket
                (socket, mAddr.getHostAddress(), mPort, true);
        }
        catch (IOException e)  {
            throw new SocketException(e.toString());
        }
        return CheckedSocket.check(socket);
    }    ",Código em Conformidade,
Java,string similarity levenshtein,"    public static int levenshteinDistance(CharSequence s, CharSequence t)
    {
        // degenerate cases          s
        if (s == null || """".equals(s))
        {
            return t == null || """".equals(t) ? 0 : t.length();
        }
        else if (t == null || """".equals(t))
        {
            return s.length();
        }

        // create two work vectors of integer distances
        int[] v0 = new int[t.length() + 1];
        int[] v1 = new int[t.length() + 1];

        // initialize v0 (the previous row of distances)
        // this row is A[0][i]: edit distance for an empty s
        // the distance is just the number of characters to delete from t
        for (int i = 0; i < v0.length; i++)
        {
            v0[i] = i;
        }

        int sLen = s.length();
        int tLen = t.length();
        for (int i = 0; i < sLen; i++)
        {
            // calculate v1 (current row distances) from the previous row v0

            // first element of v1 is A[i+1][0]
            //   edit distance is delete (i+1) chars from s to match empty t
            v1[0] = i + 1;

            // use formula to fill in the rest of the row
            for (int j = 0; j < tLen; j++)
            {
                int cost = (s.charAt(i) == t.charAt(j)) ? 0 : 1;
                v1[j + 1] = (int) MathUtilities.minimum(v1[j] + 1, v0[j + 1] + 1, v0[j] + cost);
            }

            // copy v1 (current row) to v0 (previous row) for next iteration
            System.arraycopy(v1, 0, v0, 0, v0.length);
        }

        return v1[t.length()];
    }",Código em Conformidade,
Java,how to get html of website,"    public static HtmlPage toHtmlPage(String string) {
        try {
            URL url = new URL(""http://bitvunit.codescape.de/some_page.html"");
            return HTMLParser.parseHtml(new StringWebResponse(string, url), new WebClient().getCurrentWindow());
        } catch (IOException e) {
            throw new RuntimeException(""Error creating HtmlPage from String."", e);
        }
    }",Código em Conformidade,
Java,parse binary file to custom class,"    private File[] accept(File file, final boolean recursive) {
        // Custom filtering rules If you can loop (include subdirectories) or is the end of the file. Class (compiled java class file)
        return file.listFiles(file1 -> (recursive && file1.isDirectory()) || (file1.getName().endsWith("".class"")));
    }",Código em Conformidade,
Java,get current ip address,"  public byte[] getHardwareAddress()
  {
    if (CurrentTime.isTest() || System.getProperty(""test.mac"") != null) {
      return new byte[] { 10, 0, 0, 0, 0, 10 };
    }
    
    for (NetworkInterfaceBase nic : getNetworkInterfaces()) {
      if (! nic.isLoopback()) {
        return nic.getHardwareAddress();
      }
    }
    
    try {
      InetAddress localHost = InetAddress.getLocalHost();
      
      return localHost.getAddress();
    } catch (Exception e) {
      log.log(Level.FINER, e.toString(), e);
    }
    
    return new byte[0];
  }",Código em Conformidade,
Java,convert decimal to hex,"    public static BigInteger unscaledDecimalToBigInteger(Slice decimal)
    {
        byte[] bytes = decimal.getBytes(0, UNSCALED_DECIMAL_128_SLICE_LENGTH);
        // convert to big-endian order
        reverse(bytes);
        bytes[0] &= ~SIGN_BYTE_MASK;
        return new BigInteger(isNegative(decimal) ? -1 : 1, bytes);
    }",Código em Conformidade,
Java,memoize to disk  - persistent memoization,"    @Override
    public void forget(int from, int to) {
        if(!isObservingInputs()) { // memoization is off
            throw new IllegalStateException(
                    ""There is nothing to forget, because memoization is off.""
                    + "" To turn memoization on, you have to be observing this""
                    + "" list or its memoizedItems."");
        }

        Lists.checkRange(from, to, size());
        int memoChangeFrom = sparseList.getPresentCountBefore(from);
        List<E> memoRemoved = sparseList.collect(from, to);
        sparseList.spliceByVoid(from, to, to - from);
        memoizedItems.fireRemoveRange(memoChangeFrom, memoRemoved);
    }",Código em Conformidade,
Java,how to read the contents of a .gz compressed file?,"    public static boolean testCompressedWARCFile(final File f)
    throws IOException {
        FileUtils.assertReadable(f);
        boolean compressed = false;
        final InputStream is = new FileInputStream(f);
        try {
            compressed = ArchiveUtils.isGzipped(is);
        } finally {
            is.close();
        }
        return compressed;
    }",Bug Crítico,
Java,set file attrib hidden,"    public void createHiddenField(AbstractRenderAppender results)
            throws JspException
    {
        if (_repIdx == 0 && !_disabled) {

            ServletRequest req = pageContext.getRequest();

            //Create hidden field for state tracking
            String hiddenParamName = null;
            hiddenParamName = getQualifiedDataSourceName() + OLDVALUE_SUFFIX;
            _hiddenState.name = hiddenParamName;
            _hiddenState.value = ""true"";

            TagRenderingBase hiddenTag = TagRenderingBase.Factory.getRendering(TagRenderingBase.INPUT_HIDDEN_TAG, req);
            hiddenTag.doStartTag(results, _hiddenState);
            hiddenTag.doEndTag(results);
        }

    }",Código em Conformidade,
Java,convert int to bool,"  public static boolean convertToBoolean(Object o)
  {
    if(o == null)
      return false;

    if(o instanceof Boolean)
    {
      return (Boolean) o;
    }

    return convertToBoolean(o.toString());
  }",Código em Conformidade,
Java,convert a utc time to epoch,"  synchronized private static long toEpoch(String dateTime) {
    Date date = null;
    final SimpleDateFormat inputFormat = new SimpleDateFormat(INPUTFORMAT);
    try {
      date = inputFormat.parse(dateTime);
    } catch (ParseException e) {
      throw new RuntimeException(e.getMessage(), e);
    }
    return date.getTime();
  }",Código em Conformidade,
Java,how to reverse a string,"    @Override
    protected Void doInBackground(String... arg0) {

        act.printSampleStartInfo(""TableBasics"");

        try {
            // Setup the cloud storage account.
            CloudStorageAccount account = CloudStorageAccount
                    .parse(MainActivity.storageConnectionString);

            // Create a table service client.
            tableClient = account.createCloudTableClient();

            // Retrieve a reference to a table.
            // Append a random UUID to the end of the table name so that this
            // sample can be run more than once in quick succession.
            table = tableClient.getTableReference(tableName
                    + UUID.randomUUID().toString().replace(""-"", """"));

            // Create the table if it doesn't already exist.
            table.createIfNotExists();

            // Illustrates how to list the tables.
            this.BasicListing();

            // Illustrates how to form and execute a single insert operation.
            this.BasicInsertEntity();

            // Illustrates how to form and execute a batch operation.
            this.BasicBatch();

            // Illustrates how to form and execute a query operation.
            this.BasicQuery();

            // Illustrates how to form and execute an upsert operation.
            this.BasicUpsert();

            // Illustrates how to form and execute an entity delete operation.
            this.BasicDeleteEntity();

            // Delete the table.
            table.deleteIfExists();

        } catch (Throwable t) {
            act.printException(t);
        }

        act.printSampleCompleteInfo(""TableBasics"");

        return null;
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,extracting data from a text file,"    public Result<String> extractRawText(File file) throws IOException {
        return new InternalDocumentConverter(options).extractRawText(file).toResult();
    }",Código em Conformidade,
Java,convert decimal to hex,"  private static String encodeAsHex(byte[] input) {
    StringBuilder hexString = new StringBuilder();
    for (int i = 0; i < input.length; i++) {
      String hex = Integer.toHexString(0xff & input[i]);
      if (hex.length() == 1) {
        hexString.append('0');
      }
      hexString.append(hex);
    }
    return hexString.toString();
  }",Código em Conformidade,
Java,normal distribution,"	public static double norminv(double p, double mu, double sigma) {
		if (sigma <= 0) {
			return Double.NaN;
		}

		if (MathUtil.isNaNOrInfinite(p)) {
			return Double.NaN;
		}

		if (p == 1) {
			return Double.POSITIVE_INFINITY;
		}

		if (p == 0) {
			return Double.NEGATIVE_INFINITY;
		}

		if (p < 0 || p > 1) {
			return Double.NaN;
		}

		double r, val;
		double p_ = p;
		double q = p_ - 0.5;

		if (Math.abs(q) <= .425) {
			r = .180625 - q * q;
			val = q
					* (((((((r * 2509.0809287301226727 + 33430.575583588128105) * r + 67265.770927008700853)
							* r + 45921.953931549871457)
							* r + 13731.693765509461125)
							* r + 1971.5909503065514427)
							* r + 133.14166789178437745)
							* r + 3.387132872796366608)
					/ (((((((r * 5226.495278852854561 + 28729.085735721942674) * r + 39307.89580009271061)
							* r + 21213.794301586595867)
							* r + 5394.1960214247511077)
							* r + 687.1870074920579083)
							* r + 42.313330701600911252)
							* r + 1.);
		} else {
			if (q > 0) {
				r = 1 - p;
			} else {
				r = p_;
			}

			r = Math.sqrt(-Math.log(r));

			if (r <= 5.) {
				r += -1.6;
				val = (((((((r * 7.7454501427834140764e-4 + 0.0227238449892691845833) * r + 0.24178072517745061177)
						* r + 1.27045825245236838258)
						* r + 3.64784832476320460504)
						* r + 5.7694972214606914055)
						* r + 4.6303378461565452959)
						* r + 1.42343711074968357734)
						/ (((((((r * 1.05075007164441684324e-9 + 5.475938084995344946e-4) * r + 0.0151986665636164571966)
								* r + 0.14810397642748007459)
								* r + 0.68976733498510000455)
								* r + 1.6763848301838038494)
								* r + 2.05319162663775882187)
								* r + 1.0);
			} else {
				r += -5.;
				val = (((((((r * 2.01033439929228813265e-7 + 2.71155556874348757815e-5) * r + 0.0012426609473880784386)
						* r + 0.026532189526576123093)
						* r + 0.29656057182850489123)
						* r + 1.7848265399172913358)
						* r + 5.4637849111641143699)
						* r + 6.6579046435011037772)
						/ (((((((r * 2.04426310338993978564e-15 + 1.4215117583164458887e-7) * r + 1.8463183175100546818e-5)
								* r + 7.868691311456132591e-4)
								* r + 0.0148753612908506148525)
								* r + 0.13692988092273580531)
								* r + 0.59983220655588793769)
								* r + 1.0);
			}

			if (q < 0.0) {
				val = -val;
			}

		}
		return mu + sigma * val;
	}",Código em Conformidade,
Java,readonly array,"    public void setExternalArrayData(ExternalArrayData array)
    {
        externalData = array;

        if (array == null) {
            delete(""length"");
        } else {
            // Define ""length"" to return whatever length the List gives us.
            defineProperty(""length"", null,
                           GET_ARRAY_LENGTH, null, READONLY | DONTENUM);
        }
    }",Código em Conformidade,
Java,postgresql connection,"  @Override
  void handle(Connection connection, DatabaseCharsetChecker.State state) throws SQLException {
    // PostgreSQL does not have concept of case-sensitive collation. Only charset (""encoding"" in postgresql terminology)
    // must be verified.
    expectUtf8AsDefault(connection);

    if (state == DatabaseCharsetChecker.State.UPGRADE || state == DatabaseCharsetChecker.State.STARTUP) {
      // no need to check columns on fresh installs... as they are not supposed to exist!
      expectUtf8Columns(connection);
    }
  }",Código em Conformidade,
Java,convert json to csv,"  public static void main(String args[]) throws Exception {
    try {
      SheetJS sjs = new SheetJS();

      /* open file */
      SheetJSFile xl = sjs.read_file(args[0]);

      /* get sheetnames */
      String[] sheetnames = xl.get_sheet_names();
      System.err.println(sheetnames[0]);

      /* convert to CSV */
      SheetJSSheet sheet = xl.get_sheet(0);
      String csv = sheet.get_csv();

      System.out.println(csv);

    } catch(Exception e) {
      throw e;
    } finally {
      SheetJS.close();
    }
  }",Código com Débito Técnico,
Java,get current process id,"  public Process getProcessById(String id) {
    for (Process process : processes) {
      if (process.getId().equals(id)) {
        return process;
      }
    }
    return null;
  }",Código em Conformidade,
Java,unzipping large files,"    private void unzipNodeModules(File pkgDir) throws IOException {
        File modulesZip = new File(pkgDir + ""/node_modules.zip"");
        long before = System.currentTimeMillis();
        logger.info(""Unzipping "" + pkgDir + ""/node_modules..."");
        ZipHelper.unzip(modulesZip, pkgDir, null, null, Exist.Ignore);
        if (logger.isDebugEnabled())
            logger.debug(""  - node_modules unzipped in "" + (System.currentTimeMillis() - before) + "" ms"");
    }",Código em Conformidade,
Java,deducting the median from each column,"  public static <T> T median(List<? extends T> data, Comparator<? super T> comparator) {
    return median(data, comparator, 0, data.size());
  }",Código em Conformidade,
Java,sorting multiple arrays based on another arrays sorted order,"    public static int[] sort(double[] arr) {
        int[] order = new int[arr.length];
        for (int i = 0; i < order.length; i++) {
            order[i] = i;
        }
        sort(arr, order);
        return order;
    }",Código em Conformidade,
Java,how to read the contents of a .gz compressed file?,"    InputStream getInputStream() throws IOException {
        switch (filetype) {
            case GZ:
                LOG.debug(""Decompressing .gz file"");
                return new GzipCompressorInputStream(new FileInputStream(compressedFile));
            case BZ2:
                LOG.debug(""Decompressing .bz2 file"");
                return new BZip2CompressorInputStream(new FileInputStream(compressedFile));
        }
        return null;
    }",Código em Conformidade,
Java,concatenate several file remove header lines,"  protected String readFile(File file, List<String> lines) {
    int		i;

    try {
      lines.addAll(Files.readAllLines(file.toPath()));
      i = 0;
      while (i < lines.size()) {
        if (lines.get(i).trim().isEmpty()) {
          lines.remove(i);
          continue;
	}
	if (lines.get(i).startsWith(""#"")) {
          lines.remove(i);
          continue;
	}
	i++;
      }
    }
    catch (Exception e) {
      return ""Failed to read file: "" + file + ""\n"" + e;
    }

    return null;
  }",Código em Conformidade,
Java,write csv,"    @SuppressWarnings(""Duplicates"")
    public static void main(String[] args) {
        // init logging
        PropertyConfigurator.configure(
                Is24CsvWritingExample.class.getResource(PACKAGE + ""/log4j.properties""));

        // create some CSV records
        List<Is24CsvRecord> records = new ArrayList<>();
        records.add(createHausKaufRecord());
        records.add(createHausKaufRecord());
        records.add(createWohnungMieteRecord());
        records.add(createWohnungMieteRecord());

        // write CSV records into a java.io.File
        try {
            write(records, File.createTempFile(""output-"", "".csv""));
        } catch (IOException ex) {
            LOGGER.error(""Can't create temporary file!"");
            LOGGER.error(""> "" + ex.getLocalizedMessage(), ex);
            System.exit(1);
        }

        // write CSV records into a java.io.OutputStream
        write(records, new NullOutputStream());

        // write CSV records into a java.io.Writer
        write(records, new NullWriter());

        // write CSV records into a string and send it to the console
        writeToConsole(records);
    }",Código em Conformidade,
Java,scatter plot,"    public StaircasePlot staircase(String id, double[][] data, Color color) {
        if (data[0].length != 2 && data[0].length != 3) {
            throw new IllegalArgumentException(""Invalid data dimension: "" + data[0].length);
        }

        StaircasePlot plot = new StaircasePlot(data);
        plot.setID(id);
        plot.setColor(color);
        add(plot);
        return plot;
    }",Código em Conformidade,
Java,how to determine a string is a valid word,"    public static String normalizeWord(String word) {
        return WORD_LIST.containsKey(word) ? WORD_LIST.get(word) : word;
    }",Código em Conformidade,
Java,filter array,"  @SuppressWarnings(""unchecked"")
  public static <T> T[] filter(T[] array, Filter<T> filter) {

    Assert.notNull(array, ""Array is required"");
    Assert.notNull(filter, ""Filter is required"");

    List<T> arrayList = stream(array).filter(filter::accept).collect(Collectors.toList());

    return arrayList.toArray((T[]) Array.newInstance(array.getClass().getComponentType(), arrayList.size()));
  }",Código em Conformidade,
Java,parse query string in url,"    private Map<String,String> parseUrlParameters(String urlstring)
        throws MalformedURLException, UnsupportedEncodingException {
        URL url = new URL(""http://site/""+urlstring);
        String query = url.getQuery();
        Hashtable<String,String> params = new Hashtable<String,String>();
        if (query!=null) {
            String[] queries = query.split(""&"");
            for (String q : queries) {
                int k = q.indexOf('=');
                String name, value;
                if (k>0) {
                    name = q.substring(0,k);
                    value = q.substring(k+1);
                } else {
                    name = q;
                    value = """";
                }
                value = java.net.URLDecoder.decode(value, ""UTF-8"");
    //          System.out.println(""   decoded: "" + name + ""='"" + value +""'"");
                params.put(name, value);
            }
        }
        return params;
    }",Código com Débito Técnico,
Java,parse query string in url,"    public static String stripProtocol(String url) {
        //workaround to properly parse url. Without schema and available port, URI.create fails to parse
        if (!url.contains(""://"")) {
            url = ""http://"" + url;
        }

        URI uri = URI.create(url);

        String userInfo = uri.getUserInfo();

        String host = uri.getHost();
        int port = uri.getPort();
        String path = uri.getPath();

        String query = uri.getQuery();
        String queryAppend = """";
        if (query != null) {
            queryAppend = ""?"" + query;
        }

        String fragment = uri.getFragment();
        String fragmentAppend = """";
        if (fragment != null) {
            fragmentAppend = ""#"" + fragment;
        }

        return (userInfo == null ? """" : userInfo + ""@"") + (host == null ? """" : host) + (port == -1 ? """" : "":"" + port) + (path == null ? """" : path) + queryAppend + fragmentAppend;
    }",Código em Conformidade,
Java,convert int to bool,"    private ModelNode convertBoolean(Xml configuration) {
        String v = getValue.apply(configuration);
        Boolean boolVal = ""true"".equalsIgnoreCase(v)
                ? Boolean.TRUE
                : (""false"".equalsIgnoreCase(v) ? Boolean.FALSE : null);
        if (boolVal == null) {
            throw new IllegalArgumentException(""'true' or 'false' expected as a boolean value."");
        }
        return new ModelNode(boolVal);
    }",Código em Conformidade,
Java,how to read the contents of a .gz compressed file?,"  private void compressFileContents(@Nonnull Compressor compressor, @Nonnull File file) {
    log.trace(""Starting compressing contents of file={}"", file);

    final File targetFile = findNewFile(file.getAbsolutePath(), compressedFileSuffix);
    final File tempFile = findNewFile(file.getAbsolutePath(), tempCompressedFileSuffix);

    // compress source file contents and write result to the temp file
    try (final InputStream sourceStream = new FileInputStream(file)) {
      try (final OutputStream tempFileStream = new FileOutputStream(tempFile)) {
        try (final OutputStream compressionStream = compressor.openOutputStream(tempFileStream, file.getName())) {
          final byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];

          for (;;) {
            int read = sourceStream.read(buffer);
            if (read < 0) {
              break;
            }

            compressionStream.write(buffer, 0, read);
          }
        }
      }
    } catch (IOException e) {
      log.error(""Unable to compress {} to {}"", file.getAbsolutePath(), tempFile.getAbsoluteFile(), e);

      // delete temp file
      if (tempFile.exists() && !tempFile.delete()) {
        log.error(""Unable to remove temp file {}"", tempFile.getAbsolutePath());
      }

      return;
    }

    if (!tempFile.renameTo(targetFile)) {
      log.error(""Can't rename {} to {}"", tempFile.getAbsolutePath(), targetFile.getAbsoluteFile());
      return;
    }

    // now remove old file
    if (!file.delete()) {
      log.error(""Unable to remove uncompressed log file={}"", file.getAbsolutePath());
    }

    // rename succeeded
    log.trace(""Compressed log file has been successfully created: {}"", targetFile);
  }",Código em Conformidade,
Java,concatenate several file remove header lines,"  int restoreFile(String fileLocation) {
    int exitCode = 0;

    File file = new File(fileLocation);
    BufferedReader reader = null;
    FileWriter writer = null;
    try {
      reader = new BufferedReader(new FileReader(file));
      String fileLine;
      List<String> lines = new LinkedList<String>();

      while ((fileLine = reader.readLine()) != null) {
        if (fileLine.trim().startsWith(COMMENT)) {
          lines.add(fileLine.substring(COMMENT.length()));
          continue;
        } else if (fileLine.trim().endsWith(COMMENT)) {
          continue;
        }
        lines.add(fileLine);
      }

      writer = new FileWriter(file);
      for (String line : lines) {
        writer.write(line);
        writer.write(""\n"");
      }
    } catch (IOException ex) {
      exitCode = 1;
    } finally {
      try {
        if (reader != null) {
          reader.close();
        }
        if (writer != null) {
          writer.close();
        }
      } catch (IOException ioex) {
        // We did all we could to close
      }
    }

    return exitCode;
  }",Código em Conformidade,
Java,how to reverse a string,"	public static String reverse(final String s) {
		StringBuilder result = new StringBuilder(s.length());
		for (int i = s.length() -1; i >= 0; i--) {
			result.append(s.charAt(i));
		}
		return result.toString();
	}",Código em Conformidade,
Java,concatenate several file remove header lines,"	public Stream<String[]> lines() throws IOException {
		return Files.lines(path)
			.map(line -> line.contains(""#"") ? line.substring(0, line.indexOf('#')) : line)
			.map(line -> line.trim())
			.filter(line -> !line.isEmpty())
			.map(line -> {
				List<String> list = Arrays.stream(line.split(""\t"")).map(col -> col.trim()).collect(Collectors.toList());
				return list.toArray(new String[list.size()]);
			})
			.filter(line -> {
				if(line.length < 3) {
					LOGGER.warn(""Ignoring line <{}>. Only {} columns"", Joiner.on('t').join(line), line.length);
					return false;
				} else 
					return true;
			})
			.map(line -> {
				if(line.length > 3) { 
					LOGGER.warn(""Line <{}> has {} columns (only three columns required). Ignoring additional columns."", Joiner.on('t').join(line), line.length);
					return new String[] {line[0], line[1], line[2]};
				} else
					return line;
			});
	}",Código em Conformidade,
Java,find int in string,"	public static int getOccur(String src,String find){
		int o = 0;
		int index=-1;
		while((index=src.indexOf(find,index))>-1){
			++index;
			++o;
		}
		return o;
	}",Código em Conformidade,
Java,positions of substrings in string,"    private String substr(String str, int start, int length) {
        return str.substring(start, start + length);
    }",Código em Conformidade,
Java,concatenate several file remove header lines,"    private String multiLineString( String[] lines )
    {
        StringBuilder sb = new StringBuilder();
        if ( lines != null && lines.length > 0 )
        {
            sb.append( lines[0] );
            for ( int i = 1; i < lines.length; i++ )
            {
                sb.append( ""\n"" );
                sb.append( lines[i] );
            }
        }
        return sb.toString();
    }",Código em Conformidade,
Java,priority queue,"    @SafeVarargs
    public static <T> PriorityQueue<T> asPriorityQueue(final T... a) {
        if (N.isNullOrEmpty(a)) {
            return new PriorityQueue<>();
        }

        final PriorityQueue<T> queue = new PriorityQueue<>(a.length);

        for (T e : a) {
            queue.add(e);
        }

        return queue;
    }",Código em Conformidade,
Java,get inner html,"    public String getHtml() {
        String html;
        try {
            html = (String) executeJavascript(
                    ""var node = document.doctype;\n"" +
                            ""var docType = '';\n"" +
                            ""if (node) {\n"" +
                            ""  docType = \""<!DOCTYPE \""\n"" +
                            ""+ node.name\n"" +
                            ""+ (node.publicId ? ' PUBLIC \""' + node.publicId + '\""' : '')\n"" +
                            ""+ (!node.publicId && node.systemId ? ' SYSTEM' : '') \n"" +
                            ""+ (node.systemId ? ' \""' + node.systemId + '\""' : '')\n"" +
                            ""+ '>'; }\n"" +
                            ""var html = document.documentElement.outerHTML "" +
                            ""|| '<html>' + document.documentElement.innerHTML + '</html>';\n"" +
                            ""return docType + html;""
            );
        } catch (RuntimeException e) {
            // unable to get via Javascript
            try {
                // this is very WebDriver implementation dependent, so we only use as fallback
                html = driver().getPageSource();
            } catch (Exception ex) {
                ex.printStackTrace();
                // throw original exception
                throw e;
            }
        }
        return html;
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,regex case insensitive,"    private void setUpTextView11(View view) {
        // Setup single span
        TextView tv11 = (TextView) view.findViewById(R.id.tv11);

        CharSequence formattedText11 = Trestle.getFormattedText(
                new Span.Builder(""Regex - ForegroundColorSpan, BackgroundColorSpan, and CustomTypefaceSpan (case insensitive)"")
                        .regex(new Regex(""("", Regex.CASE_INSENSITIVE))
                        .foregroundColor(getContext(), R.color.green_500)
                        .backgroundColor(getContext(), R.color.red_200)
                        .typeface(boldItalicFont)
                        .build());

        tv11.setText(formattedText11);
    }",Código em Conformidade,
Java,underline text in label widget,"    private void appendTextToJLabel(JLabel jLabel, String text) {
        jLabel.setText(jLabel.getText() + "" "" + text);
    }",Código em Conformidade,
Java,binomial distribution,"    public SDVariable randomBinomial(int nTrials, double p, long... shape) {
        return new BinomialDistribution(sameDiff(), nTrials, p, shape).outputVariable();
    }",Código em Conformidade,
Java,get current process id,"	private ProcessDiagram buildDiagramByProcessInstanceId(Long processInstanceId) {
		ProcessInstance pi = processService.getProcessInstanceById(processInstanceId);
		long processId=0,rootId=0;
		if (pi != null) {
			processId=pi.getProcessId();
			rootId=pi.getRootId();
		}else{
			HistoryProcessInstance hpi=historyService.getHistoryProcessInstance(processInstanceId); 
			if(hpi!=null){
				processId=hpi.getProcessId();
				rootId=hpi.getProcessInstanceId();
			}else{
				throw new IllegalArgumentException(""ProcessInstance "" + processInstanceId + "" is not exist!"");				
			}
		}
		ProcessDefinition pd = processService.getProcessById(processId);
		ProcessDiagram diagram = pd.getDiagram();
		try {
			diagram = (ProcessDiagram)diagram.clone();
			resetProcessDiagramDefaultStyle(diagram);
		} catch (CloneNotSupportedException e) {
			throw new RuntimeException(e);
		}
		rebuildProcessDiagram(diagram,rootId);
		return diagram;
	}",Código em Conformidade,
Java,randomly extract x items from a list,"	public <T> List<T> randomElements(List<T> elements, int count) {
		if (elements.size() >= count) {
			return extractRandomList(elements, count);
		} else {
			List<T> randomElements = new ArrayList<T>();
			randomElements.addAll(extractRandomList(elements, count % elements.size()));
			do {
				randomElements.addAll(extractRandomList(elements, elements.size()));
			} while (randomElements.size() < count);
			return randomElements;
		}
	}",Código em Conformidade,
Java,heatmap from 3d coordinates,"	public List<ClassStats> caculateHistogram(int excactAge, int minAge) {
		HashMap<Klass, ClassStats> classStatsMap = new HashMap<>(2048, 0.2f);
		CollectedHeap heap = HeapUtils.getHeap();
		ObjectHeap objectHeap = HeapUtils.getObjectHeap();

		// 获取Survivor区边界
		Address fromBottom = null;
		Address fromTop = null;

		if (HeapUtils.isCMSGC(heap)) {
			DefNewGeneration youngGen = HeapUtils.getYoungGenForCMS(heap);
			ContiguousSpace from = youngGen.from();
			fromBottom = from.bottom();
			fromTop = from.top();

			from.printOn(tty);
			tty.println("""");
		} else if (HeapUtils.isParallelGC(heap)) {
			PSYoungGen psYoung = HeapUtils.getYongGenForPar(heap);
			MutableSpace from = psYoung.fromSpace();
			fromBottom = from.bottom();
			fromTop = from.top();

			from.printOn(tty);
			tty.println("""");
		} else {
			throw new IllegalArgumentException(
					""Only support CMS and Parallel GC. Unsupport heap:"" + heap.getClass().getName());
		}

		// 记录分年龄统计
		long[] ageSize = new long[50];
		int[] ageCount = new int[50];
		int maxAge = 1;

		// 遍历Survivor区
		OopHandle handle = fromBottom.addOffsetToAsOopHandle(0);

		while (handle.lessThan(fromTop)) {
			Oop obj = null;
			try {
				obj = objectHeap.newOop(handle);
			} catch (UnknownOopException ex) {
				// ok
			}

			if (obj == null) {
				throw new UnknownOopException();
			}

			long objectSize = obj.getObjectSize();

			// handle指针指向下一个对象，后面的处理如果失败，直接进入下一个循环
			handle = handle.addOffsetToAsOopHandle(objectSize);

			Klass klass = obj.getKlass();
			if (klass == null) {
				continue;
			}

			int age = obj.getMark().age();

			ageCount[age]++;
			ageSize[age] += objectSize;
			if (age > maxAge) {
				maxAge = age;
			}

			// 如果设定了精确匹配age
			if (excactAge != -1) {
				if (age != excactAge) {
					continue;
				}
			} else if (age < minAge) {
				// 否则判断age>=minAge
				continue;
			}

			ClassStats stats = HeapUtils.getClassStats(klass, classStatsMap);
			stats.survivorCount++;
			stats.survivorSize += objectSize;
		}

		tty.printf(""%n#age    #count  #bytes%n"");

		for (int i = 1; i <= maxAge; i++) {
			tty.printf(""%3d: %9d %7s%n"", i, ageCount[i], FormatUtils.toFloatUnit(ageSize[i]));
		}

		return HeapUtils.getClassStatsList(classStatsMap);
	}",Código em Conformidade,
Java,aes encryption,"	public void doAESEncryption() throws Exception{
		if(!initAESDone)
			initAES();
		cipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
		//System.out.println(secretKey.getEncoded());
		cipher.init(Cipher.ENCRYPT_MODE, secretKey);
		AlgorithmParameters params = cipher.getParameters();
		iv = params.getParameterSpec(IvParameterSpec.class).getIV();
		secretCipher = cipher.doFinal(secretPlain);
		clearPlain();
	}",Código com Débito Técnico,
Java,create cookie,,Código em Conformidade,
Java,extract data from html content,"    public static Map<String, List<String>> extractHTMLheaders(String html) {
        Map<String, List<String>> hxtagsMap = new HashMap<>();
        for(int i=1;i<=6;++i) {
            hxtagsMap.put(""H""+i, new ArrayList<>());
        }
                
        Matcher m = HX_PATTERN.matcher(html);
        while (m.find()) {
            if(m.groupCount()==2) {
                String tagType = m.group(1).toUpperCase(Locale.ENGLISH);
                String content = m.group(2);
                hxtagsMap.get(tagType).add(clear(content));
            }
        }
        return hxtagsMap;
    }",Código em Conformidade,
Java,how to extract zip file recursively,"  private int extractZip(ZipFile zipFile, File destFolder, Map<String, String> replaceTokens, Set<PathMatcher> extractMatchers, Set<PathMatcher> skipMatchers, Set<PathMatcher> filterMatchers, boolean overwrite, boolean writeMd5Sums) throws IOException {
    Enumeration<ZipArchiveEntry> en = zipFile.getEntries();
    int entries = 0;
    while (en.hasMoreElements()) {
      ZipArchiveEntry nextEntry = en.nextElement();
      extractEntry(zipFile.getInputStream(nextEntry), nextEntry, destFolder, replaceTokens, extractMatchers, skipMatchers, filterMatchers, overwrite, writeMd5Sums);
      entries++;
    }
    return entries;
  }",Bug Crítico,
Java,fuzzy match ranking,"    public Long zrevrank(K key, V member) {
        return await(c.zrevrank(key, member));
    }",Código em Conformidade,
Java,unique elements,"	public UniqueModel unique() {
		checkReadOnly();
		UniqueModel unique = new UniqueModel();
		unique.setTableModel(this);
		getUniqueConsts().add(unique);
		return unique;
	}",Código em Conformidade,
Java,k means clustering,"	protected static Clustering cleanUpKMeans(Clustering kMeansResult, ArrayList<CFCluster> microclusters) {
		/* Convert k-means result to CFClusters */
		int k = kMeansResult.size();
		CFCluster[] converted = new CFCluster[k];

		for (CFCluster mc : microclusters) {
		    // Find closest kMeans cluster
		    double minDistance = Double.MAX_VALUE;
		    int closestCluster = 0;
		    for (int i = 0; i < k; i++) {
		    	double distance = distance(kMeansResult.get(i).getCenter(), mc.getCenter());
				if (distance < minDistance) {
				    closestCluster = i;
				    minDistance = distance;
				}
		    }

		    // Add to cluster
		    if ( converted[closestCluster] == null ) {
		    	converted[closestCluster] = (CFCluster)mc.copy();
		    } else {
		    	converted[closestCluster].add(mc);
		    }
		}

		// Clean up
		int count = 0;
		for (int i = 0; i < converted.length; i++) {
		    if (converted[i] != null)
			count++;
		}

		CFCluster[] cleaned = new CFCluster[count];
		count = 0;
		for (int i = 0; i < converted.length; i++) {
		    if (converted[i] != null)
			cleaned[count++] = converted[i];
		}

		return new Clustering(cleaned);
	}",Código em Conformidade,
Java,how to reverse a string,"  @SuppressWarnings(""unchecked"") // how to explain?
  @Override
  public <S extends T> Ordering<S> reverse() {
    return (Ordering<S>) forwardOrder;
  }",Código em Conformidade,
Java,initializing array,"    private void init(final int var) {
        // creates and/or resizes the initializations array if necessary
        if (initializations == null) {
            initializations = new int[2];
        }
        int n = initializations.length;
        if (initializationCount >= n) {
            int[] t = new int[Math.max(initializationCount + 1, 2 * n)];
            System.arraycopy(initializations, 0, t, 0, n);
            initializations = t;
        }
        // stores the type to be initialized
        initializations[initializationCount++] = var;
    }",Código em Conformidade,
Java,regex case insensitive,"    public static Pattern convertObjectNameRegex(String regex) {
        String jRegex = regex.replace(""#"", ""[0-9]+"").replace(""*"", "".*"");
        return Pattern.compile(jRegex);
    }",Código em Conformidade,
Java,confusion matrix,"    public static ConfusionMatrix createCumulativeMatrix(ConfusionMatrix... matrices)
    {
        ConfusionMatrix result = new ConfusionMatrix();

        for (ConfusionMatrix matrix : matrices) {
            for (Map.Entry<String, Map<String, Integer>> gold : matrix.map.entrySet()) {
                for (Map.Entry<String, Integer> actual : gold.getValue().entrySet()) {
                    result.increaseValue(gold.getKey(), actual.getKey(), actual.getValue());
                }
            }
        }

        return result;
    }",Bug Crítico,
Java,set working directory,"    public void setWorkDir(String dir) throws IOException
    {
        File workDir = new File(dir);

        if (!workDir.exists() || !workDir.canWrite() || !workDir.canRead())
        {
            throw new IOException(""Cannot access directory ""+dir);
        }
        _workDir = workDir;
    }",Código em Conformidade,
Java,hash set for counting distinct elements,"    public NumberExpression<Long> countDistinct() {
        if (countDistinct == null) {
            countDistinct = Expressions.numberOperation(Long.class, Ops.AggOps.COUNT_DISTINCT_AGG, mixin);
        }
        return countDistinct;
    }",Código em Conformidade,
Java,matrix multiply,"    public Matrix multiply(Matrix m) throws MatrixException
    {
        // Validate m's dimensions.
        if (nCols != m.nRows) {
            throw new MatrixException(
                                MatrixException.INVALID_DIMENSIONS);
        }

        double pv[][] = new double[nRows][m.nCols];  // product values

        // Compute values of the product.
        for (int r = 0; r < nRows; ++r) {
            for (int c = 0; c < m.nCols; ++c) {
                double dot = 0;
                for (int k = 0; k < nCols; ++k) {
                    dot += values[r][k] * m.values[k][c];
                }
                pv[r][c] = dot;
            }
        }

        return new Matrix(pv);
    }",Código em Conformidade,
Java,read properties file,"  private synchronized void readProperties() {
    try {
      propertyFileURI = CatalogManager.class.getResource(""/""+propertyFile);
      InputStream in =
	CatalogManager.class.getResourceAsStream(""/""+propertyFile);
      if (in==null) {
	if (!ignoreMissingProperties) {
	  System.err.println(""Cannot find ""+propertyFile);
	  // there's no reason to give this warning more than once
	  ignoreMissingProperties = true;
	}
	return;
      }
      resources = new PropertyResourceBundle(in);
    } catch (MissingResourceException mre) {
      if (!ignoreMissingProperties) {
	System.err.println(""Cannot read ""+propertyFile);
      }
    } catch (java.io.IOException e) {
      if (!ignoreMissingProperties) {
	System.err.println(""Failure trying to read ""+propertyFile);
      }
    }

    // This is a bit of a hack. After we've successfully read the properties,
    // use them to set the default debug level, if the user hasn't already set
    // the default debug level.
    if (verbosity == null) {
      try {
	String verbStr = resources.getString(""verbosity"");
	int verb = Integer.parseInt(verbStr.trim());
	debug.setDebug(verb);
	verbosity = new Integer(verb);
      } catch (Exception e) {
	// nop
      }
    }
  }",Código em Conformidade,
Java,find int in string,"    protected Find addRange(Find find, Integer start, Integer count) {
        if (start != null) {
            find = find.skip(start);

            if (count != null) {
                find = find.limit(count);
            }
        }

        return find;
    }",Código em Conformidade,
Java,extract data from html content,"  @Nonnull
  private static String extractNote(@Nonnull final Element topic) {
    final StringBuilder result = new StringBuilder();

    for (final Element note : Utils.findDirectChildrenForName(topic, ""notes"")) {
      final String plain = extractTextContentFrom(note, ""plain"");
      final String html = extractTextContentFrom(note, ""html"");

      if (result.length() > 0) {
        result.append('\n');
      }

      if (!plain.isEmpty()) {
        result.append(plain);
      } else if (!html.isEmpty()) {
        result.append(html);
      }
    }

    return result.toString();
  }",Código em Conformidade,
Java,format date,"    private String formatDate(@NonNull Calendar date) {
        if(customDateFormat == null)
            return DateUtils.formatDateTime(getContext(), date.getTimeInMillis(), DateUtils.FORMAT_SHOW_DATE);
        else
            return customDateFormat.format(date.getTime());
    }",Código em Conformidade,
Java,create cookie,"    private void dealWithCookie(boolean create) {
        if (!requestConfig.isDisableCookie()) {
            String cookieHeader = header.get(""Cookie"");
            if (cookieHeader != null) {
                cookies = Cookie.saxToCookie(cookieHeader);
                String jsessionid = Cookie.getJSessionId(cookieHeader);
                if (jsessionid != null) {
                    session = SessionUtil.getSessionById(jsessionid);
                }
            }
            if (create && session == null) {
                if (cookies == null) {
                    cookies = new Cookie[1];
                } else {
                    cookies = new Cookie[cookies.length + 1];
                }
                Cookie cookie = new Cookie(true);
                String jsessionid = UUID.randomUUID().toString();
                cookie.setName(Cookie.JSESSIONID);
                cookie.setPath(""/"");
                cookie.setValue(jsessionid);
                cookies[cookies.length - 1] = cookie;
                session = new HttpSession(jsessionid);
                SessionUtil.sessionMap.put(jsessionid, session);
                LOGGER.info(""create a cookie "" + cookie.toString());
            }
        }
    }",Código em Conformidade,
Java,get inner html,,Código em Conformidade,
Java,how to get database table name,"  public static String buildCreatePropertyTableSQL(DBNameResolver dbNameResolver) {
    StringBuilder sqlBuilder = new StringBuilder(""CREATE TABLE IF NOT EXISTS "");
    sqlBuilder.append(dbNameResolver.getTableName(TableName.LOGGING_EVENT_PROPERTY)).append("" ("")
        .append(dbNameResolver.getColumnName(ColumnName.EVENT_ID)).append("" BIGINT NOT NULL, "")
        .append(dbNameResolver.getColumnName(ColumnName.MAPPED_KEY)).append("" VARCHAR(254) NOT NULL, "")
        .append(dbNameResolver.getColumnName(ColumnName.MAPPED_VALUE)).append("" VARCHAR(254) NOT NULL, "")
        .append(""PRIMARY KEY ("")
        .append(dbNameResolver.getColumnName(ColumnName.EVENT_ID)).append("", "")
        .append(dbNameResolver.getColumnName(ColumnName.MAPPED_KEY)).append(""), "")
        .append(""FOREIGN KEY ("")
        .append(dbNameResolver.getColumnName(ColumnName.EVENT_ID)).append("") "")
        .append(""REFERENCES "")
        .append(dbNameResolver.getTableName(TableName.LOGGING_EVENT)).append("" ("")
        .append(dbNameResolver.getColumnName(ColumnName.EVENT_ID)).append("") "")
        .append("")"");
    return sqlBuilder.toString();
  }",Código em Conformidade,
Java,how to get database table name,"	protected String getRealTableName(String schema, String tableName) throws DatabaseException{
		StringBuffer sql = new StringBuffer();

//		SQL sql1 = SELECT(""c.relname"")
//				.FROM(""pg_catalog.pg_class"").AS(""c"")
//				.FIELD(""pg_class.relname"")
//				.LEFT_JOIN(""pg_catalog.pg_namespace"").AS(""n"")
//				.ON(""n.oid"",""c.relnamespace"")
//				.WHERE(LOWER(""c.relname"")).EQUAL_TO(LOWER(tableName));

		sql.append(""SELECT ""+
				"" c.relname as \""Table\""""+
				"" FROM""+
				"" pg_catalog.pg_class c"" +
				"" LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace""+
				"" WHERE lower(c.relname) = lower(?)"");
		if(schema != null){
			sql.append("" AND n.nspname = lower(?)"");
		}
		sql.append("" ORDER BY c.relname"");
		Object[] parameters = null;
		if(schema != null){
			parameters = new Object[2];
			parameters[0] = tableName;
			parameters[1] = schema;
		}else{
			parameters = new Object[1];
			parameters[0] = tableName;
		}

		try {
			ResultSet rs = executeSelectSQL(sql.toString(), parameters);
			if(rs != null){
				if(rs.next()){
					String realTableName = rs.getString(1);
					return realTableName;
				}
			}
		} catch (SQLException e) {
			//System.err.println(sql+""[""+(parameters!=null?Arrays.asList(parameters):"""")+""]"");
			e.printStackTrace();
			throw new DatabaseException();
		}
		return null;

	}",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,how to reverse a string,"    public static String reverseString(String str) {
        StringBuilder stringBuffer = new StringBuilder(str);
        return stringBuffer.reverse().toString();
    }",Código em Conformidade,
Java,k means clustering,"	public static double kMeans(List<double[]> centroids, List<double[]> input) {
		int k = centroids.size();
		assert (k > 0);
		int d = centroids.get(0).length;
		int size = input.size();

		double[][] center = new double[k][];
		Iterator<double[]> iIter = centroids.iterator();
		for (int i = 0; i < k; i++) {
			center[i] = iIter.next();
		}

		double[][] newCenter = new double[k][d];
		double[] newCenterWeight = new double[k];
		int[] nearestCluster = new int[size];
		boolean converged;
		do {
			for (int i = 0; i < k; i++) {
				for (int j = 0; j < d; j++) {
					newCenter[i][j] = 0.0;
				}
				newCenterWeight[i] = 0.0;
			}
			Iterator<double[]> lIter = input.iterator();
			for (int l = 0; l < size; l++) {
				// Calculates the distance from all points to all centroids
				double[] point = lIter.next();
				assert (d == point.length - 1);
				double minDistance = Double.POSITIVE_INFINITY;
				int closestCluster = -1;
				for (int i = 0; i < k; i++) {
					double distance = Metric.distance(center[i], point, 1);
					if (distance < minDistance) {
						closestCluster = i;
						minDistance = distance;
					}
				}

				// Sums up all points for the new centroids
				assert (closestCluster >= 0 && closestCluster < k);
				for (int j = 0; j < d; j++) {
					newCenter[closestCluster][j] += point[0] * point[j + 1];
				}
				newCenterWeight[closestCluster] += point[0];
				nearestCluster[l] = closestCluster;
			}

			// Calculates the new centroids
			converged = true;
			for (int i = 0; i < k; i++) {
				for (int j = 0; j < d; j++) {
					if (newCenterWeight[i] != 0.0) {
						double newValue = newCenter[i][j] / newCenterWeight[i];
						if (newValue != center[i][j]) {
							converged = false;
						}
						center[i][j] = newValue;
					}
				}
			}
		} while (!converged);
		// Replaces the old centroids with the new ones
		for (int i = 0; i < k; i++) {
			centroids.set(i, center[i]);
		}

		// Calculates the costs of the solution
		double costs = 0.0;
		Iterator<double[]> lIter = input.iterator();
		for (int l = 0; l < size; l++) {
			double[] point = lIter.next();
			costs += point[0]
					* Metric.distanceSquared(center[nearestCluster[l]], point,
							1);
		}
		return costs;
	}",Código em Conformidade,
Java,extract data from html content,"	public ExtractResult extract(String content, String selector, int amount) {

		List<Element> extracted = extractElements(content, selector, amount);

		if (extracted.size() > 1) {

			// first element is the remaining body, the rest are extracted
			Element body = extracted.get(0);
			List<Element> elements = extracted.subList(1, extracted.size());

			// convert to HTML
			List<String> elementStr = new ArrayList<String>();
			for (Element el : elements) {
				elementStr.add(el.outerHtml());
			}

			return new DefaultExtractResult(elementStr, body.html());
		} else {
			// nothing to extract
			return new DefaultExtractResult(Collections.<String> emptyList(), content);
		}
	}",Código em Conformidade,
Java,how to read .csv file in an efficient way?,"    public TableData readCsv(String file) {

        List<String> allLines = new ArrayList<String>();
        try {
            // csvファイルの読み込み
            String text = IOUtils.toString(FileIOUtils.getInputStream(file),
                    FileIOUtils.getFileEncoding());

            // 改行コードでsplitしリストに格納
            for (String line : FileIOUtils.splitToLines(text)) {
                allLines.add(line);
            }

        } catch (IOException e) {
            throw new IllegalStateException(e);
        }

        TableData tableData = new TableData();

        // データヘッダをリストから除外し、schemaに設定
        Map<String, Integer> schema = retriveSchema(allLines.remove(0));
        LOG.debug(MessageManager.getMessage(""header""), schema);

        for (int i = 0; i < allLines.size(); i++) {
            RowData row = readRow(schema, allLines.get(i));
            tableData.add(row);

            LOG.debug(MessageManager.getMessage(""row.loaded""), i + 1,
                    FileIOUtils.escapeReturn(row));
        }

        LOG.info(MessageManager.getMessage(""csv.loaded""), tableData.getRowCount());

        return tableData;
    }",Código em Conformidade,
Java,convert a date string into yyyymmdd,"	@Override
	public String getRequestValue(final Request request) {
		if (isPresent(request)) {
			// User entered a valid date
			String dateParam = request.getParameter(getId() + ""-date"");
			if (dateParam == null) {
				return null;
			}

			// Validate Transfer Date Format - YYYY-MM-DD
			if (dateParam.length() != INTERNAL_DATE_TOTAL_CHARS || dateParam.charAt(
					INTERNAL_DASH1_POS) != '-'
					|| dateParam.charAt(INTERNAL_DASH2_POS) != '-') {
				LOG.warn(""Date parameter is not in the format yyyy-MM-dd ("" + dateParam
						+ "") and will be treated as null."");
				return null;
			}

			// Transform YYYY-MM-DD to YYYYMMDD
			StringBuffer buf = new StringBuffer(DATE_TOTAL_CHARS);
			buf.append(dateParam.substring(INTERNAL_YEAR_START, INTERNAL_YEAR_END));
			buf.append(dateParam.substring(INTERNAL_MONTH_START, INTERNAL_MONTH_END));
			buf.append(dateParam.substring(INTERNAL_DAY_START, INTERNAL_DAY_END));

			String dateFormat = buf.toString();

			// Validate the date
			if (!isValidPartialDateStringFormat(dateFormat, THEME_PADDING_CHAR)) {
				LOG.warn(""Date parameter (""
						+ dateParam
						+ "") could not be transformed from YYYY-MM-DD to the format YYYYMMDD and will be treated as null."");
				return null;
			}

			// Convert from Theme padding character to the correct padding character
			return dateFormat.replace(THEME_PADDING_CHAR, getPaddingChar());
		} else {
			return getValue();
		}
	}",Código em Conformidade,
Java,regex case insensitive,"    public boolean isCaseSensitive() {
        switch (getJcrType()) {
            case PropertyType.DOUBLE:
            case PropertyType.LONG:
            case PropertyType.DECIMAL:
            case PropertyType.WEAKREFERENCE:
            case PropertyType.REFERENCE: // conversion is case-insensitive
            case PropertyType.BOOLEAN: // conversion is case-insensitive
                return false;
        }
        return true;
    }",Código em Conformidade,
Java,reading element from html - <td>,"  static void readWmoXmlTableB(InputStream ios, TableB b) throws IOException {
    org.jdom2.Document doc;
    try {
      SAXBuilder builder = new SAXBuilder();
      doc = builder.build(ios);
    } catch (JDOMException e) {
      throw new IOException(e.getMessage());
    }

    Element root = doc.getRootElement();

    String[] elems = null;
    for (Version v : Version.values()) {
      elems = v.getElemNamesB();
      List<Element> featList = root.getChildren(elems[0]);
      if (featList != null && featList.size() > 0) {
        break;
      }
    }

    // if not found using element name, assume its BUFR_WMO
    if (elems == null) {
      elems = Version.BUFR_WMO.getElemNamesB();
    }

    List<Element> featList = root.getChildren();
    for (Element elem : featList) {
      Element ce = elem.getChild(elems[1]);
      if (ce == null) continue;

      String name = Util.cleanName(elem.getChildTextNormalize(elems[1]));
      String units = cleanUnit(elem.getChildTextNormalize(""BUFR_Unit""));
      int x = 0, y = 0, scale = 0, reference = 0, width = 0;

      String fxy = null;
      String s = null;
      try {
        fxy = elem.getChildTextNormalize(""FXY"");
        int xy = Integer.parseInt(cleanNumber(fxy));
        x = xy / 1000;
        y = xy % 1000;

      } catch (NumberFormatException e) {
        System.out.printf("" key %s name '%s' fails parsing %n"", fxy, name);
      }

      try {
        s = elem.getChildTextNormalize(""BUFR_Scale"");
        scale = Integer.parseInt(cleanNumber(s));
      } catch (NumberFormatException e) {
        System.out.printf("" key %s name '%s' has bad scale='%s'%n"", fxy, name, s);
      }

      try {
        s = elem.getChildTextNormalize(""BUFR_ReferenceValue"");
        reference = Integer.parseInt(cleanNumber(s));
      } catch (NumberFormatException e) {
        System.out.printf("" key %s name '%s' has bad reference='%s' %n"", fxy, name, s);
      }

      try {
        s = elem.getChildTextNormalize(""BUFR_DataWidth_Bits"");
        width = Integer.parseInt(cleanNumber(s));
      } catch (NumberFormatException e) {
        System.out.printf("" key %s name '%s' has bad width='%s' %n"", fxy, name, s);
      }

      b.addDescriptor((short) x, (short) y, scale, reference, width, name, units, null);
    }
    ios.close();
  }",Código com Débito Técnico,
Java,get current observable value,"    public static <T> Observable<T> fromObservableValue(final ObservableValue<T> fxObservable) {
        return Observable.create((ObservableEmitter<T> emitter) -> {
            if (fxObservable.getValue() != null)
                emitter.onNext(fxObservable.getValue());

            final ChangeListener<T> listener = (observableValue, prev, current) -> {
                emitter.onNext(current);
            };

            fxObservable.addListener(listener);

            emitter.setDisposable(JavaFxSubscriptions.unsubscribeInEventDispatchThread(() -> fxObservable.removeListener(listener)));
        });
    }",Código em Conformidade,
Java,postgresql connection,"  private Connection createDdlConnection() throws SQLException {
    Connection writeConnection = db.getDataSource().getConnection();
    writeConnection.setAutoCommit(false);
    return writeConnection;
  }",Código em Conformidade,
Java,how to get html of website,"    private void outputLicenseRestrictionMessage() {
        try {
            // TODO need to work out how to strip the IBM branding knowledge out of here.
            ProductInfo pi = ProductInfo.getAllProductInfo().get(""com.ibm.websphere.appserver"");
            if (pi != null && pi.getReplacedBy() == null) {
                String edition = String.valueOf(pi.getEdition()).toLowerCase();
                String licenseType = String.valueOf(pi.getProperty(""com.ibm.websphere.productLicenseType"")).toLowerCase();
                String key = ""audit.licenseRestriction."" + edition + '.' + licenseType;
                ResourceBundle rb = TraceNLS.getBaseResourceBundle(FrameworkManager.class, tc.getResourceBundleName());
                if (rb.containsKey(key)) {
                    String file = getLang(Locale.getDefault()) + "".html"";
                    Tr.audit(tc, key, ""https://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/license/"" +
                                      edition + '/' + licenseType + '/' + pi.getVersion() + ""/lafiles/"" + file);
                }
            }
        } catch (ProductInfoParseException e) {
        } catch (DuplicateProductInfoException e) {
        } catch (ProductInfoReplaceException e) {
        }
    }",Código em Conformidade,
Java,sort string list,"  private static List<String> sortedList(Set<String> set) {
    return set.stream().sorted().collect(Collectors.toList());
  }",Código em Conformidade,
Java,normal distribution,"	static
	public double probability(ContinuousDistribution distribution, Number x){

		if(distribution instanceof GaussianDistribution){
			return probability((GaussianDistribution)distribution, x);
		} else

		if(distribution instanceof PoissonDistribution){
			return probability((PoissonDistribution)distribution, x);
		}

		throw new UnsupportedElementException(distribution);
	}",Código em Conformidade,
Java,print model summary,"  public static Map<String, ModelSummary> generateModelSummaries(Set<String>keys, Map<String, Model> models, boolean find_compatible_frames, Map<String, Frame> all_frames, Map<String, Set<String>> all_frames_cols) {
      Map<String, ModelSummary> modelSummaries = new TreeMap<String, ModelSummary>();

      if (null == keys) {
        keys = models.keySet();
      }

      for (String key : keys) {
        ModelSummary summary = new ModelSummary();
        Models.summarizeAndEnhanceModel(summary, models.get(key), find_compatible_frames, all_frames, all_frames_cols);
        modelSummaries.put(key, summary);
      }

      return modelSummaries;
  }",Código em Conformidade,
Java,get current observable value,"  public <T> Observable<T> getAndObserve(String key, Class<T> classOfT, T defaultValue) {
    return getAndObserve(key, TypeToken.fromClass(classOfT), defaultValue);
  }",Código em Conformidade,
Java,extracting data from a text file,"    private static String getTextFromStream(InputStream inputStream) throws IOException {
        BufferedReader fileCheck;
        fileCheck = new BufferedReader(new InputStreamReader(inputStream));
        StringBuilder fileText = new StringBuilder();
        String line;
        while (null != (line = fileCheck.readLine())) {
            fileText.append(line).append(""\n"");
        }
        try {
            fileCheck.close();
        } catch (IOException e) {
            // doesn't matter.
        }
        return fileText.toString();
    }",Código em Conformidade,
Java,html entities replace,"    public static String htmlDecode(final String encodedHtml) {
        validate(encodedHtml, NULL_STRING_PREDICATE, NULL_STRING_MSG_SUPPLIER);
        String[] entities = encodedHtml.split(""&\\W+;"");
        return Arrays.stream(entities).map(e -> HtmlEntities.decodedEntities.get(e)).collect(joining());
    }",Código em Conformidade,
Java,matrix multiply,"    public Matrix multiply(Matrix C) {
        checkKhatriRao(C);

        for (int i = 0; i < A.numColumns(); ++i)
            for (int j = 0; j < A.numRows(); ++j)
                for (int k = 0; k < B.numRows(); ++k) {
                    double value = A.get(j, i) * B.get(k, i);
                    int destLine = B.numRows() * j + k;
                    C.add(destLine, i, value);
                }
        return C;

    }",Código em Conformidade,
Java,pretty print json,"	private String prettyPrint(final JsonObject json) {
		final Map<String, Object> properties = new HashMap<>(1);
		properties.put(JsonGenerator.PRETTY_PRINTING, true);
		final JsonWriterFactory writerFactory = Json.createWriterFactory(properties);

		final StringWriter sw = new StringWriter();
		try (final JsonWriter jsonWriter = writerFactory.createWriter(sw)) {
			jsonWriter.writeObject(json);

		}
		return sw.toString();
	}",Bug Crítico,
Java,map to json,"    public static Map<String, Object> jsonToMap(JSONObject json) throws JSONException {
        Map<String, Object> retMap = new HashMap<String, Object>();

        if (json != JSONObject.NULL) {
            retMap = toMap(json);
        }
        return retMap;
    }",Código em Conformidade,
Java,export to excel,"	@Override
	public SExportsIR caseAModuleExports(AModuleExports node, IRInfo question)
			throws AnalysisException
	{
		AModuleExportsIR moduleExportsCg = new AModuleExportsIR();

		for (List<PExport> export : node.getExports())
		{
			List<SExportIR> exportCg = new LinkedList<SExportIR>();

			for (PExport exportItem : export)
			{
				SExportIR exportItemCg = exportItem.apply(question.getExportVisitor(), question);

				if (exportItemCg != null)
				{
					exportCg.add(exportItemCg);
				} else
				{
					return null;
				}
			}

			moduleExportsCg.getExports().add(exportCg);
		}

		return moduleExportsCg;
	}",Código em Conformidade,
Java,readonly array,"    public Object[] readAmf0Array() throws IOException {
        int length = in.readInt();

        Object[] arr = new Object[length];
        for (int i = 0; i < length; i++) {
            arr[i] = decodeAmf0();
        }

        amf0ObjectReferences.add(arr);
        return arr;
    }",Código em Conformidade,
Java,extract latitude and longitude from given input,"    @Given(""^the current Authorization Policy requires a geofence with a radius of (\\d+\\.\\d+), a latitude of (-?\\d+\\.\\d+), and a longitude of (-?\\d+\\.\\d+)$"")
    public void theCurrentAuthorizationPolicyRequiresAGeofenceOf(double radius, double latitude, double longitude)
            throws Throwable {
        this.locations.add(new AuthPolicy.Location(radius, latitude, longitude));
    }",Código em Conformidade,
Java,string to date,"    private Date toDate(final String pStringDate) {

        // weird manipulation to parse the date... remove ':' from the timezone
        // before: 2011-07-12T22:42:40.000+02:00
        // after: 2011-07-12T22:42:40.000+0200
        final StringBuilder _date = new StringBuilder();
        _date.append(pStringDate.substring(0, pStringDate.length() - 3));
        _date.append(pStringDate.substring(pStringDate.length() - 2));
        try {
            return new SimpleDateFormat(RFC_339_DATE_FORMAT).parse(_date.toString());
        } catch (final ParseException e) {
            throw new IllegalArgumentException(
                    ""The given spreadsheet ListEntry usercrashdate field value is malformed"", e);
        }
    }",Código em Conformidade,
Java,sort string list,"    public ListSort getSort() {
        if (sort == null) {
            sort = new ListSort(null, ListSort.SortDirection.ASC);
        }
        return sort;
    }",Código em Conformidade,
Java,initializing array,"    private void initArrays(final int len) {
        offsets = new int[len];
        mementos = new Object[len];
        argIds = new Object[len];
        patterns = new ConversionPattern[len];
    }",Código em Conformidade,
Java,replace in file,"	static String replaceSlashes(final String target) {
		String replaced = target;
		if (replaced != null) {
			replaced = replaced.replaceAll(""/+"", ""/"");
		}
		return replaced;
	}",Código em Conformidade,
Java,json to xml conversion,"    public String jsonToXml(String json){
        String xml = """";
        // 處理直接以陣列開頭的JSON，並指定給予 row 的 tag
        if ( ""["".equals( json.substring(0,1) ) ){
            xml = XML.toString(new JSONArray(json), ""row"");
        }else{
            xml = XML.toString(new JSONObject(json));
        }

        return xml;
    }",Código em Conformidade,
Java,finding time elapsed using a timer,"    public static String elapsedTime(String watchName) {
        long elapsed = 0;
        Date start = watchesMap.get(watchName);
        if (start != null) {
            Date end = new Date();
            elapsed = end.getTime() - start.getTime();
        }
        return Long.toString(elapsed);
    }",Código em Conformidade,
Java,reading element from html - <td>,"	public <S> T manyToOneWithoutControl(final S source) {
		try{ return this.<T,S>getJMapper(relationalManyToOneMapper,source).getDestinationWithoutControl(source); }
		catch (Exception e) { return logAndReturnNull(e); }
	}",Código em Conformidade,
Java,set working directory,"	public void setWorkingDirectory(File workingDir) {
		Assert.notNull(workingDir, ""workingDir cannot be null"");

		logger.info(""Setting working directory for LDAP_PROVIDER: ""
				+ workingDir.getAbsolutePath());

		if (workingDir.exists()) {
			throw new IllegalArgumentException(
					""The specified working directory '""
							+ workingDir.getAbsolutePath()
							+ ""' already exists. Another directory service instance may be using it or it may be from a ""
							+ "" previous unclean shutdown. Please confirm and delete it or configure a different ""
							+ ""working directory"");
		}

		this.workingDir = workingDir;

		service.setWorkingDirectory(workingDir);
	}",Código em Conformidade,
Java,write csv,"    public void csv(String file) throws IOException {
        CsvWriteOptions options = CsvWriteOptions.builder(file).build();
        new CsvWriter().write(table, options);
    }",Código em Conformidade,
Java,memoize to disk  - persistent memoization,"  public static <T, U> Function<T, U> memoize(final Function<T, U> function) {
    return new Memoizer<T, U>().doMemoize(function);
  }",Código em Conformidade,
Java,convert json to csv,"    public static List<String> parseCSVList(String csv) {
      if (csv == null || csv.isEmpty()) {
    	  return Collections.emptyList();
      }
      
      return new ArrayList<String>(Arrays.asList(csv.split("","")));
    }",Código em Conformidade,
Java,read text file line by line,"  private String getTextLine( SearchLocation loc )
  {
    try( BufferedReader reader = PathUtil.createReader( getNode().getFile().getFileOrDir() ) )
    {
      for( int line = 0; line < loc._iLine; line++ )
      {
        String textLine = reader.readLine();
        if( line == loc._iLine-1 )
        {
          return textLine;
        }
      }
    }
    catch( Exception e )
    {
      throw new RuntimeException( e );
    }
    return """";
  }",Código em Conformidade,
Java,html encode string,"  @Override
  public String getPageHtml(String pageTitle) throws Exception {
    String params = ""&page="" + encode(pageTitle);
    Parse parse = getParse(params);
    String html = parse.getText();
    return html;
  }",Código em Conformidade,
Java,normal distribution,"	static
	public double probability(GaussianDistribution gaussianDistribution, Number x){
		NormalDistribution distribution = new NormalDistribution(gaussianDistribution.getMean(), Math.sqrt(gaussianDistribution.getVariance()));

		return distribution.density(x.doubleValue());
	}",Código em Conformidade,
Java,encode url,,Código em Conformidade,
Java,how to make the checkbox checked,"    private JCheckBox createCheckBox(final String label, final boolean selected) {
        final JCheckBox checkBox = new JCheckBox(label, selected);
        checkBox.setOpaque(false);
        checkBox.setForeground(WidgetUtils.BG_COLOR_BRIGHTEST);
        checkBox.addItemListener(item -> onSettingsUpdated(false));

        return checkBox;
    }",Código em Conformidade,
Java,export to excel,"    public void exportDataSet(Method method) {
        ExportDataSet exportDataSet = resolveExportDataSet(method);
        if(exportDataSet != null){
            DataSetExportConfig exportConfig = DataSetExportConfig.from(exportDataSet);
            String outputName = exportConfig.getOutputFileName();
            if(outputName == null || """".equals(outputName.trim())){
                outputName = method.getName().toLowerCase()+"".""+exportConfig.getDataSetFormat().name().toLowerCase();
            }
            exportConfig.outputFileName(outputName);
            try {
                DataSetExporter.getInstance().export(dataSetExecutor.getRiderDataSource().getDBUnitConnection(),exportConfig);
            } catch (Exception e) {
                log.warn(""Could not export dataset after method "" + method.getName(), e);
            }
        }
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,concatenate several file remove header lines,"    public void replaceFilesWithNewContent(List<String> lines, File file) throws IOException {
        BufferedWriter out = new BufferedWriter(new FileWriter(file));
        for (int i = 0; i < lines.size(); i++) {
            out.write(lines.get(i));
            out.newLine();
        }
        out.close();
    }",Código em Conformidade,
Java,read text file line by line,"    protected void readLines(){
    	lineNumber = lineReader.getCurrentLineNumber();
		String line = lineReader.getCurrentLine();
		if (line != null && line.length() > 0) {
			// Remove double spaces.
			line = FlatFileUtils.shrink(line);
			readLine(line);
		}
    }",Código em Conformidade,
Java,get the description of a http status code,"    public static String getHttpStatusCodeText(int sc) {
        HttpStatusCode sCode = HttpStatusCode.fromNumStatusCode(sc);
        if (sCode == null) {
            return sc + "" <unknown status code>"";
        } else {
            return sCode.toString();
        }
    }",Código em Conformidade,
Java,nelder mead optimize,"    public boolean doOptimization(OptimizedTagContext context) {
        boolean optimize = false;
        if (context.getParent() != null && context.getParent() instanceof JSTLChooseOptimizedTag) {
            optimize = true;
        }
        return optimize;
    }",Código em Conformidade,
Java,scatter plot,"    protected PlotCanvas paintOnCanvas(double[][] data, int[] label) {
        PlotCanvas canvas = ScatterPlot.plot(data, pointLegend);
        for (int i = 0; i < data.length; i++) {
            canvas.point(pointLegend, Palette.COLORS[label[i]], data[i]);
        }
        return canvas;
    }",Código em Conformidade,
Java,extract latitude and longitude from given input,"	public static Location of(final Latitude latitude, final Longitude longitude) {
		return new Location(latitude, longitude, null);
	}",Código em Conformidade,
Java,parse binary file to custom class,"  protected Binary parseBinary(JsonObject json) throws IOException, FHIRFormatError {
    Binary res = new Binary();
    parseBinaryProperties(json, res);
    return res;
  }",Código em Conformidade,
Java,linear regression,"    public RegressionSuite regressionSuite(String name, RegressionPlan regressionPlan) {
        return regressionSuite(name, regressionPlan, null);
    }",Código em Conformidade,
Java,how to randomly pick a number,"    public void read() throws Exception {
      long endTime = System.currentTimeMillis() + rtc.max_time;
      while (System.currentTimeMillis() < endTime) {
        // Randomly pick a datanode from victims
        int idx = rb.nextInt(rtc.victims.length);
        // Randomly pick a file to read
        ArrayList<Path> fileList = nsPickLists.get(rtc.victims[idx].getHostName()); 
        int fid = rb.nextInt(fileList.size());
        Path readFile = fileList.get(fid); 
        FSDataInputStream in = null;
        try {
          in = fs.open(readFile);
          if (in.isUnderConstruction()) {
            LOG.info(""file "" + readFile + "" is still open"");
          }
          FileStatus fileStatus = fs.getFileStatus(readFile);
          long offset = rb.nextInt((int)Math.max(
              fileStatus.getLen() - rtc.buffer_size, 0) + 1);
          int size = 0;
          in.seek(offset);
          size = in.read(buffer, 0, rtc.buffer_size);
          if (size < 0) {
            continue;
          }
          processed_size += size;
          read_size += size;
          LOG.info(""Read file "" + readFile + "" from "" + 
              offset + "" to "" + (offset + size));
        } catch (Exception e) { 
          LOG.error(""Error in read file: "" + readFile, e);
          this.errors.add(e);
        } finally {
          IOUtils.closeStream(in);
        }
        files_processed++;
        Thread.sleep(5);
      }
    }",Código em Conformidade,
Java,format date,"	public String formatDate(String format, Locale loc) {
		MultivaluedMap<String, String> params = new MultivaluedHashMap<>();
		params.putSingle(""format"", format);
		params.putSingle(""locale"", loc == null ? null : loc.toString());
		return getEntity(invokeGet(""utils/formatdate"", params), String.class);
	}",Código em Conformidade,
Java,html entities replace,,Código em Conformidade,
Java,get current observable value,"    private static Func1<ObservableHttpResponse, Boolean> successful() {
        return new Func1<ObservableHttpResponse, Boolean>() {

            @Override
            public Boolean call(ObservableHttpResponse response) {
                if (response.getResponse().getStatusLine().getStatusCode() >= 400) {
                    throw new RuntimeException(""Failed to post samples: "" + response.getResponse().getStatusLine());
                }
                return true;
            }
            
        };
    }",Código em Conformidade,
Java,randomly extract x items from a list,"    public static <E> List<E> extractRandomSubList(Random random, List<E> list, double... thresholds) {
        int size = generateRandomIntFromThresholds(random, thresholds);
        if (size > list.size()) {
            size = list.size();
        }
        return extractRandomSubListOfSize(random, list, size);
    }",Código em Conformidade,
Java,filter array,"  private List<String> filterMWE(String[] arr) {
    if(arr == null) return null;
    List<String> out = new ArrayList<String>(arr.length);
    for (String t : arr) {
      if (!(t.startsWith(""B-"") || t.startsWith(""I-"")))
        out.add(t);
    }
    return out;
  }",Código em Conformidade,
Java,get all parents of xml node,"    private void _getAllParents(List<String> accum, ProfileRecord profile) {

        List<String> parents = profile.getIncludes();
        for (String parent : parents) {
            _getAllParents(accum, profileStore.getProfile(parent));
        }

        accum.addAll(parents);
    }",Código em Conformidade,
Java,sorting multiple arrays based on another arrays sorted order,"    public double median()
    {
        int[] sortedArray = this.toSortedArray();
        int middleIndex = sortedArray.length >> 1;
        if (sortedArray.length > 1 && (sortedArray.length & 1) == 0)
        {
            int first = sortedArray[middleIndex];
            int second = sortedArray[middleIndex - 1];
            return ((double) first + (double) second) / 2.0;
        }
        return (double) sortedArray[middleIndex];
    }",Código em Conformidade,
Java,get inner html,,Código em Conformidade,
Java,how to empty array,"    @SuppressWarnings(""unchecked"")
    public <A> A[] toArray(A[] emptyArray) {
        if(emptyArray.length != 0) {
            throw new IllegalArgumentException(""Empty array must be supplied"");
        }
        return stream().toArray(size -> size == 0 ? emptyArray
                : (A[]) Array.newInstance(emptyArray.getClass().getComponentType(), size));
    }",Código em Conformidade,
Java,parse binary file to custom class,"    public void parse(Page page, String contextURL) throws NotAllowedContentException, ParseException {
        if (Util.hasBinaryContent(page.getContentType())) { // BINARY
            BinaryParseData parseData = new BinaryParseData();
            if (config.isIncludeBinaryContentInCrawling()) {
                if (config.isProcessBinaryContentInCrawling()) {
                    try {
                        parseData.setBinaryContent(page.getContentData());
                    } catch (Exception e) {
                        if (config.isHaltOnError()) {
                            throw new ParseException(e);
                        } else {
                            logger.error(""Error parsing file"", e);
                        }
                    }
                } else {
                    parseData.setHtml(""<html></html>"");
                }
                page.setParseData(parseData);
                if (parseData.getHtml() == null) {
                    throw new ParseException();
                }
                parseData.setOutgoingUrls(net.extractUrls(parseData.getHtml()));
            } else {
                throw new NotAllowedContentException();
            }
        } else if (Util.hasCssTextContent(page.getContentType())) { // text/css
            try {
                CssParseData parseData = new CssParseData();
                if (page.getContentCharset() == null) {
                    parseData.setTextContent(new String(page.getContentData()));
                } else {
                    parseData.setTextContent(
                        new String(page.getContentData(), page.getContentCharset()));
                }
                parseData.setOutgoingUrls(page.getWebURL());
                page.setParseData(parseData);
            } catch (Exception e) {
                logger.error(""{}, while parsing css: {}"", e.getMessage(), page.getWebURL().getURL());
                throw new ParseException();
            }
        } else if (Util.hasPlainTextContent(page.getContentType())) { // plain Text
            try {
                TextParseData parseData = new TextParseData();
                if (page.getContentCharset() == null) {
                    parseData.setTextContent(new String(page.getContentData()));
                } else {
                    parseData.setTextContent(
                        new String(page.getContentData(), page.getContentCharset()));
                }
                parseData.setOutgoingUrls(net.extractUrls(parseData.getTextContent()));
                page.setParseData(parseData);
            } catch (Exception e) {
                logger.error(""{}, while parsing: {}"", e.getMessage(), page.getWebURL().getURL());
                throw new ParseException(e);
            }
        } else { // isHTML

            HtmlParseData parsedData = this.htmlContentParser.parse(page, contextURL);

            if (page.getContentCharset() == null) {
                page.setContentCharset(parsedData.getContentCharset());
            }

            // Please note that identifying language takes less than 10 milliseconds
            LanguageIdentifier languageIdentifier = new LanguageIdentifier(parsedData.getText());
            page.setLanguage(languageIdentifier.getLanguage());

            page.setParseData(parsedData);

        }
    }",Código em Conformidade,
Java,get current observable value,"    @Override
    public Observable<T> call(Observable<R> source) {
        if (operatorType == OperatorType.PARAMETER)
            return builder.parameters(source).get(function);
        else if (operatorType == OperatorType.DEPENDENCY)
            // dependency
            return builder.dependsOn(source).get(function);
        else // PARAMETER_LIST
        {
            @SuppressWarnings(""unchecked"")
            Observable<Observable<Object>> obs = (Observable<Observable<Object>>) source;
            return obs.concatMap(new Func1<Observable<Object>, Observable<T>>() {
                @Override
                public Observable<T> call(Observable<Object> parameters) {
                    return builder.parameters(parameters).get(function);
                }
            });
        }
    }",Código em Conformidade,
Java,how to read .csv file in an efficient way?,"    private boolean readCMAP(FontFileReader in) throws IOException {

        unicodeMapping = new java.util.ArrayList();

        //Read CMAP table and correct mtxTab.index
        int mtxPtr = 0;

        seekTab(in, ""cmap"", 2);
        int numCMap = in.readTTFUShort();    // Number of cmap subtables
        long cmapUniOffset = 0;

        log.info(numCMap + "" cmap tables"");

        //Read offset for all tables. We are only interested in the unicode table
        for (int i = 0; i < numCMap; i++) {
            int cmapPID = in.readTTFUShort();
            int cmapEID = in.readTTFUShort();
            long cmapOffset = in.readTTFULong();

            log.debug(""Platform ID: "" + cmapPID + "" Encoding: "" + cmapEID);

            if (cmapPID == 3 && cmapEID == 1) {
                cmapUniOffset = cmapOffset;
            }
        }

        if (cmapUniOffset <= 0) {
            log.fatal(""Unicode cmap table not present"");
            log.fatal(""Unsupported format: Aborting"");
            return false;
        }

        // Read unicode cmap
        seekTab(in, ""cmap"", cmapUniOffset);
        int cmapFormat = in.readTTFUShort();
        /*int cmap_length =*/ in.readTTFUShort(); //skip cmap length

        log.info(""CMAP format: "" + cmapFormat);

        if (cmapFormat == 4) {
            in.skip(2);    // Skip version number
            int cmapSegCountX2 = in.readTTFUShort();
            int cmapSearchRange = in.readTTFUShort();
            int cmapEntrySelector = in.readTTFUShort();
            int cmapRangeShift = in.readTTFUShort();

            if (log.isDebugEnabled()) {
                log.debug(""segCountX2   : "" + cmapSegCountX2);
                log.debug(""searchRange  : "" + cmapSearchRange);
                log.debug(""entrySelector: "" + cmapEntrySelector);
                log.debug(""rangeShift   : "" + cmapRangeShift);
            }


            int[] cmapEndCounts = new int[cmapSegCountX2 / 2];
            int[] cmapStartCounts = new int[cmapSegCountX2 / 2];
            int[] cmapDeltas = new int[cmapSegCountX2 / 2];
            int[] cmapRangeOffsets = new int[cmapSegCountX2 / 2];

            for (int i = 0; i < (cmapSegCountX2 / 2); i++) {
                cmapEndCounts[i] = in.readTTFUShort();
            }

            in.skip(2);    // Skip reservedPad

            for (int i = 0; i < (cmapSegCountX2 / 2); i++) {
                cmapStartCounts[i] = in.readTTFUShort();
            }

            for (int i = 0; i < (cmapSegCountX2 / 2); i++) {
                cmapDeltas[i] = in.readTTFShort();
            }

            //int startRangeOffset = in.getCurrentPos();

            for (int i = 0; i < (cmapSegCountX2 / 2); i++) {
                cmapRangeOffsets[i] = in.readTTFUShort();
            }

            int glyphIdArrayOffset = in.getCurrentPos();

            // Insert the unicode id for the glyphs in mtxTab
            // and fill in the cmaps ArrayList

            for (int i = 0; i < cmapStartCounts.length; i++) {

                if (log.isTraceEnabled()) {
                    log.trace(i + "": "" + cmapStartCounts[i]
                                                         + "" - "" + cmapEndCounts[i]);
                }

                for (int j = cmapStartCounts[i]; j <= cmapEndCounts[i]; j++) {

                    // Update lastChar
                    if (j < 256 && j > lastChar) {
                        lastChar = (short)j;
                    }

                    if (mtxPtr < mtxTab.length) {
                        int glyphIdx;
                        // the last character 65535 = .notdef
                        // may have a range offset
                        if (cmapRangeOffsets[i] != 0 && j != 65535) {
                            int glyphOffset = glyphIdArrayOffset
                                + ((cmapRangeOffsets[i] / 2)
                                    + (j - cmapStartCounts[i])
                                    + (i)
                                    - cmapSegCountX2 / 2) * 2;
                            in.seekSet(glyphOffset);
                            glyphIdx = (in.readTTFUShort() + cmapDeltas[i])
                                       & 0xffff;

                            unicodeMapping.add(new UnicodeMapping(glyphIdx, j));
                            mtxTab[glyphIdx].getUnicodeIndex().add(new Integer(j));


                            // Also add winAnsiWidth
                            List v = (List)ansiIndex.get(new Integer(j));
                            if (v != null) {
                                Iterator e = v.listIterator();
                                while (e.hasNext()) {
                                    Integer aIdx = (Integer)e.next();
                                    ansiWidth[aIdx.intValue()] 
                                        = mtxTab[glyphIdx].getWx();

                                    if (log.isTraceEnabled()) {
                                        log.trace(""Added width ""
                                                + mtxTab[glyphIdx].getWx()
                                                + "" uni: "" + j
                                                + "" ansi: "" + aIdx.intValue());
                                    }
                                }
                            }

                            if (log.isTraceEnabled()) {
                                log.trace(""Idx: ""
                                        + glyphIdx
                                        + "" Delta: "" + cmapDeltas[i]
                                        + "" Unicode: "" + j
                                        + "" name: "" + mtxTab[glyphIdx].getName());
                            }
                        } else {
                            glyphIdx = (j + cmapDeltas[i]) & 0xffff;

                            if (glyphIdx < mtxTab.length) {
                                mtxTab[glyphIdx].getUnicodeIndex().add(new Integer(j));
                            } else {
                                log.debug(""Glyph "" + glyphIdx
                                                   + "" out of range: ""
                                                   + mtxTab.length);
                            }

                            unicodeMapping.add(new UnicodeMapping(glyphIdx, j));
                            if (glyphIdx < mtxTab.length) {
                                mtxTab[glyphIdx].getUnicodeIndex().add(new Integer(j));
                            } else {
                                log.debug(""Glyph "" + glyphIdx
                                                   + "" out of range: ""
                                                   + mtxTab.length);
                            }

                            // Also add winAnsiWidth
                            List v = (List)ansiIndex.get(new Integer(j));
                            if (v != null) {
                                Iterator e = v.listIterator();
                                while (e.hasNext()) {
                                    Integer aIdx = (Integer)e.next();
                                    ansiWidth[aIdx.intValue()] = mtxTab[glyphIdx].getWx();
                                }
                            }

                            //getLogger().debug(""IIdx: "" +
                            //    mtxPtr +
                            //    "" Delta: "" + cmap_deltas[i] +
                            //    "" Unicode: "" + j +
                            //    "" name: "" +
                            //    mtxTab[(j+cmap_deltas[i]) & 0xffff].name);

                        }
                        if (glyphIdx < mtxTab.length) {
                            if (mtxTab[glyphIdx].getUnicodeIndex().size() < 2) {
                                mtxPtr++;
                            }
                        }
                    }
                }
            }
        }
        return true;
    }",Bug Crítico,
Java,convert json to csv,"    public String toCsv(Csv... records) {
        if (records != null && records.length > 0) {
            String[] header = records[0].getCsvHeader();
            StringWriter writer = new StringWriter();
            try (CSVPrinter printer = getCSVFormat().withHeader(header).print(writer)) {
                for (Csv record : records) {
                    Object [] data = record.getCsvData();
                    if (data == null || data.length == 0) {
                        log.debug(""Skipping null or empty record"");
                        continue;
                    }

                    for (Object column : data) {
                        printer.print(objectToString(column));
                    }
                    printer.println();
                }
            } catch (IOException e) {
                log.error(""Failed to generate CSV"", e);
            }

            return writer.toString();
        }

        return null;
    }",Código em Conformidade,
Java,filter array,"    @SuppressWarnings(""unchecked"")
    public final T[] filter(final T[] objects) {
        final Collection<T> filtered = filter(Arrays.asList(objects));
        try {
            return filtered.toArray((T[]) Array.newInstance(objects
                    .getClass(), filtered.size()));
        } catch (ArrayStoreException ase) {
            Logger log = LoggerFactory.getLogger(Filter.class);
            log.warn(""Error converting to array - using default approach"", ase);
        }
        return (T[]) filtered.toArray();
    }",Código em Conformidade,
Java,convert int to string,"  private static int toInt(String v) {
    return v == null ? 1 : (int) MessageFormat.toLong(v, 0, v.length());
  }",Código em Conformidade,
Java,export to excel,"    public static File exportTemplate() throws FileNotFoundException,
            IOException, InvalidFormatException {
        File template = new File(""Template.xls"");
        template.createNewFile();
        org.apache.poi.ss.usermodel.Workbook wb = new HSSFWorkbook();
        org.apache.poi.ss.usermodel.Sheet sheet = wb.createSheet();
        wb.setSheetName(0, ""Steps"");
        int column = 0;
        CellStyle cs = wb.createCellStyle();
        cs.setDataFormat(getBuiltinFormat(""text""));
        Font f = wb.createFont();
        f.setFontHeightInPoints((short) 12);
        f.setBold(true);
        f.setColor((short) Font.COLOR_NORMAL);
        cs.setFont(f);
        Row newRow = sheet.createRow(0);
        for (String label : COLUMNS) {
            Cell newCell = newRow.createCell(column);
            newCell.setCellStyle(cs);
            newCell.setCellValue(label);
            column++;
        }

        try (FileOutputStream out = new FileOutputStream(template)) {
            wb.write(out);
            out.close();
        } catch (FileNotFoundException e) {
            LOG.log(Level.SEVERE, null, e);
        } catch (IOException e) {
            LOG.log(Level.SEVERE, null, e);
        }
        return template;
    }",Código em Conformidade,
Java,read properties file,"	private void readPropertyFile(String propFile) {
		File file = null;
		if(propFile != null && !propFile.isEmpty()) {
			file = new File(propFile);
		}
		if(file == null || !file.exists()) {
			file = new File(CloudConductorPropertyProvider.CLOUDCONDUCTOR_PROP_FILE_DEFAULT_PATH);
		}
		if(file.exists()) {
			try(InputStream reader = new FileInputStream(file)) {
				Properties prop = new Properties();
				prop.load(reader);
				if(this.server == null && prop.containsKey(CloudConductorPropertyProvider.CLOUDCONDUCTOR_URL)) {
					this.server = prop.getProperty(CloudConductorPropertyProvider.CLOUDCONDUCTOR_URL);
				}
				if(this.template == null && prop.containsKey(CloudConductorPropertyProvider.TEMPLATE_NAME)) {
					this.template = prop.getProperty(CloudConductorPropertyProvider.TEMPLATE_NAME);
				}
				if(this.jwt == null && prop.containsKey(CloudConductorPropertyProvider.CLOUDCONDUCTOR_PROP_FILE_TOKEN)) {
					this.jwt = this.getAuthToken(prop.getProperty(CloudConductorPropertyProvider.CLOUDCONDUCTOR_PROP_FILE_TOKEN));
				}
			} catch(IOException ex) {
				this.logger.warn(""Failed to find cloudconductor properties file: '{}'"", file);
			}
		}
	}",Código em Conformidade,
Java,heatmap from 3d coordinates,"  private void mapMouseToPlane(Simple1DOFCamera camera, Point point2d, double[] vec) {
    // Far plane
    camera.unproject(point2d.x, point2d.y, -100., far);
    // Near plane
    camera.unproject(point2d.x, point2d.y, 1., near);
    // Delta vector: far -= near.
    VMath.minusEquals(far, near);
    // Intersection with z=0 plane:
    // far.z - a * near.z = 0 -> a = far.z / near.z
    if (near[2] < 0 || near[2] > 0) {
      double a = far[2] / near[2];
      vec[0] = far[0] - a * near[0];
      vec[1] = far[1] - a * near[1];
      vec[2] = 0;
    }
  }",Código em Conformidade,
Java,matrix multiply,"    public void scalarMultiply(double c)
    {
        int m = rows;
        int n = cols;
        for (int i = 0; i < m; i++)
        {
            for (int j = 0; j < n; j++)
            {
                consumer.set(i, j, c * supplier.get(i, j));
            }
        }
    }",Código em Conformidade,
Java,write csv,"    private void openWriter() throws IOException {

        if (csvWriter == null) {
            csvWriter = new CSVWriter(new java.io.FileWriter(file), separator);
        }
    }",Código em Conformidade,
Java,format date,"    private String formattedDate(Date d) {
        String formattedDate = """";
        if (d != null) {
            synchronized (SIMPLE_DATE_FORMAT) {
                formattedDate = SIMPLE_DATE_FORMAT.format(d);
            }
        }
        return formattedDate;
    }",Código em Conformidade,
Java,html entities replace,"  public static String replaceHtmlEntities(String content, Map<String, Character> map) {
    
    for (Entry<String, Character> entry : escapeStrings.entrySet()) {
      
      if (content.indexOf(entry.getKey()) != -1) {
        content = content.replace(entry.getKey(), String.valueOf(entry.getValue()));
      }
      
    }
    
    return content;
  }",Bug Crítico,
Java,convert int to bool,"    public static int toInteger(final Boolean bool, final int trueValue, final int falseValue, final int nullValue) {
        if (bool == null) {
            return nullValue;
        }
        return bool.booleanValue() ? trueValue : falseValue;
    }",Código em Conformidade,
Java,replace in file,"  public static void replaceFile(String fileName, final Map<String, List<Replacer>> profiles, Charset charset)
      throws Exception, FileNotFoundException {
    File file = new File(fileName);
    if (file.isFile() && !file.isHidden()) {
      List<Replacer> replacers = profiles.get(Strings.substringAfterLast(fileName, "".""));
      if (null == replacers) { return; }
      logger.info(""processing {}"", fileName);
      String filecontent = Files.readFileToString(file, charset);
      filecontent = Replacer.process(filecontent, replacers);
      writeToFile(filecontent, fileName, charset);
    } else {
      String[] subFiles = file.list(new FilenameFilter() {
        public boolean accept(File dir, String name) {
          if (dir.isDirectory()) return true;
          boolean matched = false;
          for (String key : profiles.keySet()) {
            matched = name.endsWith(key);
            if (matched) return true;
          }
          return false;
        }
      });
      if (null != subFiles) {
        for (int i = 0; i < subFiles.length; i++) {
          replaceFile(fileName + '/' + subFiles[i], profiles, charset);
        }
      }
    }
  }",Código em Conformidade,
Java,postgresql connection,"  private static long toPgSecs(long secs) {
    // java epoc to postgres epoc
    secs -= 946684800L;

    // Julian/Greagorian calendar cutoff point
    if (secs < -13165977600L) { // October 15, 1582 -> October 4, 1582
      secs -= 86400 * 10;
      if (secs < -15773356800L) { // 1500-03-01 -> 1500-02-28
        int years = (int) ((secs + 15773356800L) / -3155823050L);
        years++;
        years -= years / 4;
        secs += years * 86400;
      }
    }

    return secs;
  }",Código em Conformidade,
Java,get all parents of xml node,"    private ObservableList<Node> getParentChildren(Parent parent){
        try {
            return (ObservableList<Node>) parentChildrenField.get(parent);
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        }
        return null;
    }",Código em Conformidade,
Java,how to extract zip file recursively,"	public static void extractZip(InputStream zip, final File toDir) throws IOException{
		if(!toDir.exists()) {
			throw new IOException(""Directory '"" + toDir + ""' does not exist."");
		}

		// Use the ZipFileVisitor to walk all the entries in the Zip-Stream and create
		// directories and files accordingly
		new ZipFileVisitor() {
			@Override
			public void visit(ZipEntry entry, InputStream data) throws IOException {
				File target = new File(toDir, entry.getName());
				if (entry.isDirectory()) {
					// Assume directories are stored parents first then children.
					//logger.info(""Extracting directory: "" + entry.getName() + "" to "" + target);
					// This is not robust, just for demonstration purposes.
					if(!target.mkdirs()) {
						logger.warning(""Could not create directory "" + target);
					}
					return;
				}

				// zips can contain nested files in sub-dirs without separate entries for the directories
				if(!target.getParentFile().exists() && !target.getParentFile().mkdirs()) {
					logger.warning(""Could not create directory "" + target.getParentFile());
				}

				// it seems we cannot use IOUtils/FileUtils to copy as they close the stream
				int size;
				byte[] buffer = new byte[2048];
				try (OutputStream fout = new BufferedOutputStream(new FileOutputStream(target), buffer.length)) {
	                while ((size = data.read(buffer, 0, buffer.length)) != -1) {
	                    fout.write(buffer, 0, size);
	                }
				}
			}
		}.walk(zip);
	}",Bug Crítico,
Java,print model summary,"	public void writeSummary(String s) {
		if (summaryWriter != null) {
			summaryWriter.println(s);
		}

		logger.info(s);
	}",Código em Conformidade,
Java,string similarity levenshtein,"   public void setSimilarityClass(String className)
   {
      try
      {
         Class<?> similarityClass = ClassLoading.forName(className, this);
         similarity = (Similarity)similarityClass.newInstance();
      }
      catch (ClassNotFoundException e)
      {
         log.warn(""Invalid Similarity class: "" + className, e);
      }
      catch (InstantiationException e)
      {
         log.warn(""Invalid Similarity class: "" + className, e);
      }
      catch (IllegalAccessException e)
      {
         log.warn(""Invalid Similarity class: "" + className, e);
      }
   }",Código em Conformidade,
Java,copying a file to a path,"	public Path withFile(final String file) {
		final Path result = new Path(this);
		result.setFile(file);
		return result;
	}",Código em Conformidade,
Java,copy to clipboard,"    public static String getClipboardText(final Context context) {
        final ClipboardManager clipboard = (ClipboardManager) context.getSystemService(Context.CLIPBOARD_SERVICE);
        final ClipData clipData = clipboard.getPrimaryClip();
        if(clipData != null && clipData.getItemCount() > 0) {
            final CharSequence clipboardText = clipData.getItemAt(0).getText();
            if(clipboardText != null) {
                return clipboardText.toString();
            }
        }
        return null;
    }",Código em Conformidade,
Java,parse json file,,Código em Conformidade,
Java,convert a date string into yyyymmdd,"    protected String toDateString(Object date) {
        String returnValue = null;
        if (date instanceof Date) {
        	SimpleDateFormat sdfDate = new SimpleDateFormat(""yyyy-MM-dd"");
            Date d = (Date) date;
            returnValue = sdfDate.format(d);
        }
        return returnValue;
    }",Código em Conformidade,
Java,convert a date string into yyyymmdd,,Código em Conformidade,
Java,how to read the contents of a .gz compressed file?,"  public static void zipCompress(String filename) throws IOException {
    FileOutputStream fos = new FileOutputStream(filename + COMPRESSION_SUFFIX);
    CheckedOutputStream csum = new CheckedOutputStream(fos, new CRC32());
    ZipOutputStream out = new ZipOutputStream(new BufferedOutputStream(csum));
    out.setComment(""Failmon records."");

    BufferedReader in = new BufferedReader(new FileReader(filename));
    out.putNextEntry(new ZipEntry(new File(filename).getName()));
    int c;
    while ((c = in.read()) != -1)
      out.write(c);
    in.close();

    out.finish();
    out.close();
  }",Bug Crítico,
Java,fuzzy match ranking,"    protected QueryBuilder convertFuzzyQuery(final QueryContext context, final FuzzyQuery fuzzyQuery, final float boost) {
        final Term term = fuzzyQuery.getTerm();
        final String field = getSearchField(context, term.field());
        // TODO fuzzy value
        if (Constants.DEFAULT_FIELD.equals(field)) {
            context.addFieldLog(field, term.text());
            return buildDefaultQueryBuilder((f, b) -> QueryBuilders.fuzzyQuery(f, term.text())
                    .fuzziness(Fuzziness.fromEdits(fuzzyQuery.getMaxEdits())).boost(b * boost));
        } else if (isSearchField(field)) {
            context.addFieldLog(field, term.text());
            return QueryBuilders.fuzzyQuery(field, term.text()).boost(boost).fuzziness(Fuzziness.fromEdits(fuzzyQuery.getMaxEdits()));
        } else {
            final String origQuery = fuzzyQuery.toString();
            context.addFieldLog(Constants.DEFAULT_FIELD, origQuery);
            context.addHighlightedQuery(origQuery);
            return buildDefaultQueryBuilder((f, b) -> QueryBuilders.fuzzyQuery(f, origQuery)
                    .fuzziness(Fuzziness.fromEdits(fuzzyQuery.getMaxEdits())).boost(b * boost));
        }
    }",Código em Conformidade,
Java,how to determine a string is a valid word,"    private boolean useThisWord(Integer wordID, Map<Integer, String> ID2word, Map<Integer, Double> ID2occurrences) {
        String word = ID2word.get(wordID);
        if(word==null) {
            return false;
        }
        else if(word.length() < parameters.getMinWordLength()) {
            return false;
        }
        else if(ID2occurrences.get(wordID)<parameters.getMinWordOccurrence()) {
            return false;
        }
        return true;
    }",Código em Conformidade,
Java,json to xml conversion,"    @Override
    public Document convert(JSONObject json) {
        return JsonXmlConvertHint.convert(json, OsglConfig.xmlRootTag(), OsglConfig.xmlListItemTag());
    }",Código em Conformidade,
Java,heatmap from 3d coordinates,"  private void updateCoordinates() {
    // Top-left of heat map.
    int x = margin + axisThickness + yAxisLabelSize.height;
    x += (yValuesHorizontal ? yAxisValuesWidthMax : yAxisValuesHeight);
    int y = titleSize.height + margin;
    heatMapTL = new Point(x, y);

    // Top-right of heat map.
    x = heatMapTL.x + heatMapSize.width;
    y = heatMapTL.y + heatMapSize.height;
    heatMapBR = new Point(x, y);

    // Centre of heat map.
    x = heatMapTL.x + (heatMapSize.width / 2);
    y = heatMapTL.y + (heatMapSize.height / 2);
    heatMapC = new Point(x, y);
  }",Código em Conformidade,
Java,sending binary data over a serial connection,,Código em Conformidade,
Java,parse binary file to custom class,"  protected Base64BinaryType parseBase64Binary(String v) throws IOException, FHIRFormatError {
    Base64BinaryType res = new Base64BinaryType(v);
    return res;
  }",Código em Conformidade,
Java,html encode string,"    public static String escape(String html, boolean encode){
        if(!encode){
            html = html.replaceAll(""&(?!#?\\w+;)"", ""&amp;"");
        } else {
            html = html.replace(""&"", ""&amp;"");
        }
        return html.replace(""<"", ""&lt;"").replace("">"", ""&gt;"").replace(""\"""", ""&quot;"").replace(""'"", ""&#39;"");
    }",Código em Conformidade,
Java,how to make the checkbox checked,"    public void visit(ListItemNode node) {
        if (node instanceof TaskListNode) {
            // vsch: #185 handle GitHub style task list items, these are a bit messy because the <input> checkbox needs to be
            // included inside the optional <p></p> first grand-child of the list item, first child is always RootNode
            // because the list item text is recursively parsed.
            Node firstChild = node.getChildren().get(0).getChildren().get(0);
            boolean firstIsPara = firstChild instanceof ParaNode;
            int indent = node.getChildren().size() > 1 ? 2 : 0;
            boolean startWasNewLine = printer.endsWithNewLine();

            printer.println().print(""<li class=\""task-list-item\"">"").indent(indent);
            if (firstIsPara) {
                printer.println().print(""<p>"");
                printer.print(""<input type=\""checkbox\"" class=\""task-list-item-checkbox\"""" + (((TaskListNode) node).isDone() ? "" checked=\""checked\"""" : """") + "" disabled=\""disabled\""></input>"");
                visitChildren((SuperNode) firstChild);

                // render the other children, the p tag is taken care of here
                visitChildrenSkipFirst(node);
                printer.print(""</p>"");
            } else {
                printer.print(""<input type=\""checkbox\"" class=\""task-list-item-checkbox\"""" + (((TaskListNode) node).isDone() ? "" checked=\""checked\"""" : """") + "" disabled=\""disabled\""></input>"");
                visitChildren(node);
            }
            printer.indent(-indent).printchkln(indent != 0).print(""</li>"")
                    .printchkln(startWasNewLine);
        } else {
            printConditionallyIndentedTag(node, ""li"");
        }
    }",Código em Conformidade,
Java,read text file line by line,"    private boolean isBinary() {
        try (InputStream in = getInputStream()) {
            long size = Files.size(file.toPath());
            if (size == 0) {
                // Empty file, so no need to check
                return true;
            }

            byte[] b = new byte[( size < StreamUtils.DEFAULT_PROBE_SIZE ? (int)size : StreamUtils.DEFAULT_PROBE_SIZE)];
            int read = in.read(b);
            if (read != b.length) {
                // Something went wrong, so better not to read line by line
                return true;
            }

            return StreamUtils.isNonWhitespaceControlCharacter(b);
        } catch (IOException e) {
            // If cannot be checked, then considered as binary, so we do not
            // read line by line
            return true;
        }
    }",Código em Conformidade,
Java,how to reverse a string,"	public static String reverse(String string) {
		if(string != null) {
			return new StringBuilder(string).reverse().toString();
		}
		return null;
	}",Código em Conformidade,
Java,how to empty array,"    private void grow(long length)
    {
        // how many segments are required to get to the length?
        int requiredSegments = segment(length) + 1;

        // grow base array if necessary
        if (array.length < requiredSegments) {
            array = Arrays.copyOf(array, requiredSegments);
        }

        // add new segments
        while (segments < requiredSegments) {
            allocateNewSegment();
        }
    }",Código em Conformidade,
Java,get all parents of xml node,"    protected List<String> getParentShas(Object commit) {
        Object parents = restClient.getAsObject(commit, ""parents"");
        Object nodes = restClient.getAsObject(parents, ""nodes"");
        List<String> parentShas = new ArrayList<>();

        if (nodes instanceof JSONArray) {
            JSONArray parentNodes = (JSONArray) nodes;
            for (Object parentObj : parentNodes) {
                parentShas.add(restClient.getString(parentObj, ""oid""));
            }
        }

        return parentShas;
    }",Código em Conformidade,
Java,custom http error response,"    @Override
    public void handleErrorResponse(HttpServletResponse response, int httpErrorCode) {
        if (!response.isCommitted()) {
            response.setStatus(httpErrorCode);
        }

        String errorHeader = ""HTTP Error 403 - Forbidden"";
        if (httpErrorCode != 403) {
            errorHeader = ""HTTP Error "" + httpErrorCode;
        }

        String errorMessage = Tr.formatMessage(tc, ""SOCIAL_LOGIN_FRONT_END_ERROR""); // CWWKS5489E
        writeErrorHtml(response, errorHeader, errorMessage);
    }",Código em Conformidade,
Java,extract latitude and longitude from given input,"  @Implementation
  protected List<Address> getFromLocation(double latitude, double longitude, int maxResults)
      throws IOException {
    Preconditions.checkArgument(
        -90 <= latitude && latitude <= 90, ""Latitude must be between -90 and 90, got %s"", latitude);
    Preconditions.checkArgument(
        -180 <= longitude && longitude <= 180,
        ""Longitude must be between -180 and 180, got %s"",
        longitude);
    return fromLocation.subList(0, Math.min(maxResults, fromLocation.size()));
  }",Código em Conformidade,
Java,create cookie,"    private static Cookie createCookie(String name, String value, String domain, String path, Date expirationDate) {
        return createCookie(name, value, domain, path, expirationDate.getTime());
    }",Código em Conformidade,
Java,unique elements,"    @Override
    public int countUnique() {
        DoubleSet uniqueElements = new DoubleOpenHashSet();
        for (int i = 0; i < size(); i++) {
            if (!isMissing(i)) {
                uniqueElements.add(getDouble(i));
            }
        }
        return uniqueElements.size();
    }",Código em Conformidade,
Java,all permutations of a list,"	public void addPermutation(List<Integer> permutation) {
		if (!permutations.contains(permutation)) {
			permutations.add(permutation);
		}
	}",Código em Conformidade,
Java,create cookie,"    public void createCookie(String name, String value, String domain) {
        createCookie(name, value, domain, null);
    }",Código em Conformidade,
Java,how to get database table name,"    public String getTableNames(boolean bAddQuotes)
    {
        if (m_tableName == null)
        {
            String strDatabaseName = """";
            if (this.getDatabaseName() != null)
                if (!this.getDatabaseName().endsWith(""_"" + this.getDatabaseName()))
                    strDatabaseName = ""_"" + this.getDatabaseName();
            return Record.formatTableNames(DATABASE_INFO_FILE, bAddQuotes) + strDatabaseName;
        }
        return super.getTableNames(bAddQuotes);
    }",Código em Conformidade,
Java,randomly extract x items from a list,"	public static <T> List<T> randomSample(Collection<T> collection, int n) {
		List<T> list = new ArrayList<T>(collection);
		List<T> sample = new ArrayList<T>(n);
		Random random = new Random();
		while(n > 0  &&  !list.isEmpty()) {
			int index = random.nextInt(list.size());
			sample.add(list.get(index));
			int indexLast = list.size() - 1;
			T last = list.remove(indexLast);
			if(index < indexLast) {
				list.set(index, last);
			}
			n--;
		}
		return sample;
	}",Código em Conformidade,
Java,binomial distribution,"    @Override
    public Distribution deserialize(JsonParser jp, DeserializationContext deserializationContext)
                    throws IOException, JsonProcessingException {
        //Manually parse old format
        JsonNode node = jp.getCodec().readTree(jp);

        if (node.has(""normal"")) {
            JsonNode n = node.get(""normal"");
            if (!n.has(""mean"") || !n.has(""std"")) {
                throw new JsonParseException(""Cannot deserialize Distribution: legacy format 'normal' wrapper object ""
                                + "" is missing 'mean' or 'std' field"", jp.getCurrentLocation());
            }
            double m = n.get(""mean"").asDouble();
            double s = n.get(""std"").asDouble();
            return new NormalDistribution(m, s);
        } else if (node.has(""gaussian"")) {
            JsonNode n = node.get(""gaussian"");
            if (!n.has(""mean"") || !n.has(""std"")) {
                throw new JsonParseException(""Cannot deserialize Distribution: legacy format 'gaussian' wrapper object ""
                                + "" is missing 'mean' or 'std' field"", jp.getCurrentLocation());
            }
            double m = n.get(""mean"").asDouble();
            double s = n.get(""std"").asDouble();
            return new GaussianDistribution(m, s);

        } else if (node.has(""uniform"")) {
            JsonNode n = node.get(""uniform"");
            if (!n.has(""lower"") || !n.has(""upper"")) {
                throw new JsonParseException(""Cannot deserialize Distribution: legacy format 'uniform' wrapper object ""
                                + "" is missing 'lower' or 'upper' field"", jp.getCurrentLocation());
            }
            double l = n.get(""lower"").asDouble();
            double u = n.get(""upper"").asDouble();
            return new UniformDistribution(l, u);
        } else if (node.has(""binomial"")) {
            JsonNode n = node.get(""binomial"");
            if (!n.has(""numberOfTrials"") || !n.has(""probabilityOfSuccess"")) {
                throw new JsonParseException(""Cannot deserialize Distribution: legacy format 'binomial' wrapper object ""
                                + "" is missing 'lower' or 'upper' field"", jp.getCurrentLocation());
            }
            int num = n.get(""numberOfTrials"").asInt();
            double p = n.get(""probabilityOfSuccess"").asDouble();
            return new BinomialDistribution(num, p);
        } else {
            throw new JsonParseException(
                            ""Cannot deserialize Distribution: expected type field or legacy format wrapper""
                                            + "" object with name being one of {normal, gaussian, uniform, binomial}"",
                            jp.getCurrentLocation());
        }
    }",Código em Conformidade,
Java,converting uint8 array to image,"	@Override
	public void setImage(T image) {
		if( ii != null ) {
			ii.reshape(image.width,image.height);
		}

		// compute integral image
		ii = GIntegralImageOps.transform(image,ii);
		surf.setImage(ii);
	}",Código em Conformidade,
Java,filter array,"    public static Filter or(Filter... filter) {
        if (filter.length == 1) return filter[0];
        OrFilter result = new OrFilter();
        for (int i = 0; i < filter.length; i++) {
            result.or(filter[i]);
        }
        return result;
    }",Código em Conformidade,
Java,priority queue,"	public static <E> PriorityQueue<E> newPriorityQueue(PriorityQueue<? extends E> priorityQueue) {
		return new PriorityQueue<E>(priorityQueue);
	}",Código em Conformidade,
Java,k means clustering,"  public static <V extends NumberVector> double logLikelihoodZhao(Relation<V> relation, Clustering<? extends MeanModel> clustering, NumberVectorDistanceFunction<? super V> distanceFunction) {
    List<? extends Cluster<? extends MeanModel>> clusters = clustering.getAllClusters();
    // number of clusters
    final int m = clusters.size();

    // number of objects in the clustering
    int n = 0;
    // cluster sizes
    int[] n_i = new int[m];
    // variances
    double[] d_i = new double[m];

    // Iterate over clusters:
    Iterator<? extends Cluster<? extends MeanModel>> it = clusters.iterator();
    for(int i = 0; it.hasNext(); ++i) {
      Cluster<? extends MeanModel> cluster = it.next();
      n += n_i[i] = cluster.size();
      // Note: the paper used 1/(n-m) but that is probably a typo
      // as it will cause divisions by zero.
      d_i[i] = varianceOfCluster(cluster, distanceFunction, relation) / (double) n_i[i];
    }

    final int dim = RelationUtil.dimensionality(relation);

    // log likelihood of this clustering
    double logLikelihood = 0.;
    // Aggregate
    for(int i = 0; i < m; i++) {
      logLikelihood += n_i[i] * FastMath.log(n_i[i] / (double) n) // ni log ni/n
          - n_i[i] * dim * .5 * MathUtil.LOGTWOPI // ni*d/2 log2pi
          - n_i[i] * .5 * FastMath.log(d_i[i]) // ni/2 log sigma_i
          - (n_i[i] - m) * .5; // (ni-m)/2
    }
    return logLikelihood;
  }",Código em Conformidade,
Java,unzipping large files,"  private List<File> unzipCorpus(File outDir, ZipFile zip)
  {
    List<File> rootDirs = new ArrayList<>();

    Enumeration<? extends ZipEntry> zipEnum = zip.entries();
    while (zipEnum.hasMoreElements())
    {
      ZipEntry e = zipEnum.nextElement();
      File outFile = new File(outDir, e.getName().replaceAll(""\\/"", ""/""));

      if (e.isDirectory())
      {
        if (!outFile.mkdirs())
        {
          log.warn(""Could not create output directory "" + outFile.
            getAbsolutePath());
        }
      } // end if directory
      else
      {
        if (""corpus.tab"".equals(outFile.getName()) || ""corpus.annis"".equals(
          outFile.getName()))
        {
          rootDirs.add(outFile.getParentFile());
        }

        if (!outFile.getParentFile().isDirectory())
        {
          if (!outFile.getParentFile().mkdirs())
          {
            {
              log.warn(
                ""Could not create output directory for file "" + outFile.
                getAbsolutePath());
            }
          }
        }
        try (FileOutputStream outStream = new FileOutputStream(outFile);)
        {

          ByteStreams.copy(zip.getInputStream(e), outStream);
        }
        catch (FileNotFoundException ex)
        {
          log.error(null, ex);
        }
        catch (IOException ex)
        {
          log.error(null, ex);
        }
      } // end else is file
    } // end for each entry in zip file

    return rootDirs;
  }",Código em Conformidade,
Java,initializing array,"    public void init() {
        re.put(""pid"", Lang.JdkTool.getProcessId(""-1""));
        re.put(""version"", Lang.JdkTool.getMajorVersion());
        re.put(""cores"", Runtime.getRuntime().availableProcessors());
        updateMonitors();
    }",Código em Conformidade,
Java,how to get database table name,"	public String getDatabaseProductName() throws DatabaseException {
		Connection connection = null;
        Database database = null;
		String name = ""unknown"";
		try {
			connection = getDataSource().getConnection();
			database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(connection));
			name = database.getDatabaseProductName();
		} catch (SQLException e) {
			throw new DatabaseException(e);
		} finally {
            if (database != null) {
                database.close();
            } else if (connection != null) {
				try {
					if (!connection.getAutoCommit()) {
						connection.rollback();
					}
					connection.close();
                } catch (SQLException e) {
					log.warning(LogType.LOG, ""problem closing connection"", e);
				}
			}
		}
		return name;
	}",Código em Conformidade,
Java,filter array,"    public static <T> T[] filter(T array[], Filter<T> filter){
        List<T> filteredList = new ArrayList<T>(array.length);
        for(T element: array){
            if(filter.select(element))
                filteredList.add(element);
        }
        @SuppressWarnings(""unchecked"")
        T filteredArray[] = (T[])Array.newInstance(array.getClass().getComponentType(), filteredList.size());
        return filteredList.toArray(filteredArray);
    }",Código em Conformidade,
Java,heatmap from 3d coordinates,"    private void sevenMemberedRingPossibilities(IAtomContainer m, IRing r, List<List<List<String>>> MasterList) {
        // for now only consider case where have 3 double bonds

        IAtom[] ringatoms = new IAtom[7];

        ringatoms[0] = r.getAtom(0);

        int[] num = new int[7];

        for (int j = 0; j <= 6; j++) {
            num[j] = m.indexOf(r.getAtom(j));
        }

        List<String> al1 = new ArrayList<String>();
        List<String> al2 = new ArrayList<String>();
        List<String> al3 = new ArrayList<String>();
        List<String> al4 = new ArrayList<String>();
        List<String> al5 = new ArrayList<String>();

        al1.add(num[0] + ""-"" + num[1]);
        al1.add(num[2] + ""-"" + num[3]);
        al1.add(num[4] + ""-"" + num[5]);

        al2.add(num[0] + ""-"" + num[1]);
        al2.add(num[2] + ""-"" + num[3]);
        al2.add(num[5] + ""-"" + num[6]);

        al3.add(num[1] + ""-"" + num[2]);
        al3.add(num[3] + ""-"" + num[4]);
        al3.add(num[5] + ""-"" + num[6]);

        al4.add(num[1] + ""-"" + num[2]);
        al4.add(num[3] + ""-"" + num[4]);
        al4.add(num[6] + ""-"" + num[0]);

        al5.add(num[2] + ""-"" + num[3]);
        al5.add(num[4] + ""-"" + num[5]);
        al5.add(num[6] + ""-"" + num[0]);

        List<List<String>> mal = new ArrayList<List<String>>();

        mal.add(al1);
        mal.add(al2);
        mal.add(al3);
        mal.add(al4);
        mal.add(al5);

        MasterList.add(mal);

    }",Código em Conformidade,
Java,deserialize json,"    public T deserialize( JsonReader reader, JsonDeserializationContext ctx ) throws JsonDeserializationException {
        return deserialize( reader, ctx, JsonDeserializerParameters.DEFAULT );
    }",Código em Conformidade,
Java,aes encryption,"    private byte[] aesEncrypt(byte[] encryptionKey, byte[] iv, byte[] message)
            throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,
            InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {

        Cipher cipher = Cipher.getInstance(AES_CFB_NO_PADDING_ALGORITHM);
        cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(encryptionKey, SYMMETRIC_KEY_TYPE), new IvParameterSpec(iv));
        return cipher.doFinal(message);
    }",Código em Conformidade,
Java,unique elements,,Código em Conformidade,
Java,positions of substrings in string,"    public LoadBalancerFilter descriptionContains(String... subStrings) {
        allItemsNotNull(subStrings, ""Load balancer description subStrings"");

        predicate = predicate.and(combine(
                LoadBalancerMetadata::getDescription, in(asList(subStrings), Predicates::containsIgnoreCase)
        ));

        return this;
    }",Código em Conformidade,
Java,get executable path,"  public static File getExecutableLocation(final String exeName) {
    //
    // must add current working directory to the
    // from of the path from the ""path"" environment variable
    final File currentDir = new File(System.getProperty(""user.dir""));
    if (new File(currentDir, exeName).exists()) {
      return currentDir;
    }
    final File[] envPath = CUtil.getPathFromEnvironment(""PATH"", File.pathSeparator);
    for (final File element : envPath) {
      if (new File(element, exeName).exists()) {
        return element;
      }
    }
    return null;
  }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,connect to sql,"  public void connect(String line, DispatchCallback callback) throws Exception {
    String example = ""Usage: connect <url> <username> <password> [driver]""
        + SqlLine.getSeparator();

    String[] parts = sqlLine.split(line);
    if (parts == null) {
      callback.setToFailure();
      return;
    }

    Properties connectProps = new Properties();
    int offset = 1;
    for (int i = 1; i < parts.length; i++) {
      if (""-p"".equals(parts[i])) {
        if (parts.length - i > 2) {
          connectProps.setProperty(parts[i + 1], parts[i + 2]);
          i = i + 2;
          offset += 3;
        } else {
          callback.setToFailure();
          sqlLine.error(example);
          return;
        }
      }
    }
    if (parts.length - offset < 2) {
      callback.setToFailure();
      sqlLine.error(example);
      return;
    }

    String url = parts.length < offset + 1 ? null : parts[offset];
    String user = parts.length < offset + 2 ? null : parts[offset + 1];
    String pass = parts.length < offset + 3 ? null : parts[offset + 2];
    String driver = parts.length < offset + 4 ? null : parts[offset + 3];
    Properties props = new Properties();
    if (url != null) {
      props.setProperty(""url"", url);
    }
    if (driver != null) {
      props.setProperty(""driver"", driver);
    }
    if (user != null) {
      props.setProperty(""user"", user);
    }
    if (pass != null) {
      props.setProperty(""password"", pass);
    }
    if (!connectProps.isEmpty()) {
      props.put(CONNECT_PROPERTY, connectProps);
    }
    connect(props, callback);
  }",Vulnerabilidade (Exposição de Dados Sensíveis - OWASP),
Java,write csv,"    public void render(Result result) throws IOException {
        CsvWriter csvWriter = new CsvWriter(this.outputStream, this.delimiter, this.charset);

        // basics
        csvWriter.write(""Algorithm"");
        csvWriter.write(""Problem"");
        // times
        csvWriter.write(""CPU Time [ms]"");
        csvWriter.write(""System Time [ms]"");
        csvWriter.write(""User Time [ms]"");
        csvWriter.write(""Clock Time [ms]"");
        // optimize stats
        csvWriter.write(""Optimize counter"");
        csvWriter.write(""Optimize/sec (CPU) [1/s]"");
        csvWriter.write(""Optimize/sec (Clock) [1/s]"");
        // solution
        csvWriter.write(""Exception"");
        csvWriter.write(""Best solution"");
        csvWriter.write(""Best solution (human readable)"");
        csvWriter.write(""Depth"");
        csvWriter.write(""Fitness"");
        csvWriter.write(""Operations"");

        csvWriter.endRecord();

        for (ResultEntry resultEntry : result.getResultEntries()) {
            PreciseTimestamp start = resultEntry.getStartTimestamp();
            PreciseTimestamp stop = resultEntry.getStopTimestamp();

            // basics
            csvWriter.write(resultEntry.getAlgorithm().toString());
            csvWriter.write(resultEntry.getProblem().toString());
            // times
            csvWriter.write(Long.toString(start.getCpuTimeSpent(stop)));
            csvWriter.write(Long.toString(start.getSystemTimeSpent(stop)));
            csvWriter.write(Long.toString(start.getUserTimeSpent(stop)));
            csvWriter.write(Long.toString(start.getClockTimeSpent(stop)));
            // optimize stats
            csvWriter.write(Long.toString(resultEntry.getOptimizeCounter()));
            csvWriter.write(Long.toString(resultEntry.getOptimizeCounter() * 1000L / start.getCpuTimeSpent(stop)));
            csvWriter.write(Long.toString(resultEntry.getOptimizeCounter() * 1000L / start.getClockTimeSpent(stop)));

            csvWriter.write(resultEntry.getException() == null ? ""none"" : resultEntry.getException().getClass().toString());

            // solution
            if (resultEntry.getBestConfiguration() == null) {
                csvWriter.write(""none"");
                csvWriter.write(""-"");
                csvWriter.write(""-"");
                csvWriter.write(""-"");
            } else {
                StringBuffer stringBufferHumanReadable = new StringBuffer(""["");
                StringBuffer stringBuffer = new StringBuffer(""["");
                ConfigurationMap configurationMap = resultEntry.getProblem().getConfigurationMap();
                for (int i = 0; i < resultEntry.getBestConfiguration().getDimension(); ++i) {
                    stringBuffer.append(i == 0 ? """" : "", "").append(configurationMap.map(resultEntry.getBestConfiguration().valueAt(i), i));
                    stringBufferHumanReadable.append(i == 0 ? """" : "", "").append(resultEntry.getBestConfiguration().valueAt(i));
                }
                stringBuffer.append(""]"");
                stringBufferHumanReadable.append(""]"");
                csvWriter.write(stringBuffer.toString());
                csvWriter.write(stringBufferHumanReadable.toString());
                csvWriter.write(Long.toString(resultEntry.getBestConfiguration().getOperationHistory().getCounter()));
                csvWriter.write(Double.toString(resultEntry.getBestFitness()));

                for (OperationHistory operationHistory : resultEntry.getBestConfiguration().getOperationHistory().getChronologicalList()) {
                    csvWriter.write(operationHistory.getOperation().toString());
                }
            }


            csvWriter.endRecord();
        }


        csvWriter.flush();
    }",Bug Crítico,
Java,how to read the contents of a .gz compressed file?,"  protected void getCompressedData() throws IOException {
    checkStream();
  
    int n = in.read(buffer, 0, buffer.length);
    if (n == -1) {
      throw new CodecPrematureEOFException(
          ""Unexpected end of input stream, this is typically because of"" +
          "" truncated compressed file."");
    }

    decompressor.setInput(buffer, 0, n);
  }",Código em Conformidade,
Java,unzipping large files,"    public static void zipping(ZipOutputStream zipout, List<File> files, File startDir) {
        FileInputStream in = null;
        byte[] b = new byte[50 * 1024];
        for (int i = 1; i <= files.size(); i++) {
            try {
                File f = files.get(i - 1);
                in = new FileInputStream(f);
                ZipEntry entry = new ZipEntry(f.getAbsolutePath().substring(startDir.getAbsolutePath().length() + 1));
                entry.setMethod(ZipEntry.DEFLATED);
                zipout.putNextEntry(entry);
                IOTools.copy(in, zipout, b);
            } catch (IOException ex) {
                throw Unchecked.rethrow(ex);
            } finally {
                IOTools.close(in);
            }
        }
    }",Código em Conformidade,
Java,custom http error response,"  public void error(Throwable error, Map<String, Object> custom) {
    error(error, custom, null);
  }",Código em Conformidade,
Java,parse json file,"    public void parse(File file) throws UpdateException {
        LOGGER.debug(""Parsing "" + file.getName());
        try (InputStream fin = new FileInputStream(file);
                InputStream in = new GZIPInputStream(fin);
                InputStreamReader isr = new InputStreamReader(in, UTF_8);
                JsonReader reader = new JsonReader(isr)) {
            final Gson gson = new GsonBuilder().create();

            reader.beginObject();

            while (reader.hasNext() && !JsonToken.BEGIN_ARRAY.equals(reader.peek())) {
                reader.skipValue();
            }
            reader.beginArray();
            while (reader.hasNext()) {
                final DefCveItem cve = gson.fromJson(reader, DefCveItem.class);

                //cve.getCve().getCVEDataMeta().getSTATE();
                if (testCveCpeStartWithFilter(cve)) {
                    cveDB.updateVulnerability(cve);
                }
            }
        } catch (FileNotFoundException ex) {
            LOGGER.error(ex.getMessage());
            throw new UpdateException(""Unable to find the NVD CPE file, `"" + file + ""`, to parse"", ex);
        } catch (IOException ex) {
            LOGGER.error(""Error reading NVD JSON data: {}"", file);
            LOGGER.debug(""Error extracting the NVD JSON data from: "" + file.toString(), ex);
            throw new UpdateException(""Unable to find the NVD CPE file to parse"", ex);
        }
    }",Código em Conformidade,
Java,convert int to string,"    public Integer convertToInt(String value) {
        Integer result = null;
        if (value != null) {
            result = Integer.valueOf(value);
        }
        return result;
    }",Código em Conformidade,
Java,convert int to string,"    public static int convertToInt(Object value)
    {
        if (value instanceof Number)
        {
            return ((Number) value).intValue();
        }
        else if (value instanceof String)
        {
            try
            {
                return Integer.parseInt((String) value);
            }
            catch (NumberFormatException e)
            {
                throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to int"");
            }
        }
        else
        {
            throw new IllegalArgumentException(""Cannot convert "" + value.toString() + "" to int"");
        }
    }",Código em Conformidade,
Java,how to randomly pick a number,"    public String generateBsn() {
        String Result1 = """";
        int Nr9 = randomUtil.random(3);
        int Nr8 = randomUtil.random(10);
        int Nr7 = randomUtil.random(10);
        int Nr6 = randomUtil.random(10);
        int Nr5 = randomUtil.random(10);
        int Nr4 = randomUtil.random(10);
        int Nr3 = randomUtil.random(10);
        int Nr2 = randomUtil.random(10);
        int Nr1 = 0;
        int SofiNr = 0;
        if ((Nr9 == 0) && (Nr8 == 0) && (Nr7 == 0)) {
            Nr8 = 1;
        }
        SofiNr = 9 * Nr9 + 8 * Nr8 + 7 * Nr7 + 6 * Nr6 + 5 * Nr5 + 4 * Nr4 + 3 * Nr3 + 2 * Nr2;
        Nr1 = floor(SofiNr - (floor(SofiNr / 11)) * 11);
        if (Nr1 > 9) {
            if (Nr2 > 0) {
                Nr2 -= 1;
                Nr1 = 8;
            } else {
                Nr2 += 1;
                Nr1 = 1;
            }
        }
        Result1 += Nr9;
        Result1 += Nr8;
        Result1 += Nr7;
        Result1 += Nr6;
        Result1 += Nr5;
        Result1 += Nr4;
        Result1 += Nr3;
        Result1 += Nr2;
        Result1 += Nr1;
        return Result1;
    }",Código em Conformidade,
Java,how to determine a string is a valid word,"    public synchronized List<String> suggest(String word) {
        requireValidHandle();
        if (!isValidInput(word)) {
            return Collections.emptyList();
        }
        Pointer voikkoSuggestCstr = getLib().voikkoSuggestCstr(handle, s2n(word));
        if (voikkoSuggestCstr == null) {
            return Collections.emptyList();
        }
        Pointer[] pointerArray = voikkoSuggestCstr.getPointerArray(0);
        List<String> suggestions = new ArrayList<String>(pointerArray.length);
        for (Pointer cStr : pointerArray) {
            suggestions.add(stringFromPointer(cStr));
        }
        getLib().voikkoFreeCstrArray(voikkoSuggestCstr);
        return suggestions;
    }",Código em Conformidade,
Java,how to read the contents of a .gz compressed file?,"    public static boolean testCompressedStream(final InputStream is)
    throws IOException {
        boolean compressedARCFile = false;
        try {
            new GzipHeader(is);
            compressedARCFile = true;
        } catch (NoGzipMagicException e) {
            return compressedARCFile;
        }
        return compressedARCFile;
    }",Código em Conformidade,
Java,how to check if a checkbox is checked,"    public static boolean isCheckBoxChecked(String text) throws Exception {
        return Client.getInstance().map(Constants.ROBOTIUM_SOLO, ""isCheckBoxChecked"", text).getBoolean(0);
    }",Código em Conformidade,
Java,unique elements,"	private static String uniqueName(ENamedElement element, String originalName,
			Map<ENamedElement, String> uniqueNameMap) {
		if (uniqueNameMap.containsKey(element)) {
			return uniqueNameMap.get(element);
		}
		String uniqueName = originalName;
		for (int i = 0; RESERVED_KEYWORDS.contains(uniqueName) || RESERVED_RULES.contains(uniqueName.toLowerCase())
				|| element2uniqueName.containsValue(uniqueName)
				|| element2uniqueImplName.containsValue(uniqueName); ++i) {
			uniqueName = originalName + i;
		}
		uniqueNameMap.put(element, uniqueName);
		return uniqueName;
	}",Código em Conformidade,
Java,sort string list,"    @Override
    public String sortIgnoreEmpty(String list, String sortType, String sortOrder, String delimiter) throws PageException {
	return lucee.runtime.type.util.ListUtil.sortIgnoreEmpty(list, sortType, sortOrder, delimiter);
    }",Código em Conformidade,
Java,all permutations of a list,"	public void removePermutations(List<Integer> removed) {

		int[] permutations = new int[this.permutations.length];

		int index = 0;
		permutations:
		for (int j : this.permutations) {
			for (int i = 0; i < removed.size(); i++) {
				if(removed.get(i) == j) {
					// skip this
					removed.remove(i);

					continue permutations;
				}
			}

			permutations[index] = j;

			index++;
		}

		int[] effectivePermutations = new int[index];
		System.arraycopy(permutations, 0, effectivePermutations, 0, index);
		
		this.rotations = new int[permutations.length];
		this.reset = new int[permutations.length];
		this.permutations = effectivePermutations;
		Arrays.sort(permutations); // ascending order to make the permutation logic work
	}",Código em Conformidade,
Java,parse binary file to custom class,"	public static byte[] build(String className, String superName) {
		ByteBuffer bb = ByteBuffer.allocate(1000);
		bb.put(BA0_1);
		
		//bb.put(BA2);
		writeUtf8(bb, convertDots(className));
		
		bb.put(BA3);
		
		//bb.put(BA4);
		writeUtf8(bb, convertDots(superName));
		
		bb.put(BA5_12);
		
		//bb.put(BA13);
		writeUtf8(bb, ""L"" + convertDots(className) + "";"");
		
		bb.put(BA14);
		
		//bb.put(BA15);
		String fName = convertDots(className);
		fName = fName.substring(fName.lastIndexOf('/') + 1);
		fName += "".java"";
		writeUtf8(bb, fName);
		
		bb.put(BA_end);
		
		byte[] ba = new byte[bb.position()];
		bb.rewind();
		bb.get(ba);
		return ba;
	}",Código em Conformidade,
Java,output to html file,"    public void toHTML(File file) throws IOException {
        PrintWriter out = new PrintWriter(file);

        out.printf(""<html><head><link rel=\""stylesheet\"" type=\""text/css\"" href=\""%s\""></head><body>\n"", STYLE_URL);
        out.printf(""<h1>%s</h1>%n"", TITLE);
        out.println();
        out.println(""<p>"");
        out.printf(""The URI for this vocabulary is <code>%s</code>. "", Constants.NAMESPACE);
        out.printf(""When abbreviating terms the suggested prefix is <code>%s</code>. "", Constants.ABBREVIATION);
        out.printf(""Each function in this function set has a URI constructed by appending a term name to the vocabulary URI. For example <code>%s</code>. "", functions.get(0).uri.stringValue());
        out.print(""There are machine readable function description using <a href=\""http://www.ldodds.com/schemas/sparql-extension-description/\"">SPARQL Extension Description Vocabulary]</a> in "");
        out.printf(""<a href=\""%s\"">RDF/XML</a> and <a href=\""%s\"">TURTLE</a>."", LINK_XML, LINK_TURTLE);
        out.println(""</p>"");
        for(FunctionDoc.Reference reference : FunctionDoc.Reference.values()) {
            for (FunctionDoc.Type type : FunctionDoc.Type.values()) {

                boolean show = false;
                //test if it should be displayed
                for (Function function : functions) {
                    if (function.reference == reference && function.typeName.equals(type.getName()) && function.type.equals(type.getUri())) {
                        show = true; break;
                    }
                }

                if(!show) continue;

                out.printf(""<h2>%s %ss</h2>"", reference.getName(), type.getName());
                out.println(""<table>"");
                out.println(""<tr><th>Relation name</th><th>Description</th>"");
                for (Function function : functions) {
                    if (function.reference == reference && function.typeName.equals(type.getName()) && function.type.equals(type.getUri()))

                        out.printf(""<tr><td>%s:%s( %s )</td><td>%s</td>\n"", Constants.ABBREVIATION, function.uri.stringValue().substring(Constants.NAMESPACE.length()), function.getPropertyString("", "",""<i>"",""</i>""), function.description);
                }
                out.println(""</table>"");
            }
        }

        out.flush();
        out.close();
    }",Código em Conformidade,
Java,convert html to pdf,"    private void convertHTMLCode(ArrayList<ArrayList<TextPiece>> wordsByPage) {
	DocInfo docInfo = new DocInfo();
	String[] html2Char = docInfo.getHtml2CharMapping(); // Only define this
							    // mapping string
							    // when we detect
							    // the files in HTML
							    // codes
	int pageNum = 0;

	for (ArrayList<TextPiece> wordsOfAPage : wordsByPage) {
	    pageNum++;
	    for (int i = 0; i < wordsOfAPage.size(); i++) {
		TextPiece currentWord = wordsOfAPage.get(i);
		String realText = """";
		String textinHTMLCode = currentWord.getText();

	    }
	}
    }",Código em Conformidade,
Java,deserialize json,"  @Override
  public EventRequest deserialize(JsonElement json, Type typeOfT,
      JsonDeserializationContext context)
      throws JsonParseException {
    Gson gson = new GsonBuilder()
        .setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES)
        .create();

    // API versions 2017-05-25 and earlier render `request` as a string
    // instead of a JSON object
    if (json.isJsonPrimitive()) {
      EventRequest request = new EventRequest();
      request.setId(json.getAsString());
      return request;
    } else {
      return gson.fromJson(json, typeOfT);
    }
  }",Código em Conformidade,
Java,get the description of a http status code,"	private HttpStatus getHttpStatusCode(ClientHttpResponse response) throws IOException {
		HttpStatus statusCode;
		try {
			statusCode = response.getStatusCode();
		}
		catch (IllegalArgumentException ex) {
			throw new UnknownHttpStatusCodeException(response.getRawStatusCode(),
					response.getStatusText(), response.getHeaders(), getResponseBody(response), getCharset(response));
		}
		return statusCode;
	}",Código em Conformidade,
Java,convert a utc time to epoch,"	private static String coerceToEpoch(String s) {
		Long epoch = parseEpochSecond(s);
		if (epoch != null) {
			return String.valueOf(epoch);
		}
		SimpleDateFormat format = new SimpleDateFormat(""yyyy-MM-dd'T'HH:mm:ssZ"");
		try {
			return String.valueOf(format.parse(s).getTime());
		}
		catch (ParseException ex) {
			return s;
		}
	}",Código em Conformidade,
Java,how to get current date,"    private Date getCurrentDate()
            throws MarshallingError, InvalidResponseException, CommunicationErrorException, CryptographyError,
            InvalidCredentialsException {
        if (serverTimeOffsetExpires == null || serverTimeOffsetExpires.before(new Date())) {
            setServerTimeOffset();
        }
        Calendar calendar = Calendar.getInstance();
        calendar.setTime(new Date());
        calendar.add(Calendar.MILLISECOND, serverTimeOffset);
        return calendar.getTime();
    }",Código em Conformidade,
Java,create cookie,"  private static String getHttpOnlyCookieHeader(Cookie cookie) {
    NewCookie newCookie = new NewCookie(cookie.getName(), cookie.getValue(),
      cookie.getPath(), cookie.getDomain(), cookie.getVersion(),
      cookie.getComment(), cookie.getMaxAge(), cookie.getSecure());
    return newCookie + ""; HttpOnly"";
  }",Código em Conformidade,
Java,binomial distribution,"	static
	public double probability(ContinuousDistribution distribution, Number x){

		if(distribution instanceof GaussianDistribution){
			return probability((GaussianDistribution)distribution, x);
		} else

		if(distribution instanceof PoissonDistribution){
			return probability((PoissonDistribution)distribution, x);
		}

		throw new UnsupportedElementException(distribution);
	}",Código em Conformidade,
Java,how to read .csv file in an efficient way?,"    private Map<String, String> parseCSVFile() throws IOException {
        final InputStream inputStream = Files.newInputStream(Paths.get(config.path()));
        final InputStreamReader fileReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);
        final ImmutableMap.Builder<String, String> newLookupBuilder = ImmutableMap.builder();

        try (final CSVReader csvReader = new CSVReader(fileReader, config.separatorAsChar(), config.quotecharAsChar())) {
            int line = 0;
            int keyColumn = -1;
            int valueColumn = -1;

            while (true) {
                final String[] next = csvReader.readNext();
                if (next == null) {
                    break;
                }
                line++;

                if (line == 1) {
                    // The first line in the CSV file provides the column names
                    int col = 0;
                    for (final String column : next) {
                        if (!isNullOrEmpty(column)) {
                            if (config.keyColumn().equals(column)) {
                                keyColumn = col;
                            }
                            if (config.valueColumn().equals(column)) {
                                valueColumn = col;
                            }
                        }
                        col++;
                    }
                } else {
                    // The other lines are supposed to be data entries
                    if (keyColumn < 0 || valueColumn < 0) {
                        throw new IllegalStateException(""Couldn't detect column number for key or value - check CSV file format"");
                    }
                    if (config.isCaseInsensitiveLookup()) {
                        newLookupBuilder.put(next[keyColumn].toLowerCase(Locale.ENGLISH), next[valueColumn]);
                    } else {
                        newLookupBuilder.put(next[keyColumn], next[valueColumn]);
                    }
                }
            }
        } catch (Exception e) {
            LOG.error(""Couldn't parse CSV file {} (settings separator=<{}> quotechar=<{}> key_column=<{}> value_column=<{}>)"", config.path(),
                    config.separator(), config.quotechar(), config.keyColumn(), config.valueColumn(), e);
            setError(e);
        }

        return newLookupBuilder.build();
    }",Código em Conformidade,
Java,aes encryption,"    Cipher createEncryptionCipher ( byte[] key ) throws CIFSException {
        if ( !this.smb2 || this.negotiated == null ) {
            throw new SmbUnsupportedOperationException();
        }

        Smb2NegotiateResponse resp = (Smb2NegotiateResponse) this.negotiated;
        int cipherId = -1;

        if ( resp.getSelectedDialect().atLeast(DialectVersion.SMB311) ) {
            cipherId = resp.getSelectedCipher();
        }
        else if ( resp.getSelectedDialect().atLeast(DialectVersion.SMB300) ) {
            cipherId = EncryptionNegotiateContext.CIPHER_AES128_CCM;
        }
        else {
            throw new SmbUnsupportedOperationException();
        }

        switch ( cipherId ) {
        case EncryptionNegotiateContext.CIPHER_AES128_CCM:
        case EncryptionNegotiateContext.CIPHER_AES128_GCM:
        default:
            throw new SmbUnsupportedOperationException();
        }
    }",Código em Conformidade,
Java,unique elements,"    public String add(BaseHolder obj)
    {
        if (m_iNextUniqueID >= Integer.MAX_VALUE)
            m_iNextUniqueID = 0;
        m_iNextUniqueID++;
        String strUniqueID = Integer.toString(m_iNextUniqueID);
        this.put(strUniqueID, obj);
        return strUniqueID;
    }",Código em Conformidade,
Java,get current observable value,"    public static <T> Observable<T> map(Observable<?> fromObservable, final T toValue) {
        if (fromObservable != null) {
            return fromObservable.subscribeOn(Schedulers.io())
                    .map(new RXMapper<T>(toValue));
        } else {
            return Observable.empty();
        }
    }",Código em Conformidade,
Java,get all parents of xml node,"    public XMLElement getParentElement() {
        XMLNode parent = getParentNode();
        if (parent != null && parent.getInner().getNodeType() == Node.ELEMENT_NODE) {
            return (XMLElement) parent;
        }
        return null;
    }",Código em Conformidade,
Java,how to check if a checkbox is checked,"	public boolean isCheckBoxChecked(String text)
	{
		if(config.commandLogging){
			Log.d(config.commandLoggingTag, ""isCheckBoxChecked(\""""+text+""\"")"");
		}
		
		return checker.isButtonChecked(CheckBox.class, text);
	}",Código em Conformidade,
Java,copy to clipboard,"  public boolean copyTopicsToClipboard(final boolean cut, @Nonnull @MustNotContainNull final Topic... topics) {
    boolean result = false;

    if (this.lockIfNotDisposed()) {
      try {
        if (topics.length > 0) {
          final Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
          clipboard.setContents(new MMDTopicsTransferable(topics), this);

          if (cut) {
            deleteTopics(true, ensureNoRootInArray(topics));
          }

          result = true;
        }
      } finally {
        this.unlock();
      }
    }

    return result;
  }",Bug Crítico,
Java,group by count,"    public CountryGroup getCountryGroup() {
        if (null == _countryGroup && null == countryGroup) { _countryGroup = Helper.EU; }
        return null == countryGroup ? _countryGroup : countryGroup.get();
    }",Bug Crítico,
Java,buffered file reader read text,"	public StringBuffer append(Reader source, StringBuffer buffer) throws IOException
	{
		BufferedReader _bufferedReader = new BufferedReader(source);
		char[] _buffer = new char[getBufferSize()]; // load by chunk of 4 ko
		try
		{
			for (int _countReadChars = 0; _countReadChars >= 0;)
			{
				buffer.append(_buffer, 0, _countReadChars);
				_countReadChars = _bufferedReader.read(_buffer);
			}
		}
		finally
		{
			_bufferedReader.close();
		}
		return buffer;
	}",Bug Crítico,
Java,get all parents of xml node,"    @Override
    XMLList children() {
        XMLList rv = newXMLList();
        XMLName all = XMLName.formStar();
        rv.setTargets(this, all.toQname());
        XmlNode[] children = this.node.getMatchingChildren(XmlNode.Filter.TRUE);
        for (int i=0; i<children.length; i++) {
            rv.addToList( toXML(children[i]) );
        }
        return rv;
    }",Código em Conformidade,
Java,how to empty array,"    public static Long[] nullToEmpty(Long[] array) {
        if (array == null || array.length == 0) {
            return EMPTY_LONG_OBJECT_ARRAY;
        }
        return array;
    }",Código em Conformidade,
Java,read text file line by line,"    public void getValue(StringBuffer res) throws SigarException {
        String line, lastLine = """";
        try {
            while ((line = getReader().readLine()) != null) {
                log.debug(""Read line: "" + line);
                lastLine = line;
            }
            res.append(lastLine);
        } catch (IOException e) {
            log.error(""Cannot read lines from file: "" + filename);
        }
    }",Código em Conformidade,
Java,reading element from html - <td>,"	public D getDestinationWithoutControl(D destination,final S source){
        try {
            return mapper.vVNotAllAll(destination, source);
        } catch (Exception e) { 
        	JmapperLog.error(e); 
        }
        return null;
	}",Código em Conformidade,
Java,how to determine a string is a valid word,"   public static boolean isReservedWord(String word)
   {
      return JAVA_KEYWORDS.contains(word) || BOOLEAN_LITERALS.contains(word) || NULL_LITERAL.equals(word);
   }",Código em Conformidade,
Java,sending binary data over a serial connection,,Código em Conformidade,
Java,find int in string,"    private int findToken(String token, int integer, int location) {
        int index = location - 1;
        while (index >= 0) {
            Object o = parserList.get(index);
            if (o instanceof DroolsToken) {
                if (""("".equals(((DroolsToken) o).getText())) {
                	if (getNextInteger(index) == integer){
                		return index;
                	}
//                    o = parserList.get(index + 1);
//                    if (o instanceof Integer) {
//                        if (integer == (Integer) o) {
//                            return index;
//                        }
//                    }
                }
            }
            index--;
        }
        return -1;
    }",Código em Conformidade,
Java,httpclient post json,"  public Observable<HttpClientResponse<ByteBuf>>
  postSmile(String uriStr, JsonPayload payload) {
    byte[] entity = toByteArray(SMILE_FACTORY, payload);
    URI uri = URI.create(uriStr);
    return rxHttp.post(uri, SMILE_CONTENT_TYPE, entity);
  }",Código em Conformidade,
Java,parse binary file to custom class,"    public <T> T render(Class<T> bean) throws Exception {
        if (bodyType.equals(BodyType.TEXT)) {
            return parse(bean, this.content);
        } else {
            throw new SeimiProcessExcepiton(""can not parse struct from binary"");
        }
    }",Código em Conformidade,
Java,extracting data from a text file,"    private static TextureData readTexture( java.net.URL url, boolean useMipMaps ) {
        try {
            return OGLUtil.newTextureData(Configuration.getMaxCompatibleGLProfile(), url, useMipMaps);
        } catch (Exception e) {
//            String msg = Logging.getMessage(""layers.TextureLayer.ExceptionAttemptingToReadTextureFile"", url.toString());
//            Logging.logger().log(java.util.logging.Level.SEVERE, msg, e);
            return null;
        }
    }",Código em Conformidade,
Java,pretty print json,"	public void prettyPrintObject(JSONObject jsonObj, int indentLevel) throws Exception {
		writer.write(""{"");
		
		Iterator<?> it = jsonObj.keys();
		if( it.hasNext() ) {
			// Accumulate keys
			List<String> keys = new Vector<String>();
			while( it.hasNext() ){
				Object key = it.next();
				if( key instanceof String ){
					keys.add( (String)key );
				}
			}
			
			// Sort keys
			Collections.sort(keys);
			
			// Print out each key
			boolean first = true;
			for(String key : keys){
				Object value = jsonObj.get(key);
				
				// Print indentation
				writer.write(""\n"");
				for(int i=0,e=indentLevel+1;i<e;++i){
					writer.write(tab);
				}
				
				// Print comma, if needed
				if( first ) {
					first = false;
				} else {
					writer.write("","");
				}
				
				// Print key
				writer.write(JSONObject.quote(key));
				writer.write("":"");
				
				// Print value
				prettyPrint(value, indentLevel+1);
			}

			// Print indentation
			writer.write(""\n"");
			for(int i=0,e=indentLevel;i<e;++i){
				writer.write(tab);
			}
		}

		writer.write(""}"");
	}",Código em Conformidade,
Java,confusion matrix,"    public ConfusionMatrix getTransposedMatrix()
    {
        ConfusionMatrix result = new ConfusionMatrix();

        for (Map.Entry<String, Map<String, Integer>> gold : this.map.entrySet()) {
            for (Map.Entry<String, Integer> predicted : gold.getValue().entrySet()) {
                int value = predicted.getValue();

                // add reverted values
                result.increaseValue(predicted.getKey(), gold.getKey(), value);
            }
        }

        return result;
    }",Bug Crítico,
Java,httpclient post json,"    @Override
    public JsonNode post(HttpEntity data, String path, Object... parameters) {
        return httpClient.post(
                this::toJson,
                data,
                path,
                parameters
        );
    }",Código em Conformidade,
Java,all permutations of a list,"    public static <T> Collection<List<T>> permutations(Collection<T> elements) {
        Collection<List<T>> result = new ArrayList<>();
        if (elements.isEmpty()) {
            result.add(new LinkedList<>());
            return result;
        }

        List<T> rest = new LinkedList<>(elements);
        T head = rest.remove(0);
        for (List<T> permutations : permutations(rest)) {
            List<List<T>> subLists = new ArrayList<>();
            for (int i = 0; i <= permutations.size(); i++) {
                List<T> subList = new ArrayList<>();
                subList.addAll(permutations);
                subList.add(i, head);
                subLists.add(subList);
            }
            result.addAll(subLists);
        }
        return result;
    }",Código em Conformidade,
Java,unique elements,"	public static String uniqueImplName(ENamedElement element) {
		String name = element.getName();
		if (name == null)
			name = element.eClass().getName();
		return uniqueName(element, name + IMPL_NAME_SUFFIX, element2uniqueImplName);
	}",Código em Conformidade,
Java,replace in file,"    private void replaceInFile(String oldText, String newText) {
        StringBuilder oldContent = new StringBuilder();

        try (FileReader fr = new FileReader(file); BufferedReader reader = new BufferedReader(fr)) {
            String line;
            while ((line = reader.readLine()) != null) {
                oldContent.append(line);
                oldContent.append(""\r\n"");
            }
        } catch (IOException e) {
            log.error(e);
        }

        // replace a word in a file
        String newContent = oldContent.toString().replaceAll(oldText, newText);

        try (FileWriter writer = new FileWriter(file)) {
            writer.write(newContent);
        } catch (IOException ioe) {
            log.error(ioe);
        }
    }",Código em Conformidade,
Java,custom http error response,"    public Object processSecurityPreInvokeException(SecurityViolationException sve, RequestProcessor requestProcessor, HttpServletRequest request,
            HttpServletResponse response, WebAppDispatcherContext dispatchContext, WebApp context, String name) throws ServletErrorReport {

        Object secObject = null;

        // begin pq56177

        secObject = sve.getWebSecurityContext();
        int sc = sve.getStatusCode(); // access status code directly. Is
                                      // SC_FORBIDDEN the default?
        // if (sc==null){
        // if
        // (com.ibm.ejs.ras.TraceComponent.isAnyTracingEnabled()&&logger.isLoggable
        // (Level.FINE) == true)
        // {
        // logger.logp(Level.FINE,
        // CLASS_NAME,""processSecurityPreInvokeException"",
        // ""webReply is null, default to 403 status code"");
        // }
        // sc = HttpServletResponse.SC_FORBIDDEN;
        // }
        Throwable cause = sve.getCause();

        if (com.ibm.ejs.ras.TraceComponent.isAnyTracingEnabled() && logger.isLoggable(Level.FINE) == true) {
            logger.entering(CLASS_NAME, ""processSecurityPreInvokeException"");
            logger.logp(Level.FINE, CLASS_NAME, ""processSecurityPreInvokeException"",
                    ""SecurityCollaboratorHelper.processPreInvokeException():  WebSecurityException thrown ("" + sve.toString()
                            + "").  HTTP status code: "" + sc + ""resource : "" + name);

        } // end if

        if (sc == HttpServletResponse.SC_FORBIDDEN) {
            // If the user has defined a custom error page for
            // SC_FORBIDDEN (HTTP status code 403) then send
            // it to the client ...
            if (context.isErrorPageDefined(sc) == true) {
                if (com.ibm.ejs.ras.TraceComponent.isAnyTracingEnabled() && logger.isLoggable(Level.FINE) == true) {
                    logger.logp(Level.FINE, CLASS_NAME, ""processSecurityPreInvokeException"", ""Using user defined error page for HTTP status code ""
                            + sc);
                }

                WebAppErrorReport wErrorReport = new WebAppErrorReport(cause);
                wErrorReport.setErrorCode(sc);
                context.sendError(request, response, wErrorReport);
            } else {
                // ... otherwise, use the one provided by the
                // SecurityCollaborator
                if (com.ibm.ejs.ras.TraceComponent.isAnyTracingEnabled() && logger.isLoggable(Level.FINE) == true) {
                    logger.logp(Level.FINE, CLASS_NAME, ""processSecurityPreInvokeException"",
                            ""Using default security error page for HTTP status code "" + sc);
                }

                try {
                    securityCollaborator.handleException(request, response, cause);
                } catch (Exception ex) {
                    if (requestProcessor != null) {
                        throw WebAppErrorReport.constructErrorReport(ex, requestProcessor);
                    } else {
                        throw WebAppErrorReport.constructErrorReport(ex, name);
                    }
                }
                // reply.sendError(wResp);
            } // end if-else
        } else if (sc == HttpServletResponse.SC_UNAUTHORIZED) {
            // Invoking handleException will add the necessary headers
            // to the response ...
            try {
                securityCollaborator.handleException(request, response, cause);
            } catch (Exception ex) {
                if (requestProcessor != null) {
                    throw WebAppErrorReport.constructErrorReport(ex, requestProcessor);
                } else {
                    throw WebAppErrorReport.constructErrorReport(ex, name);
                }
            }

            // ... if the user has defined a custom error page for
            // SC_UNAUTHORIZED (HTTP status code 401) then
            // send it to the client
            if (context.isErrorPageDefined(sc) == true) {
            	
            	WebContainerRequestState reqState = com.ibm.wsspi.webcontainer.WebContainerRequestState.getInstance(false);
    			boolean errorPageAlreadySent = false;
    			if (reqState!=null) {
    				String spnegoErrorPageAlreadySent = (String)reqState.getAttribute(""spnego.error.page"");
    				reqState.removeAttribute(""spnego.error.page"");
    				if (spnegoErrorPageAlreadySent != null && spnegoErrorPageAlreadySent.equalsIgnoreCase(""true"")) {  					    		
    					errorPageAlreadySent = true; 
    				    if (com.ibm.ejs.ras.TraceComponent.isAnyTracingEnabled()&&logger.isLoggable (Level.FINE) == true) {
    				         logger.logp(Level.FINE, CLASS_NAME,""processSecurityPreInvokeException"", ""skip error page - already created by spego code"");
    				    }	
    				}    
    			} 

    			if (!errorPageAlreadySent) {

    				if (com.ibm.ejs.ras.TraceComponent.isAnyTracingEnabled() && logger.isLoggable(Level.FINE) == true) {
    					logger.logp(Level.FINE, CLASS_NAME, ""processSecurityPreInvokeException"", ""Using user defined error page for HTTP status code ""
    							+ sc);
    				}

    				WebAppErrorReport wErrorReport = new WebAppErrorReport(cause);
    				wErrorReport.setErrorCode(sc);
    				context.sendError(request, response, wErrorReport);
    				
    			}	
            } else {
                if (com.ibm.ejs.ras.TraceComponent.isAnyTracingEnabled() && logger.isLoggable(Level.FINE) == true) {
                    logger.logp(Level.FINE, CLASS_NAME, ""processSecurityPreInvokeException"",
                            ""Using default security error page for HTTP status code "" + sc);
                }
                // reply.sendError(wResp); comment-out 140967
            }

        } else {
            // Unexpected status code ... not SC_UNAUTHORIZED or SC_FORBIDDEN
            if ((logger.isLoggable(Level.FINE) == true)) {
                logger.logp(Level.FINE, CLASS_NAME, ""processSecurityPreInvokeException"", ""HTTP status code: "" + sc);
            }
            try {
                securityCollaborator.handleException(request, response, cause);
            } catch (Exception ex) {
                if (requestProcessor != null) {
                    throw WebAppErrorReport.constructErrorReport(ex, requestProcessor);
                } else {
                    throw WebAppErrorReport.constructErrorReport(ex, name);
                }
            }
        }
        if (com.ibm.ejs.ras.TraceComponent.isAnyTracingEnabled() && logger.isLoggable(Level.FINE) == true) {
            logger.exiting(CLASS_NAME, ""processSecurityPreInvokeException"");
        }
        return secObject;
    }",Código em Conformidade,
Java,convert a date string into yyyymmdd,"	public static Date getDay(String string) {
		if (string == null) {
			return null;
		}
		Date date = null;
		try {
			date = (new SimpleDateFormat(""dd-MMM-yyyy"").parse(string));
		}
		catch (ParseException ex) {
			return null;
		}
		return date;
	}",Código em Conformidade,
Java,parse binary file to custom class,,Código em Conformidade,
Java,export to excel,"    public void exportObjects2Excel(List<?> data, List<String> header, String sheetName,
                                    boolean isXSSF, OutputStream os)
            throws IOException {

        try (Workbook workbook = exportExcelBySimpleHandler(data, header, sheetName, isXSSF)) {
            workbook.write(os);
        }
    }",Bug Crítico,
Java,extract latitude and longitude from given input,"  private String getLatitudeField() throws GeneratorException {
    String lat = latitude.getText();
    if (!lat.matches(LAT_REGEXP)) {
      throw new GeneratorException(""Latitude is not a correct value."");
    }
    double val = Double.parseDouble(lat);
    if (val < -90.0 || val > 90.0) {
      throw new GeneratorException(""Latitude must be in [-90:90]"");
    }
    return lat;
  }",Código em Conformidade,
Java,parse command line argument,"    private CommandLine parseArgs(String[] args) throws ParseException {
        final CommandLineParser parser = new DefaultParser();
        final Options options = createCommandLineOptions();
        return parser.parse(options, args);
    }",Código em Conformidade,
Java,readonly array,"    public void setReadOnly(boolean readOnly) {
        this.readOnly = readOnly;
        firePropertyChange(READ_ONLY_PROPERTY, oldReadOnly, isReadOnly());
        oldReadOnly = isReadOnly();
    }",Código em Conformidade,
Java,httpclient post json,"    @Override
    public String post(String host, int port, String schema, String uri, String body) {
        try {
            HttpClient client = HttpClients.createDefault();
            HttpPost post = new HttpPost(uri);
            post.setHeader(""Host"", host);
            post.setHeader(""Content-Type"", ""application/x-www-form-urlencoded"");
            post.setEntity(new StringEntity(body));
            HttpResponse execute = client.execute(new HttpHost(host, port, schema), post);
            return response(execute);
        } catch (ClientProtocolException e) {
            e.printStackTrace();
            throw new RuntimeException(e);
        } catch (IOException e) {
            e.printStackTrace();
            throw new RuntimeException(e);
        }
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,group by count,"  protected static String getGroup(final Matcher matcher, final int group)
  {
    final int groupCount = matcher.groupCount();
    if (groupCount > group - 1)
    {
      return matcher.group(group);
    }
    else
    {
      return null;
    }
  }",Código em Conformidade,
Java,parse json file,"    private CFile parseCFile( JSONObject jObj )
    {
        CFile cfile;

        if ( jObj.optBoolean( ""is_dir"", false ) ) {
            cfile = new CFolder( new CPath( jObj.getString( ""path"" ) ) );

        } else {
            cfile = new CBlob( new CPath( jObj.getString( ""path"" ) ), jObj.getLong( ""bytes"" ), jObj.getString( ""mime_type"" ) );
            String stringDate = jObj.getString( ""modified"" );

            try {
                // stringDate looks like: ""Fri, 07 Mar 2014 17:47:55 +0000""
                SimpleDateFormat sdf = new SimpleDateFormat( ""EEE, dd MMM yyyy HH:mm:ss Z"", Locale.US );
                Date modified = sdf.parse( stringDate );
                cfile.setModificationDate( modified );

            } catch ( ParseException ex ) {
                throw new CStorageException( ""Can't parse date modified: "" + stringDate + "" ("" + ex.getMessage() + "")"", ex );
            }
        }

        return cfile;
    }",Código em Conformidade,
Java,get current ip address,"	private void readConfig() throws KNXException
	{
		final List config = new ArrayList();
		int pid = PropertyClient.PID.KNX_INDIVIDUAL_ADDRESS;
		byte[] data = query(pid);
		if (data != null)
			add(config, pid, ""KNXnet/IP server"", new IndividualAddress(data).toString());
		add(config, PropertyClient.PID.FRIENDLY_NAME, ""name"", queryFriendlyName());

		pid = PropertyClient.PID.IP_CAPABILITIES;
		if ((data = query(pid)) != null)
			add(config, pid, ""IP address assignment available"",
				getIPAssignment(new byte[] { (byte) (data[0] << 1 | 0x01) }));

		pid = PropertyClient.PID.IP_ASSIGNMENT_METHOD;
		if ((data = query(pid)) != null)
			add(config, pid, ""IP address assignment enabled"", getIPAssignment(data));

		pid = PropertyClient.PID.CURRENT_IP_ASSIGNMENT_METHOD;
		if ((data = query(pid)) != null)
			add(config, pid, ""IP address assignment current"", getIPAssignment(data));

		pid = PropertyClient.PID.KNXNETIP_ROUTING_CAPABILITIES;
		if ((data = query(pid)) != null)
			add(config, pid, ""routing capabilities"", getRoutingCaps(data));

		addIP(config, PropertyClient.PID.IP_ADDRESS, ""IP address configured"");
		addIP(config, PropertyClient.PID.CURRENT_IP_ADDRESS, ""IP address current"");
		addIP(config, PropertyClient.PID.SUBNET_MASK, ""subnet mask configured"");
		addIP(config, PropertyClient.PID.CURRENT_SUBNET_MASK, ""subnet mask  current"");
		addIP(config, PropertyClient.PID.DEFAULT_GATEWAY, ""default gateway configured"");
		addIP(config, PropertyClient.PID.CURRENT_DEFAULT_GATEWAY,
			""default gateway current"");
		addIP(config, PropertyClient.PID.DHCP_BOOTP_SERVER, ""DHCP/BootP server"");
		addIP(config, PropertyClient.PID.ROUTING_MULTICAST_ADDRESS, ""routing multicast"");

		receivedConfig(config);
	}",Código em Conformidade,
Java,print model summary,"  private static void summarizeNBModel(ModelSummary summary, hex.nb.NBModel model) {
    // add generic fields such as column names
    summarizeModelCommonFields(summary, model);

    summary.model_algorithm = ""Naive Bayes"";

    JsonObject all_params = (model.get_params()).toJSON();
    summary.critical_parameters = whitelistJsonObject(all_params, NB_critical_params);
    summary.secondary_parameters = whitelistJsonObject(all_params, NB_secondary_params);
    summary.expert_parameters = whitelistJsonObject(all_params, NB_expert_params);
  }",Código em Conformidade,
Java,randomly extract x items from a list,"  public static <T> List<T> randomListFrom(Iterable<T> elements, Range<Integer> size) {
    checkArgument(!isEmpty(elements), ""Elements to populate from must not be empty"");
    return randomListFrom(() -> IterableUtils.randomFrom(elements), size);
  }",Código em Conformidade,
Java,parse query string in url,"    private void parseQuery(String query) {
        // throw out the funky business - ""?""[name""=""value""&""]+
        query = query.replaceAll(""/&+/g"", ""&"").replaceAll(""/^\\?*&*|&+$/g"", """");

        if (query.isEmpty())
            return;

        queryParams = GWT.create(Buckets.class);
        String[] p, pairs = query.split(""&"");
        String name, value;
        for (final String pair : pairs) {
            p = pair.split(""="");
            name = urlCodec.decodeQueryString(p[0]);
            // no ""="" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters
            value = p.length > 1 && !p[1].isEmpty() ? urlCodec.decodeQueryString(p[1]) : null;
            queryParams.add(name, value);
        }
    }",Código em Conformidade,
Java,deserialize json,"    @Override
    public TypedObject deserialize(JsonParser jp, DeserializationContext ctxt)
            throws IOException
    {
        try {
            JsonNode jsonNode = jp.readValueAsTree();
            return deserializeObject(jsonNode);
        }
        catch (Exception e) {
            throw new JsonMappingException(""Invalid object class"", e);
        }
    }",Código em Conformidade,
Java,parse json file,"	static public JSONObject readJsonObjectFile(File file) throws Exception {
		try {
			JSONObject json = null;
			
			String jsonStr = TextFileUtils.readTextFile(file);
			
			JSONTokener tokener = new JSONTokener(jsonStr);
			Object o = tokener.nextValue();
			if( o instanceof JSONObject ){
				json = (JSONObject)o;
			} else {
				throw new Exception(""Unexpected class: ""+o.getClass().getName());
			}
			
			// Check that file is empty
			if( tokener.more() ) {
				throw new Exception(""File contains more than the object"");
			}
			
			return json;

		} catch (Exception e) {
			throw new Exception(""Error while parsing JSON Object file: ""+file);
		}
	}",Código em Conformidade,
Java,binomial distribution,"    private static double scoreToPvalue(double score, int n, double p) {
        /*
        if(n<=20) {
            //calculate it from binomial distribution
        }
        */

        double z=(score+0.5-n*p)/Math.sqrt(n*p*(1.0-p));

        return ContinuousDistributions.gaussCdf(z);
    }",Código em Conformidade,
Java,httpclient post json,"   	private static JSONObject doPostRequest(HttpPost httpPost, HashMap<String, String> params) throws JSONException {
    	JSONObject json = null;
        HttpClient postClient = HttpClientBuilder.create().build();
        HttpResponse response;
        
        try {
            response = postClient.execute(httpPost);
            
            if(response.getStatusLine().getStatusCode() == 200) {
                HttpEntity entity = response.getEntity();
                
                if (entity != null) {
                    InputStream instream = entity.getContent();  
                    String result = convertStreamToString(instream);
                    instream.close();
                    
                    json = new JSONObject(result);
                }
            } else {
            	json = UpworkRestClient.genError(response);
            }
        } catch (ClientProtocolException e) {
            json = UpworkRestClient.genError(HTTP_RESPONSE_503, ""Exception: ClientProtocolException"");
        } catch (IOException e) {
            json = UpworkRestClient.genError(HTTP_RESPONSE_503, ""Exception: IOException"");
        } catch (JSONException e) {
            json = UpworkRestClient.genError(HTTP_RESPONSE_503, ""Exception: JSONException"");  
        } catch (Exception e) {
            json = UpworkRestClient.genError(HTTP_RESPONSE_503, ""Exception: Exception "" + e.toString());
        } finally {
            httpPost.abort();
        }
        
        return json;
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,create cookie,"    public void createCookie(String name, String value, String domain, String path) {
        BasicClientCookie cookie = new BasicClientCookie(name, value);
        cookie.setDomain(domain);
        if (path != null) {
            cookie.setPath(path);
        }
        httpClient.getCookieStore().addCookie(cookie);
    }",Código em Conformidade,
Java,how to read .csv file in an efficient way?,"    private Set<String> convertCsvToSet(String csv) {
        // A null line in the file indicates an empty file so return an empty
        // set as it means no APARs were found
        if (csv == null) {
            return Collections.emptySet();
        }

        // If we got this far then we must of found the CSV file so process it
        // to find the APAR IDs
        Set<String> fixPackAparIds = new HashSet<String>();
        String[] aparIds = csv.split("","");
        for (String id : aparIds) {
            fixPackAparIds.add(id);
        }
        return fixPackAparIds;
    }",Código em Conformidade,
Java,custom http error response,"	@Override
	public <Resp> void response(HttpAdapter<?, Resp> adapter, Resp res, Throwable error,
			SpanCustomizer customizer) {
		if (res == null) {
			error(null, error, customizer);
			return;
		}
		Integer httpStatus = adapter.statusCode(res);
		if (httpStatus == null) {
			error(httpStatus, error, customizer);
			return;
		}
		if (httpStatus == HttpServletResponse.SC_OK && error != null) {
			// Filter chain threw exception but the response status may not have been set
			// yet, so we have to guess.
			customizer.tag(STATUS_CODE_KEY,
					String.valueOf(HttpServletResponse.SC_INTERNAL_SERVER_ERROR));
		}
		// only tag valid http statuses
		else if (httpStatus >= 100 && (httpStatus < 200) || (httpStatus > 399)) {
			customizer.tag(STATUS_CODE_KEY, String.valueOf(httpStatus));
		}
		error(httpStatus, error, customizer);
	}",Código em Conformidade,
Java,get executable path,"    private static String javaCommand() {
        Path javaBinPath = Paths.get(System.getProperty(""java.home""), ""bin"");
        File javaExecutable = javaBinPath.resolve(""java"").toFile();
        if (!javaExecutable.exists()) {
            javaExecutable = javaBinPath.resolve(""java.exe"").toFile();
        }
        return javaExecutable.getAbsolutePath();
    }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,find int in string,"	public static String replace(final String string, final String find, final String replacement) {
		int pos = string.indexOf(find);
		//System.out.println(string+"": ""+find+"" at ""+pos);
		if (pos == -1) return string;
		StringBuilder SB = new StringBuilder();
		int lastpos = 0;
		final int findLen = find.length();
		do {
			SB.append(string, lastpos, pos).append(replacement);
			lastpos = pos + findLen;
			pos = string.indexOf(find, lastpos);
		} while (pos != -1);
		int len = string.length();
		if(lastpos<len) SB.append(string, lastpos, len);
		return SB.toString();
	}",Código com Débito Técnico,
Java,memoize to disk  - persistent memoization,"  void exportToMemory(final WritableMemory wmem) {
    final Format format = getFormat();
    switch (format) {
      case EMPTY_MERGED : {
        putEmptyMerged(wmem, lgK, seedHash);
        break;
      }
      case EMPTY_HIP : {
        putEmptyHip(wmem, lgK, seedHash);
        break;
      }
      case SPARSE_HYBRID_MERGED : {
        putSparseHybridMerged(wmem,
            lgK,
            (int) numCoupons, //unsigned
            csvLengthInts,
            seedHash,
            csvStream);
        break;
      }
      case SPARSE_HYBRID_HIP : {
        putSparseHybridHip(wmem,
            lgK,
            (int) numCoupons, //unsigned
            csvLengthInts,
            kxp,
            hipEstAccum,
            seedHash,
            csvStream);
        break;
      }
      case PINNED_SLIDING_MERGED_NOSV : {
        putPinnedSlidingMergedNoSv(wmem,
            lgK,
            fiCol,
            (int) numCoupons, //unsigned
            cwLengthInts,
            seedHash,
            cwStream);
        break;
      }
      case PINNED_SLIDING_HIP_NOSV : {
        putPinnedSlidingHipNoSv(wmem,
            lgK,
            fiCol,
            (int) numCoupons, //unsigned
            cwLengthInts,
            kxp,
            hipEstAccum,
            seedHash,
            cwStream);
        break;
      }
      case PINNED_SLIDING_MERGED : {
        putPinnedSlidingMerged(wmem,
            lgK,
            fiCol,
            (int) numCoupons, //unsigned
            numCsv,
            csvLengthInts,
            cwLengthInts,
            seedHash,
            csvStream,
            cwStream);
        break;
      }
      case PINNED_SLIDING_HIP : {
        putPinnedSlidingHip(wmem,
            lgK,
            fiCol,
            (int) numCoupons, //unsigned
            numCsv,
            kxp,
            hipEstAccum,
            csvLengthInts,
            cwLengthInts,
            seedHash,
            csvStream,
            cwStream);
        break;
      }
    }
  }",Código em Conformidade,
Java,deserialize json,"	public static Object deserialize(String json, TypeReference<?> typeReference) throws SerializationException {
		try {
			logger.debug(""Json string to deserialize {} "", json);
			return mapper.readValue(json, typeReference);
		} catch (IOException e) {
			logger.error(""SerializationException {}"", e.getMessage());
			SerializationException serializationException = new SerializationException(e);
			throw serializationException;
		}
	}",Código em Conformidade,
Java,html entities replace,"    private String filterKnownEntities(String html) {
        return html.replace(ENTITY_QUOTE, SYMBOL_QUOTE)
                .replace(ENTITY_EQUAL_, SYMBOL_EQUAL)
                .replace(ENTITY_EQUAL, SYMBOL_EQUAL);
    }",Código em Conformidade,
Java,unzipping large files,"   @Override
   public void extractTo(DirectoryResource directoryResource)
   {
      try
      {
         getZipFile().extractAll(directoryResource.getFullyQualifiedName());
      }
      catch (ZipException e)
      {
         throw new ResourceException(""Error while unzipping files"", e);
      }
   }",Código em Conformidade,
Java,encrypt aes ctr mode,"public static EncryptionMode getEncryptionModeCipher(String encryptionMode) {
	if (encryptionMode==null) {
		return null;
	}
	switch (encryptionMode) {
		case ""agile"": return EncryptionMode.agile;
		case ""binaryRC4"": return EncryptionMode.binaryRC4;
		case ""cryptoAPI"": return EncryptionMode.cryptoAPI;
		case ""standard"": return EncryptionMode.standard;
		default:
			LOG.error(""Uknown enncryption mode \""""+encryptionMode+""\"""");
			break;
		//case ""xor"": return EncryptionMode.xor; // does not seem to be supported anymore
	}
	return null;
}",Código em Conformidade,
Java,deducting the median from each column,"  @Override
  public List<Assignment> assign(Collection<String> suiteNames, int slaves, long seed) {
    // Read hints first.
    final Map<String,List<Long>> hints = ExecutionTimesReport.mergeHints(resources, suiteNames);

    // Preprocess and sort costs. Take the median for each suite's measurements as the 
    // weight to avoid extreme measurements from screwing up the average.
    final List<SuiteHint> costs = new ArrayList<>();
    for (String suiteName : suiteNames) {
      final List<Long> suiteHint = hints.get(suiteName);
      if (suiteHint != null) {
        // Take the median for each suite's measurements as the weight
        // to avoid extreme measurements from screwing up the average.
        Collections.sort(suiteHint);
        final Long median = suiteHint.get(suiteHint.size() / 2);
        costs.add(new SuiteHint(suiteName, median));
      }
    }
    Collections.sort(costs, SuiteHint.DESCENDING_BY_WEIGHT);

    // Apply the assignment heuristic.
    final PriorityQueue<SlaveLoad> pq = new PriorityQueue<SlaveLoad>(
        slaves, SlaveLoad.ASCENDING_BY_ESTIMATED_FINISH);
    for (int i = 0; i < slaves; i++) {
      pq.add(new SlaveLoad(i));
    }

    final List<Assignment> assignments = new ArrayList<>();
    for (SuiteHint hint : costs) {
      SlaveLoad slave = pq.remove();
      slave.estimatedFinish += hint.cost;
      pq.add(slave);

      owner.log(""Expected execution time for "" + hint.suiteName + "": "" +
          Duration.toHumanDuration(hint.cost),
          Project.MSG_DEBUG);

      assignments.add(new Assignment(hint.suiteName, slave.id, (int) hint.cost));
    }

    // Dump estimated execution times.
    TreeMap<Integer, SlaveLoad> ordered = new TreeMap<Integer, SlaveLoad>();
    while (!pq.isEmpty()) {
      SlaveLoad slave = pq.remove();
      ordered.put(slave.id, slave);
    }
    for (Integer id : ordered.keySet()) {
      final SlaveLoad slave = ordered.get(id);
      owner.log(String.format(Locale.ROOT, 
          ""Expected execution time on JVM J%d: %8.2fs"",
          slave.id,
          slave.estimatedFinish / 1000.0f), 
          verbose ? Project.MSG_INFO : Project.MSG_DEBUG);
    }

    return assignments;
  }",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,parse command line argument,"    private StartArgs doParse(final String[] args) throws ParseException {
        CommandLineParser parser = new DefaultParser();
        CommandLine cmd = parser.parse(options(), args);
        return parseArgs(cmd);
    }",Código em Conformidade,
Java,get all parents of xml node,"    private static List<OSMNode> getNodes(NodeList children, Map<String, OSMNode> nodes) {
        List<OSMNode> result = new ArrayList<OSMNode>();

        Node node;
        String nodeName;
        
        for (int i = 0; i < children.getLength(); i++) {
            
            node = children.item(i);
            nodeName = node.getNodeName();

            if (nodeName.equals(""nd"")) {

                result.add(nodes.get(node.getAttributes().
                        getNamedItem(""ref"").getNodeValue()));
                
            }
        }

        return result;
    }",Código em Conformidade,
Java,how to get database table name,"  public String getFQTableName()
  {
    String strReturn = null;
    // Are table names supported in table definitions?
    if (aSchema.getDBCatalog().getDBMeta().getSupportsCatalogsInTableDefinitions ())
    {
      // Yes, include catalog name in fq table name
      // Now check, where we have to specify the catalog
      if (aSchema.getDBCatalog().getDBMeta().getIsCatalogAtStart ())
      {
        // At the beginning
        strReturn = aSchema.getDBCatalog().getCatalogName() 
          + aSchema.getDBCatalog().getDBMeta().getCatalogSeparator ()
          + aSchema.getSchemaName() + ""."" + this.getTableName();
      }
      else
      {
        // At the end
        strReturn = aSchema.getSchemaName() + ""."" + this.getTableName()
          + aSchema.getDBCatalog().getDBMeta().getCatalogSeparator ()
          + aSchema.getDBCatalog().getCatalogName();
      }
    }
    else
    {
      strReturn = aSchema.getSchemaName() + ""."" + this.getTableName();
    }
    return strReturn;
  }",Código em Conformidade,
Java,get current ip address,"    public InetAddress getIpAddress() throws UnknownHostException
    {
        byte[] ip = this.ipAddress;

        if (ip.length == 8 || ip.length == 32) {
            ip = new byte[ip.length / 2];
            System.arraycopy(this.ipAddress, 0, ip, 0, ip.length);
        }

        return InetAddress.getByAddress(ip);
    }",Código em Conformidade,
Java,group by count,"    @Override
    public void _groupByCount(String projectedName) {
        assertNoRawQuery();
        isGroupBy = true;

        selectTokens.add(GroupByCountToken.create(projectedName));
    }",Código em Conformidade,
Java,html entities replace,"    public static String replaceHtmlEntitiesWithCodes(String input) throws IOException {
        String output = input;
        Map<String, String> entitiesMap = new HashMap<String, String>();
        InputStream is = StringConversionUtils.class.getResourceAsStream(""/html_entities_map.txt"");
        String[] result = IOUtils.toString(is).split(""\n"");
        is.close();
        for (String line : result) {
            entitiesMap.put(line.split(""(\\s+)"")[0], line.split(""(\\s+)"")[1]);
        }
        for (Entry<String, String> entry : entitiesMap.entrySet()) {
            output = output.replace(entry.getKey(), entry.getValue());
        }
        return output;
    }",Bug Crítico,
Java,scatter plot,"    public ScatterPlot points(String id, double[][] data, Color color) {
        if (data[0].length != base.dimension) {
            throw new IllegalArgumentException(""Invalid data dimension: "" + data[0].length);
        }

        double[] lowerBound = Math.colMin(data);
        double[] upperBound = Math.colMax(data);
        extendBound(lowerBound, upperBound);

        ScatterPlot plot = new ScatterPlot(data);
        plot.setID(id);
        plot.setColor(color);
        add(plot);

        return plot;
    }",Código em Conformidade,
Java,replace in file,"    public boolean replaceStringsInFile(String filePath, Map<String, String> replaceValues, String outputFilePath) {
        String method = ""replaceStringsInFile"";
        if (filePath == null || filePath.isEmpty()) {
            Log.info(c, method, ""No file path provided"");
            return false;
        }
        try {
            Log.info(c, method, ""Source file name: "" + filePath);

            File inp = new File(filePath);
            InputStreamReader inputStream = new InputStreamReader(new FileInputStream(inp));
            BufferedReader dataStream = new BufferedReader(inputStream);

            Vector<String> vec = new Vector<String>(200, 200);

            String currentLine = null;
            boolean changeMade = false;
            while ((currentLine = dataStream.readLine()) != null) {
                for (String key : replaceValues.keySet()) {
                    String origLine = currentLine;
                    String replaceVal = replaceValues.get(key);
                    currentLine = currentLine.replace(key, replaceVal);
                    if (!origLine.equals(currentLine)) {
                        changeMade = true;
                        // comment out for now to reduce size of output.txt
                        //                        Log.info(c, method, ""origStr: ["" + key + ""], newStr: ["" + replaceVal + ""]"");
                        //                        Log.info(c, method, ""Before : "" + origLine);
                        //                        Log.info(c, method, ""After  : "" + currentLine);
                    }
                }
                vec.addElement(currentLine);
            }

            dataStream.close();

            if (changeMade) {
                if (outputFilePath == null || outputFilePath.isEmpty()) {
                    Log.info(c, method, ""Null or empty output file path provided; will write changes to original file"");
                    outputFilePath = filePath;
                }
                Log.info(c, method, ""Change detected; writing changes to file: "" + outputFilePath);
                OutputStreamWriter osw = new OutputStreamWriter(new FileOutputStream(outputFilePath));
                PrintWriter ps = new PrintWriter(osw, true);

                int totalLines = vec.size();
                for (int j = 0; j < totalLines; j++) {
                    currentLine = vec.elementAt(j);
                    ps.println(currentLine);
                }
                ps.close();
            } else {
                Log.info(c, method, ""No changes detected - file was not written!"");
            }
        } catch (Exception e) {
            Log.error(c, method, e);
            return false;
        }
        return true;
    }",Código em Conformidade,
Java,randomly extract x items from a list,"    public static <T extends EurekaEndpoint> List<T> randomize(List<T> list) {
        List<T> randomList = new ArrayList<>(list);
        if (randomList.size() < 2) {
            return randomList;
        }
        Random random = new Random(LOCAL_IPV4_ADDRESS.hashCode());
        int last = randomList.size() - 1;
        for (int i = 0; i < last; i++) {
            int pos = random.nextInt(randomList.size() - i);
            if (pos != i) {
                Collections.swap(randomList, i, pos);
            }
        }
        return randomList;
    }",Código em Conformidade,
Java,replace in file,"	public static void replaceInFile(File file, String regex,
			String replacement)
	{
		replaceInFile(file.getAbsolutePath(), regex, replacement);
	}",Código em Conformidade,
Java,how to reverse a string,"    private static String reverseString(String in) {
        StringBuilder out = new StringBuilder(in).reverse();
        return out.toString();
    }",Código em Conformidade,
Java,html encode string,"    public static void forHtmlUnquotedAttribute(Writer out, String input)
        throws IOException
    {
        encode(Encoders.HTML_UNQUOTED_ATTRIBUTE_ENCODER, out, input);
    }",Código em Conformidade,
Java,save list to file,"    public synchronized void save() {
        if (BulkChange.contains(this)) {
            return;
        }
        
        File file = getConfigFile();
        try {
            List<String> allSignatures = new ArrayList<>(whitelistSignaturesFromUserControlledList);
            blacklistSignaturesFromUserControlledList.stream()
                    .map(signature -> ""!"" + signature)
                    .forEach(allSignatures::add);
            
            FileUtils.writeLines(file, allSignatures);
        } catch (IOException e) {
            LOGGER.log(Level.WARNING, ""Failed to save "" + file.getAbsolutePath(), e);
        }
    }",Código em Conformidade,
Java,encode url,"  public static HttpRequest head(final CharSequence baseUrl,
      final Map<?, ?> params, final boolean encode) {
    String url = append(baseUrl, params);
    return head(encode ? encode(url) : url);
  }",Código em Conformidade,
Java,get executable path,"	public static void copy(Path sourcePath, Path targetPath, boolean executable) throws IOException {
		// we unwrap the file system to get raw streams without safety net
		FileSystem sFS = FileSystem.getUnguardedFileSystem(sourcePath.toUri());
		FileSystem tFS = FileSystem.getUnguardedFileSystem(targetPath.toUri());
		if (!tFS.exists(targetPath)) {
			if (sFS.getFileStatus(sourcePath).isDir()) {
				internalCopyDirectory(sourcePath, targetPath, executable, sFS, tFS);
			} else {
				internalCopyFile(sourcePath, targetPath, executable, sFS, tFS);
			}
		}
	}",Vulnerabilidade (Injeção de Comandos - OWASP),
Java,string similarity levenshtein,"    public static double similarLevenshtein(String s1, String s2) {
        if (s1.equals(s2)) {
            return 1.0;
        }

        // Make sure s1 is the longest string
        if (s1.length() < s2.length()) {
            String swap = s1;
            s1 = s2;
            s2 = swap;
        }

        int bigLength = s1.length();
        return (bigLength - StringUtils.getLevenshteinDistance(s2, s1)) / (double) bigLength;
    }",Código em Conformidade,
Java,export to excel,"	@Override
	public RecordReader<Text, SpreadSheetCellDAO> createRecordReader(InputSplit split, TaskAttemptContext ctx) {
	// send configuration option to ms excel. The format of the Excel (old vs new) is detected automaitcally
	ctx.getConfiguration().set(HadoopOfficeReadConfiguration.CONF_MIMETYPE,""ms-excel"");
	return new ExcelCellRecordReader(ctx.getConfiguration(), (FileSplit) split);
	}",Código em Conformidade,
Java,heatmap from 3d coordinates,"	private void getLatLonsForPolygon( List<Double> polLons, List<Double> polLats){

		Gridset gridset = gridDataset.getGridsets().get(0);

		GridCoordSystem coordSystem = gridset.getGeoCoordSystem();
		ProjectionImpl fromProj = coordSystem.getProjection();
		coordSystem.getLatLonBoundingBox();

		if( coordSystem.getYHorizAxis() instanceof CoordinateAxis1D &&  coordSystem.getXHorizAxis() instanceof CoordinateAxis1D ){

			CoordinateAxis1D xAxis = (CoordinateAxis1D) coordSystem.getXHorizAxis();
			CoordinateAxis1D yAxis  =(CoordinateAxis1D) coordSystem.getYHorizAxis();			

			if(coordSystem.isGlobalLon()) {

				double maxy = yAxis.getMaxValue();
				double miny = yAxis.getMinValue();

				polLons.add(0.0);
				polLats.add(miny);
				
				polLons.add(360.0);
				polLats.add(miny);
				
				polLons.add(360.0);
				polLats.add(maxy);
				
				polLons.add(0.0);
				polLats.add(maxy);
				
				polLons.add(0.0);
				polLats.add(miny);				
				
				//polygonWKT.append(""-180 ""+ miny +"", 180 ""+ miny +"", 180 ""+ maxy +"", -180 ""+ maxy +"", -180 ""+ miny +""] ))"");
				//polygonWKT.append(""0 ""+ miny +"", 360 ""+ miny +"", 360 ""+ maxy +"", 0 ""+ maxy +"", 0 ""+ miny +""] ))"");
				//return polygonWKT.toString();

			}else{

				double[] xCoords = xAxis.getCoordValues();
				double[] yCoords = yAxis.getCoordValues();


				LatLonPoint prev = fromProj.projToLatLon(xCoords[0], yCoords[0]);

				//Bottom edge
				for( double x : xCoords  ){
					LatLonPoint point = fromProj.projToLatLon(x, yCoords[0]);

					if( point.getLongitude() < minLon ) minLon = point.getLongitude();  
					if( point.getLongitude() > maxLon ) maxLon = point.getLongitude();

					if( Math.abs(prev.getLongitude() - point.getLongitude() ) > maxDiff   )
						maxDiff = Math.abs(prev.getLongitude() - point.getLongitude() );

					polLons.add(point.getLongitude());
					polLats.add(point.getLatitude());
					prev = point;
				}

				//Right edge
				for( double y : yCoords  ){
					LatLonPoint point = fromProj.projToLatLon(xCoords[xCoords.length-1], y);

					if( point.getLongitude() < minLon ) minLon = point.getLongitude();  
					if( point.getLongitude() > maxLon ) maxLon = point.getLongitude();	

					if( Math.abs(prev.getLongitude() - point.getLongitude() ) > maxDiff   )
						maxDiff = Math.abs(prev.getLongitude() - point.getLongitude() );				

					polLons.add(point.getLongitude());
					polLats.add(point.getLatitude());				
					prev = point;

				}	  

				//Top
				for( int i = xCoords.length-1; i>=0; i--  ){
					LatLonPoint point = fromProj.projToLatLon(xCoords[i], yCoords[yCoords.length-1]);

					if( point.getLongitude() < minLon ) minLon = point.getLongitude();  
					if( point.getLongitude() > maxLon ) maxLon = point.getLongitude();

					if( Math.abs(prev.getLongitude() - point.getLongitude() ) > maxDiff   )
						maxDiff = Math.abs(prev.getLongitude() - point.getLongitude() );

					polLons.add(point.getLongitude());
					polLats.add(point.getLatitude());				
					prev = point;

				}	  

				//Left edge
				for( int i = yCoords.length-1; i>=0; i--  ){

					LatLonPoint point = fromProj.projToLatLon(xCoords[0], yCoords[i]);

					if( point.getLongitude() < minLon ) minLon = point.getLongitude();  
					if( point.getLongitude() > maxLon ) maxLon = point.getLongitude();	

					if( Math.abs(prev.getLongitude() - point.getLongitude() ) > maxDiff   )
						maxDiff = Math.abs(prev.getLongitude() - point.getLongitude() );				

					polLons.add(point.getLongitude());
					polLats.add(point.getLatitude() );				
					prev = point;
				}

			}			

		}else if( coordSystem.getYHorizAxis() instanceof CoordinateAxis2D &&  coordSystem.getXHorizAxis() instanceof CoordinateAxis2D ){

			//Get boundaries from 2d axis...
			CoordinateAxis2D xAxis = (CoordinateAxis2D) coordSystem.getXHorizAxis();
			CoordinateAxis2D yAxis  =(CoordinateAxis2D) coordSystem.getYHorizAxis();

			int[] xShape = xAxis.getShape();
			int[] yShape = yAxis.getShape();


			LatLonPoint prev = fromProj.projToLatLon(xAxis.getCoordValue(0, 0), yAxis.getCoordValue(0, 0));

			for(int i = 0; i < xShape[0]; i++ ){
				double x = xAxis.getCoordValue(i, 0);
				double y = yAxis.getCoordValue(i, 0);

				LatLonPoint point = fromProj.projToLatLon(x, y);

				if( point.getLongitude() < minLon ) minLon = point.getLongitude();  
				if( point.getLongitude() > maxLon ) maxLon = point.getLongitude();

				if( Math.abs(prev.getLongitude() - point.getLongitude() ) > maxDiff )
					maxDiff = Math.abs(prev.getLongitude() - point.getLongitude() );

				polLons.add(point.getLongitude());
				polLats.add(point.getLatitude());					
				prev = point;
			}

			for(int i = 0; i < xShape[1]; i++ ){
				double x = xAxis.getCoordValue(xShape[0]-1, i);
				double y = yAxis.getCoordValue(xShape[0]-1, i);

				LatLonPoint point = fromProj.projToLatLon(x, y);
				if( point.getLongitude() < minLon ) minLon = point.getLongitude();  
				if( point.getLongitude() > maxLon ) maxLon = point.getLongitude();

				if( Math.abs(prev.getLongitude() - point.getLongitude() ) > maxDiff )
					maxDiff = Math.abs(prev.getLongitude() - point.getLongitude() );

				polLons.add(point.getLongitude());
				polLats.add(point.getLatitude());					
				prev = point;					
			}

			for(int i = xShape[0]-1 ; i >= 0; i-- ){
				double x = xAxis.getCoordValue(i, xShape[1]-1);
				double y = yAxis.getCoordValue(i, xShape[1]-1);

				LatLonPoint point = fromProj.projToLatLon(x, y);
				if( point.getLongitude() < minLon ) minLon = point.getLongitude();  
				if( point.getLongitude() > maxLon ) maxLon = point.getLongitude();

				if( Math.abs(prev.getLongitude() - point.getLongitude() ) > maxDiff )
					maxDiff = Math.abs(prev.getLongitude() - point.getLongitude() );

				polLons.add(point.getLongitude());
				polLats.add(point.getLatitude());					
				prev = point;				
			}

			for(int i = xShape[1]-1 ; i >= 0; i-- ){
				double x = xAxis.getCoordValue(0, i);
				double y = yAxis.getCoordValue(0, i);

				LatLonPoint point = fromProj.projToLatLon(x, y);
				if( point.getLongitude() < minLon ) minLon = point.getLongitude();  
				if( point.getLongitude() > maxLon ) maxLon = point.getLongitude();

				if( Math.abs(prev.getLongitude() - point.getLongitude() ) > maxDiff )
					maxDiff = Math.abs(prev.getLongitude() - point.getLongitude() );

				polLons.add(point.getLongitude());
				polLats.add(point.getLatitude());					
				prev = point;				
			}			

		}



	}",Código em Conformidade,
Java,socket recv timeout,"    private byte[] recv(Socket socket, int flags)
    {
        Utils.checkArgument(socket != null, ""socket parameter must not be null"");
        data = socket.recv(flags);
        more = socket.hasReceiveMore();
        return data;
    }",Código em Conformidade,
Java,extract latitude and longitude from given input,"    public void addCoordinates(double latitude, double longitude) {
        if (latitude < minimumLatitude) {
            minimumLatitude = latitude;
        }
        if (latitude > maximumLatitude) {
            maximumLatitude = latitude;
        }
        if (longitude < minimumLongitude) {
            minimumLongitude = longitude;
        }
        if (longitude > maximumLongitude) {
            maximumLongitude = longitude;
        }
    }",Código em Conformidade,
Java,sort string list,"	public static void removeSortColumns(List<String> selectColumns, List<String> sorts, List<Boolean> ascending) {		
		List<String> removedSorts = new ArrayList<String>();	
		for (String sort : sorts) {			
			if (!containsColumnByAlias(selectColumns,sort)) {				
				removedSorts.add(sort);
			}
		}		
		for (String sort : removedSorts) {
			removeSortByColumnName(sorts, ascending, sort);
		}				
	}",Código em Conformidade,
Java,convert a date string into yyyymmdd,"    private Date toDate(final String pStringDate) {

        // weird manipulation to parse the date... remove ':' from the timezone
        // before: 2011-07-12T22:42:40.000+02:00
        // after: 2011-07-12T22:42:40.000+0200
        final StringBuilder _date = new StringBuilder();
        _date.append(pStringDate.substring(0, pStringDate.length() - 3));
        _date.append(pStringDate.substring(pStringDate.length() - 2));
        try {
            return new SimpleDateFormat(RFC_339_DATE_FORMAT).parse(_date.toString());
        } catch (final ParseException e) {
            throw new IllegalArgumentException(
                    ""The given spreadsheet ListEntry usercrashdate field value is malformed"", e);
        }
    }",Código em Conformidade,
Java,get current process id,"    private Process getProcessInstanceDefinition0(Long processId, Long processInstDefId) {
        Process procdef = getProcess0(processId);
        if (procdef != null) {
            try {
                Document instanceDoc = getWorkflowDao().getDocument(processInstDefId);
                Process process = (Process) instanceDoc.getObject(Jsonable.class.getName(), null);
                process.setName(procdef.getName());
                process.setPackageName(procdef.getPackageName());
                return process;
            } catch (DataAccessException ex) {
                logger.severeException(""Error retrieving instance document"", ex);
            }
        }
        return null;
    }",Código em Conformidade,
Java,get the description of a http status code,"    private static Status.Code httpStatusToGrpcCode(int httpStatusCode) {
        if (httpStatusCode >= 100 && httpStatusCode < 200) {
            // 1xx. These headers should have been ignored.
            return Status.Code.INTERNAL;
        }
        switch (httpStatusCode) {
            case HttpURLConnection.HTTP_BAD_REQUEST:  // 400
            case 431: // Request Header Fields Too Large
                return Status.Code.INTERNAL;
            case HttpURLConnection.HTTP_UNAUTHORIZED:  // 401
                return Status.Code.UNAUTHENTICATED;
            case HttpURLConnection.HTTP_FORBIDDEN:  // 403
                return Status.Code.PERMISSION_DENIED;
            case HttpURLConnection.HTTP_NOT_FOUND:  // 404
                return Status.Code.UNIMPLEMENTED;
            case 429:  // Too Many Requests
            case HttpURLConnection.HTTP_BAD_GATEWAY:  // 502
            case HttpURLConnection.HTTP_UNAVAILABLE:  // 503
            case HttpURLConnection.HTTP_GATEWAY_TIMEOUT:  // 504
                return Status.Code.UNAVAILABLE;
            default:
                return Status.Code.UNKNOWN;
        }
    }",Código em Conformidade,
Java,convert json to csv,"    private String getOutputFilename(File pdfFile) {
        String extension = "".csv"";
        switch (outputFormat) {
            case CSV:
                extension = "".csv"";
                break;
            case JSON:
                extension = "".json"";
                break;
            case TSV:
                extension = "".tsv"";
                break;
        }
        return pdfFile.getPath().replaceFirst(""(\\.pdf|)$"", extension);
    }",Código em Conformidade,
Java,extracting data from a text file,"    public static void extractTextFromSingleProperty(Object propertyValue, TypeFactory<String> type,
                                                     BinaryStore binaries, StringBuilder fullTextString) {
        if (propertyValue instanceof Binary && binaries != null) {
            // Try extracting the text from the binary value ...
            try {
                propertyValue = binaries.getText((BinaryValue)propertyValue);
            } catch (BinaryStoreException e) {
                NodeSequence.LOGGER.debug(""Error getting full text from binary {0}"", propertyValue);
            }
        }
        if (propertyValue != null) {
            // Convert all other types to a string ...
            fullTextString.append(' ').append(type.create(propertyValue));
        }
    }",Código em Conformidade,
Java,extract latitude and longitude from given input,"    public static LocalLongitude getInstance(double longitude, double latitude)
    {
        if (Math.abs(longitude) < 179)
        {
            return new LocalLongitude(latitude);
        }
        else
        {
            return new PacificLongitude(latitude);
        }
    }",Código em Conformidade,
Java,write csv,"  public void writeToCsv(
      DataRequest dataRequest, OutputStream outputStream, char separator, boolean noQuotes)
      throws IOException {
    try (CsvWriter csvWriter = new CsvWriter(outputStream, separator, noQuotes)) {
      csvWriter.setEntityWriteMode(getEntityWriteMode(dataRequest.getEntityValues()));
      String entityTypeId = dataRequest.getEntityName();
      writeCsvHeaders(dataRequest, csvWriter);
      csvWriter.add(dataService.findAll(entityTypeId, dataRequest.getQuery()));
    }
  }",Bug Crítico,
Java,reading element from html - <td>,,Código em Conformidade,
Java,converting uint8 array to image,"	public static void main( String args[] ) {
		// load and convert the image into a usable format
		BufferedImage image = UtilImageIO.loadImage(UtilIO.pathExample(""particles01.jpg""));

		// convert into a usable format
		GrayF32 input = ConvertBufferedImage.convertFromSingle(image, null, GrayF32.class);
		GrayU8 binary = new GrayU8(input.width,input.height);
		GrayS32 label = new GrayS32(input.width,input.height);

		// Select a global threshold using Otsu's method.
		double threshold = GThresholdImageOps.computeOtsu(input, 0, 255);

		// Apply the threshold to create a binary image
		ThresholdImageOps.threshold(input,binary,(float)threshold,true);

		// remove small blobs through erosion and dilation
		// The null in the input indicates that it should internally declare the work image it needs
		// this is less efficient, but easier to code.
		GrayU8 filtered = BinaryImageOps.erode8(binary, 1, null);
		filtered = BinaryImageOps.dilate8(filtered, 1, null);

		// Detect blobs inside the image using an 8-connect rule
		List<Contour> contours = BinaryImageOps.contour(filtered, ConnectRule.EIGHT, label);

		// colors of contours
		int colorExternal = 0xFFFFFF;
		int colorInternal = 0xFF2020;

		// display the results
		BufferedImage visualBinary = VisualizeBinaryData.renderBinary(binary, false, null);
		BufferedImage visualFiltered = VisualizeBinaryData.renderBinary(filtered, false, null);
		BufferedImage visualLabel = VisualizeBinaryData.renderLabeledBG(label, contours.size(), null);
		BufferedImage visualContour = VisualizeBinaryData.renderContours(contours, colorExternal, colorInternal,
				input.width, input.height, null);

		ListDisplayPanel panel = new ListDisplayPanel();
		panel.addImage(visualBinary, ""Binary Original"");
		panel.addImage(visualFiltered, ""Binary Filtered"");
		panel.addImage(visualLabel, ""Labeled Blobs"");
		panel.addImage(visualContour, ""Contours"");
		ShowImages.showWindow(panel,""Binary Operations"",true);
	}",Código em Conformidade,
Java,how to randomly pick a number,"    public TernaryVector generate() {
        HashSet<Integer> pos = new HashSet<Integer>();
        HashSet<Integer> neg = new HashSet<Integer>();
        
        // Randomly decide how many bits to set in the index vector based on the
        // variance.
        int bitsToSet = numVectorValues +
            (int)(RANDOM.nextDouble() * variance *
                  ((RANDOM.nextDouble() > .5) ? 1 : -1));

        for (int i = 0; i < bitsToSet; ++i) {
            boolean picked = false;
            // loop to ensure we actually pick the full number of bits
            while (!picked) {
                // pick some random index
                int index = RANDOM.nextInt(indexVectorLength);
                    
                // check that we haven't already added this index
                if (pos.contains(index) || neg.contains(index))
                    continue;
                    
                // decide positive or negative
                ((RANDOM.nextDouble() > .5) ? pos : neg).add(index);
                picked = true;
            }
        }
            
        int[] positive = new int[pos.size()];
        int[] negative = new int[neg.size()];

        Iterator<Integer> it = pos.iterator();
        for (int i = 0; i < positive.length; ++i) 
            positive[i] = it.next();

        it = neg.iterator();
        for (int i = 0; i < negative.length; ++i) 
            negative[i] = it.next();                

        // sort so we can use a binary search in getValue()
        Arrays.sort(positive);
        Arrays.sort(negative);
        return new TernaryVector(indexVectorLength, positive, negative);
    }",Código em Conformidade,
Java,set working directory,"  public void setWorkingDirectory(Path dir) {
    if (!dir.isAbsolute()) {
      FileSystem.LogForCollect
          .info(""set job working directory to non absolute path: "" + dir
              + "" working directory: "" + getWorkingDirectory());
    }
    dir = new Path(getWorkingDirectory(), dir);
    set(""mapred.working.dir"", dir.toString());
  }",Código em Conformidade,
Java,reading element from html - <td>,"    private void printFieldsArrayTableHeader(String[] fieldsArray, PrintWriter html) {
        html.append(""<center><table width=\""90%\"" border=\""1\"" cellpadding=\""5\"" cellspacing=\""5\"" bgcolor=\""silver\"">\n""
                + ""<tr>"");
        for (String element : fieldsArray) {
            html
            .append(""<td valign=\""top\""><strong>"");
            html.append(element);
            html.append(""</strong></td>"");
        }
        html.append(""</tr>"");
    }",Código em Conformidade,
Java,get all parents of xml node,"    XML xmlFromNode(XmlNode node) {
        if (node.getXml() == null) {
            node.setXml( newXML(node) );
        }
        return node.getXml();
    }",Código em Conformidade,
Java,export to excel,"    public static Report loadDemoReport() throws FileNotFoundException, LoadReportException {
    	String location = DemoUtil.NEXTREPORTS_HOME + File.separator + ""output"" +
	            File.separator + def.getDatabaseName() + File.separator + ""Reports"";
		
		String file = location + File.separator + def.getReportName();    	        
        // use ""Mike2.report"" to test for Arabic characters
        
        Report report = ReportUtil.loadReport(new FileInputStream(file));
        // copy report images if any to directory where exported file is generated : works for HTML export
        // for PDF, RTF & EXCEL export the directory where we copy images must be in the CLASSPATH!
        copyImages(report, location, ""."");
        return report;    	
    }",Código em Conformidade,
Java,json to xml conversion,"    @Deprecated
    private String ConvertToXML(String jsonData) {
        XMLSerializer serializer = new XMLSerializer();
        JSON json = JSONSerializer.toJSON(jsonData);
        serializer.setRootName(""xmlOutput"");
        serializer.setTypeHintsEnabled(false);
        return serializer.write(json);
    }",Código em Conformidade,
Java,underline text in label widget,"	private WDecoratedLabel makeHeadingLabel(final String text, final String statusText) {
		return new WDecoratedLabel(new WImage(""/image/information.png"", ""Informative heading""),
				new WText(text), new WStyledText(statusText, WStyledText.Type.EMPHASISED));
	}",Código em Conformidade,
Java,encode url,"    private String encodeSendUrl(String encodedChannelUrl) {

        if (Utilities.isSessionEncodedInUrl(encodedChannelUrl, httpConstants.getHTTP_SESSION_ID_NAME())) {
            String channelUrlWithoutSessionId = Utilities.getUrlWithoutSessionId(encodedChannelUrl,
                                                                                 httpConstants.getHTTP_SESSION_ID_NAME());
            String sessionId = Utilities.getSessionId(encodedChannelUrl, httpConstants.getHTTP_SESSION_ID_NAME());

            return Utilities.getSessionEncodedUrl(channelUrlWithoutSessionId + ""message/"",
                                                  httpConstants.getHTTP_SESSION_ID_NAME(),
                                                  sessionId);

        } else {
            return encodedChannelUrl + ""message/"";
        }
    }",Código em Conformidade,
Java,pretty print json,"  public static void main(String[] args) throws Exception {
    StringBuffer prettyPrint = new StringBuffer();
    prettyPrint.append(""             0\n"");
    prettyPrint.append(""            /|\\\n"");
    prettyPrint.append(""           / | \\\n"");
    prettyPrint.append(""          1  2  1\n"");
    prettyPrint.append(""         / \\    |\\ \n"");
    prettyPrint.append(""        /   \\   | \\ \n"");
    prettyPrint.append(""      4     5   6  7 \n"");
    prettyPrint.append(""               /|\\ \n"");
    prettyPrint.append(""              / | \\ \n"");
    prettyPrint.append(""             8  9  10 \n"");

    System.out.println(""Constructing tree:\n"" + prettyPrint.toString());

    prettyPrint.delete(0, prettyPrint.length());
    prettyPrint.append(""             0 \n"");
    prettyPrint.append(""            / \\ \n"");
    prettyPrint.append(""           /   \\ \n"");
    prettyPrint.append(""          1     2 \n"");
    prettyPrint.append(""         /|\\  \n"");
    prettyPrint.append(""        / | \\ \n"");
    prettyPrint.append(""       /  | |\\ \n"");
    prettyPrint.append(""      /   | | \\ \n"");
    prettyPrint.append(""     4    5 6  7 \n"");
    prettyPrint.append(""           /|\\ \n"");
    prettyPrint.append(""          / | \\ \n"");
    prettyPrint.append(""         8  9  10 \n"");

    System.out.println(""Assuming tree:\n"" + prettyPrint.toString());

    ITreeNode root = new TreeNodeUniqueChildren(new Integer(0), new ITreeNode[] {
        new DefaultTreeNode(new Integer(1), new ITreeNode[] {new DefaultTreeNode(new Integer(4)),
            new DefaultTreeNode(new Integer(5)) }),
        new DefaultTreeNode(new Integer(2)),
        new DefaultTreeNode(new Integer(1), new ITreeNode[] {
            new DefaultTreeNode(new Integer(6), new ITreeNode[] {
                new DefaultTreeNode(new Integer(8)), new DefaultTreeNode(new Integer(9)),
                new DefaultTreeNode(new Integer(10)) }), new DefaultTreeNode(new Integer(7)) })

    });
    System.out.println(""The tree:"");
    System.out.println(root.toString());
  }",Código com Débito Técnico,
Java,group by count,"  public Counter getCounter(String group, String name) {
    Map<String,Counter> groupCounters = getGroup(group);
    if (groupCounters != null) {
      return groupCounters.get(name);
    }

    return null;
  }",Código em Conformidade,
Java,get name of enumerated value,"	private static EnumerationDatatype getEnumerationDatatype(
			com.siemens.ct.exi.grammars._2017.schemaforgrammars.Enumeration en,
			QNameContext qnc) throws EXIException {
		Value[] enumValues;
		Datatype dtEnumValues;

		DatatypeBasics enumDT = en.getEnumerationValueDatatype();
		if (enumDT.getBase64Binary() != null) {
			dtEnumValues = new BinaryBase64Datatype(qnc);
			enumValues = new BinaryBase64Value[en.getBase64BinaryValue().size()];
			for (int k = 0; k < en.getBase64BinaryValue().size(); k++) {
				enumValues[k] = new BinaryBase64Value(en.getBase64BinaryValue()
						.get(k));
			}
		} else if (enumDT.getHexBinary() != null) {
			dtEnumValues = new BinaryHexDatatype(qnc);
			enumValues = new BinaryHexValue[en.getHexBinaryValue().size()];
			for (int k = 0; k < en.getHexBinaryValue().size(); k++) {
				enumValues[k] = new BinaryHexValue(en.getHexBinaryValue()
						.get(k));
			}
		} else if (enumDT.getBoolean() != null) {
			dtEnumValues = new BooleanDatatype(qnc);
			enumValues = new BooleanValue[en.getBooleanValue().size()];
			for (int k = 0; k < en.getBooleanValue().size(); k++) {
				enumValues[k] = en.getBooleanValue().get(k) ? BooleanValue.BOOLEAN_VALUE_TRUE
						: BooleanValue.BOOLEAN_VALUE_FALSE;
			}
		} else if (enumDT.getDateAndTime() != null) {
			DateTimeType dateType;
			if (enumDT.getDateAndTime().getDateTime() != null) {
				dateType = DateTimeType.dateTime;
				enumValues = new DateTimeValue[en.getDateTimeValue().size()];
				for (int k = 0; k < en.getDateTimeValue().size(); k++) {
					XMLGregorianCalendar xmlgc = en.getDateTimeValue().get(k);
					DateTimeValue dtv = DateTimeValue.parse(
							xmlgc.toGregorianCalendar(), dateType);
					enumValues[k] = dtv;
				}
			} else if (enumDT.getDateAndTime().getTime() != null) {
				dateType = DateTimeType.time;
				enumValues = new DateTimeValue[en.getTimeValue().size()];
				for (int k = 0; k < en.getTimeValue().size(); k++) {
					XMLGregorianCalendar xmlgc = en.getTimeValue().get(k);
					DateTimeValue dtv = DateTimeValue.parse(
							xmlgc.toGregorianCalendar(), dateType);
					enumValues[k] = dtv;
				}
			} else if (enumDT.getDateAndTime().getDate() != null) {
				dateType = DateTimeType.date;
				enumValues = new DateTimeValue[en.getDateValue().size()];
				for (int k = 0; k < en.getDateValue().size(); k++) {
					XMLGregorianCalendar xmlgc = en.getDateValue().get(k);
					DateTimeValue dtv = DateTimeValue.parse(
							xmlgc.toGregorianCalendar(), dateType);
					enumValues[k] = dtv;
				}
			} else if (enumDT.getDateAndTime().getGYearMonth() != null) {
				dateType = DateTimeType.gYearMonth;
				enumValues = new DateTimeValue[en.getGYearMonthValue().size()];
				for (int k = 0; k < en.getGYearMonthValue().size(); k++) {
					XMLGregorianCalendar xmlgc = en.getGYearMonthValue().get(k);
					DateTimeValue dtv = DateTimeValue.parse(
							xmlgc.toGregorianCalendar(), dateType);
					enumValues[k] = dtv;
				}
			} else if (enumDT.getDateAndTime().getGYear() != null) {
				dateType = DateTimeType.gYear;
				enumValues = new DateTimeValue[en.getGYearValue().size()];
				for (int k = 0; k < en.getGYearValue().size(); k++) {
					XMLGregorianCalendar xmlgc = en.getGYearValue().get(k);
					DateTimeValue dtv = DateTimeValue.parse(
							xmlgc.toGregorianCalendar(), dateType);
					enumValues[k] = dtv;
				}
			} else if (enumDT.getDateAndTime().getGMonthDay() != null) {
				dateType = DateTimeType.gMonthDay;
				enumValues = new DateTimeValue[en.getGMonthDayValue().size()];
				for (int k = 0; k < en.getGMonthDayValue().size(); k++) {
					XMLGregorianCalendar xmlgc = en.getGMonthDayValue().get(k);
					DateTimeValue dtv = DateTimeValue.parse(
							xmlgc.toGregorianCalendar(), dateType);
					enumValues[k] = dtv;
				}
			} else if (enumDT.getDateAndTime().getGDay() != null) {
				dateType = DateTimeType.gDay;
				enumValues = new DateTimeValue[en.getGDayValue().size()];
				for (int k = 0; k < en.getGDayValue().size(); k++) {
					XMLGregorianCalendar xmlgc = en.getGDayValue().get(k);
					DateTimeValue dtv = DateTimeValue.parse(
							xmlgc.toGregorianCalendar(), dateType);
					enumValues[k] = dtv;
				}
			} else if (enumDT.getDateAndTime().getGMonth() != null) {
				dateType = DateTimeType.gMonth;
				enumValues = new DateTimeValue[en.getGMonthValue().size()];
				for (int k = 0; k < en.getGMonthValue().size(); k++) {
					XMLGregorianCalendar xmlgc = en.getGMonthValue().get(k);
					DateTimeValue dtv = DateTimeValue.parse(
							xmlgc.toGregorianCalendar(), dateType);
					enumValues[k] = dtv;
				}
			} else {
				throw new EXIException(""Unsupported Enum DateAndTime datatype"");
			}
			dtEnumValues = new DatetimeDatatype(dateType, qnc);
		} else if (enumDT.getDecimal() != null) {
			dtEnumValues = new DecimalDatatype(qnc);
			enumValues = new DecimalValue[en.getDecimalValue().size()];
			for (int k = 0; k < en.getDecimalValue().size(); k++) {
				enumValues[k] = DecimalValue.parse(en.getDecimalValue().get(k));
			}
		} else if (enumDT.getDouble() != null) {
			dtEnumValues = new FloatDatatype(qnc);
			enumValues = new FloatValue[en.getFloatValue().size()];
			for (int k = 0; k < en.getFloatValue().size(); k++) {
				enumValues[k] = FloatValue.parse(en.getFloatValue().get(k));
			}
		} else if (enumDT.getInteger() != null) {
			dtEnumValues = new IntegerDatatype(qnc);
			enumValues = new IntegerValue[en.getIntegerValue().size()];
			for (int k = 0; k < en.getIntegerValue().size(); k++) {
				enumValues[k] = IntegerValue.valueOf(en.getIntegerValue()
						.get(k));
			}
		} else if (enumDT.getString() != null) {
			dtEnumValues = new StringDatatype(qnc);
			enumValues = new StringValue[en.getStringValue().size()];
			for (int k = 0; k < en.getStringValue().size(); k++) {
				enumValues[k] = new StringValue(en.getStringValue().get(k));
			}
		} else {
			throw new EXIException(""Unsupported Enumeration type for "" + enumDT);
		}

		EnumerationDatatype endt = new EnumerationDatatype(enumValues,
				dtEnumValues, qnc);
		return endt;
	}",Código em Conformidade,
Java,sort string list,"    private List<String> getKeysSorted() {
        List<String> sortedList = new ArrayList<>(getKeys());
        Collections.sort(sortedList);
        return sortedList;
    }",Código em Conformidade,
Java,initializing array,"	protected void init() throws SshException {

		Log.info(this, ""Initializing SSH2 server->client ciphers"");

		ssh2ciphersSC = new ComponentFactory(SshCipher.class);
		initializeSsh2CipherFactory(ssh2ciphersSC);

		if (enableNoneCipher) {
			ssh2ciphersSC.add(""none"", NoneCipher.class);
			Log.info(this, ""   none will be a supported cipher"");
		}

		Log.info(this, ""Initializing SSH2 client->server ciphers"");

		ssh2ciphersCS = new ComponentFactory(SshCipher.class);
		initializeSsh2CipherFactory(ssh2ciphersCS);

		if (enableNoneCipher) {
			ssh2ciphersCS.add(""none"", NoneCipher.class);
			Log.info(this, ""   none will be a supported cipher"");
		}

		Log.info(this, ""Initializing SSH2 server->client HMACs"");

		hmacsSC = new ComponentFactory(SshHmac.class);
		initializeHmacFactory(hmacsSC);

		if (enableNoneMac) {
			hmacsSC.add(""none"", NoneHmac.class);
			Log.info(this, ""   none will be a supported hmac"");
		}

		Log.info(this, ""Initializing SSH2 client->server HMACs"");

		hmacsCS = new ComponentFactory(SshHmac.class);
		initializeHmacFactory(hmacsCS);

		if (enableNoneMac) {
			hmacsCS.add(""none"", NoneHmac.class);
			Log.info(this, ""   none will be a supported hmac"");
		}

		Log.info(this, ""Initializing public keys"");

		publickeys = new ComponentFactory(SshPublicKey.class);
		initializePublicKeyFactory(publickeys);

		Log.info(this, ""Initializing digests"");

		digests = new ComponentFactory(SshPublicKey.class);
		initializeDigestFactory(digests);

		Log.info(this, ""Initializing SSH2 key exchanges"");

		keyexchange = new ComponentFactory(SshKeyExchange.class);
		initializeKeyExchangeFactory(keyexchange);

		Log.info(this, ""Initializing Secure Random Number Generator"");
		getRND().nextInt();
	}",Código em Conformidade,
Java,k means clustering,"	protected static Clustering kMeans(int k, Cluster[] centers, List<? extends Cluster> data) {
		assert (centers.length == k);
		assert (k > 0);

		int dimensions = centers[0].getCenter().length;

		ArrayList<ArrayList<Cluster>> clustering = new ArrayList<ArrayList<Cluster>>();
		for (int i = 0; i < k; i++) {
			clustering.add(new ArrayList<Cluster>());
		}

		while (true) {
			// Assign points to clusters
			for (Cluster point : data) {
				double minDistance = distance(point.getCenter(), centers[0].getCenter());
				int closestCluster = 0;
				for (int i = 1; i < k; i++) {
					double distance = distance(point.getCenter(), centers[i].getCenter());
					if (distance < minDistance) {
						closestCluster = i;
						minDistance = distance;
					}
				}

				clustering.get(closestCluster).add(point);
			}

			// Calculate new centers and clear clustering lists
			SphereCluster[] newCenters = new SphereCluster[centers.length];
			for (int i = 0; i < k; i++) {
				newCenters[i] = calculateCenter(clustering.get(i), dimensions);
				clustering.get(i).clear();
			}
			
			// Convergence check
			boolean converged = true;
			for (int i = 0; i < k; i++) {
				if (!Arrays.equals(centers[i].getCenter(), newCenters[i].getCenter())) {
					converged = false;
					break;
				}
			}
			
			if (converged) {
				break;
			} else {
				centers = newCenters;
			}
		}

		return new Clustering(centers);
	}",Código em Conformidade,
Java,how to randomly pick a number,"	public int randomChooseFromDistribution(double... probs) {
		int result = -1;
		int[] range = new int[probs.length];
		double accuracy = 1000;
		int total = 0;

		for (int i = 0; i < probs.length; i++) {
			range[i] = (int) (probs[i] * accuracy);
			total += range[i];
		}

		int randNum = (int) (rng.nextDouble() * total);
		for (int i = 0; i < range.length; i++) {
			randNum -= range[i];
			if (randNum <= 0) {
				result = i;
				break;
			}
		}
		return result;
	}",Código em Conformidade,
Java,sorting multiple arrays based on another arrays sorted order,"    public double median()
    {
        if (this.isEmpty())
        {
            throw new ArithmeticException();
        }
        byte[] sortedArray = this.toSortedArray();
        int middleIndex = sortedArray.length >> 1;
        if (sortedArray.length > 1 && (sortedArray.length & 1) == 0)
        {
            byte first = sortedArray[middleIndex];
            byte second = sortedArray[middleIndex - 1];
            return ((double) first + (double) second) / 2.0;
        }
        return (double) sortedArray[middleIndex];
    }",Código em Conformidade,
Java,buffered file reader read text,"    @Override
    public final InputStream read(File file) throws LowlevelStorageException {
        //buffered reader?
        FileInputStream fileInputStream = null;
        {
            if (!file.exists()) {
                throw new LowlevelStorageException(true, ""file ""
                        + getPath(file) + ""doesn't exist for reading"");
            }
            if (!file.canRead()) {
                throw new LowlevelStorageException(true, ""file ""
                        + getPath(file) + ""not readable"");
            }

            try {
                fileInputStream = new FileInputStream(file);
            } catch (IOException eCaughtOpenFile) {
                throw new LowlevelStorageException(true,
                                                   ""file ""
                                                           + getPath(file)
                                                           + ""couldn't be opened for reading"",
                                                   eCaughtOpenFile);
            }
        }
        return fileInputStream;
    }",Código em Conformidade,
Java,buffered file reader read text,"	private void readInnerText(UnprotectedStringBuffer innerText, AsyncWork<UnprotectedStringBuffer, Exception> result) {
		ISynchronizationPoint<Exception> next = next();
		do {
			if (next.isUnblocked()) {
				if (!check(next, result)) return;
				if (Type.COMMENT.equals(event.type)) {
					next = next();
					continue;
				}
				if (Type.TEXT.equals(event.type)) {
					innerText.append(event.text);
					next = next();
					continue;
				}
				if (Type.START_ELEMENT.equals(event.type)) {
					if (event.isClosed) {
						next = next();
						continue;
					}
					closeElement().listenAsync(new ParsingTask(() -> {
						readInnerText(innerText, result);
					}), result);
					return;
				}
				if (Type.END_ELEMENT.equals(event.type)) {
					result.unblockSuccess(innerText);
					return;
				}
				next = next();
				continue;
			}
			break;
		} while (true);
		next.listenInline(() -> {
			if (Type.START_ELEMENT.equals(event.type)) {
				if (event.isClosed) {
					new ParsingTask(() -> { readInnerText(innerText, result); }).start();
					return;
				}
				closeElement().listenAsync(new ParsingTask(() -> {
					readInnerText(innerText, result);
				}), result);
				return;
			}
			if (Type.COMMENT.equals(event.type)) {
				new ParsingTask(() -> { readInnerText(innerText, result); }).start();
				return;
			}
			if (Type.TEXT.equals(event.type)) {
				innerText.append(event.text);
				new ParsingTask(() -> { readInnerText(innerText, result); }).start();
				return;
			}
			if (Type.END_ELEMENT.equals(event.type)) {
				result.unblockSuccess(innerText);
				return;
			}
			new ParsingTask(() -> { readInnerText(innerText, result); }).start();
		}, result);
	}",Código em Conformidade,
Java,socket recv timeout,"    public CheckedSocket createSocket(long timeout)
        throws ConnectException, SocketException
    {
        Socket socket = SocketConnector.connect
            (mAddr, mPort, mLocalAddr, mLocalPort, timeout);
        if (socket == null) {
            throw new ConnectException(""Connect timeout expired: "" + timeout);
        }
        return CheckedSocket.check(socket);
    }",Código em Conformidade,
Java,linear regression,"    public static double[] linearReg(double[] xData, double[] yData) {
        sameArrayLen(xData, yData);
        double sumYValue = 0;
        double meanYValue = 0;
        double sumXValue = 0;
        double meanXValue = 0;
        double sumX = 0;
        double sumY = 0;
        double prod = 0;
        double NODATA = -9999;
        int nstat = xData.length;
        double[] regCoef = new double[3]; //(intercept, gradient, r?)
        int counter = 0;
        //calculating sums
        for (int i = 0; i < nstat; i++) {
            if ((yData[i] != NODATA) && (xData[i] != NODATA)) {
                sumYValue += yData[i];
                sumXValue += xData[i];
                counter++;
            }
        }
        //calculating means
        meanYValue = sumYValue / counter;
        meanXValue = sumXValue / counter;

        //calculating regression coefficients
        for (int i = 0; i < nstat; i++) {
            if ((yData[i] != NODATA) && (xData[i] != NODATA)) {
                sumX += Math.pow((xData[i] - meanXValue), 2);
                sumY += Math.pow((yData[i] - meanYValue), 2);
                prod += ((xData[i] - meanXValue) * (yData[i] - meanYValue));
            }
        }
        if (sumX > 0 && sumY > 0) {
            regCoef[1] = prod / sumX;  //gradient
            regCoef[0] = meanYValue - regCoef[1] * meanXValue; //intercept
            regCoef[2] = Math.pow((prod / Math.sqrt(sumX * sumY)), 2); //r?
        } else {
            regCoef[1] = 0;
            regCoef[0] = 0;
            regCoef[2] = 0;
        }
        return regCoef;
    }",Código em Conformidade,
Java,nelder mead optimize,"	private void optimize(int maxi) throws StructureException
	{
		long optStart = System.currentTimeMillis();
		if ( debug)
			System.out.println(""Optimizing up to "" + maxi + "" iterations.. "");
		boolean ifstop = true;;
		int     i, alnLen;
		alnLen = 0;

		int[][]     alnList =  new int[2][maxLen];
		for(i = 0; i < maxi; i ++)      {

			//if ( debug){
			//   System.out.println(""optimize iteration: "" + i);
			//}

			calMatrix();

			FCAlignHelper aln = new FCAlignHelper(sij,pro1Len,pro2Len,gapIni, gapExt);

			//ALIGN0 *aln = new ALIGN0(sij, pro1Len, pro2Len, gapIni, gapExt);
			alnLen = aln.getAlignPos(alnList);
			if(alnLen < 3)  ifstop = true; //very rare, mark by Y.Y on 5/1/03
			else    ifstop = defineEquPos(alnLen, alnList);

			if(ifstop)      break;
			Dc += increase;

//         if (showAlig)
//            if ( i == 0 )
//               showCurrentAlignment(alnLen, alnList,  ""optimizing alignment - after "" + i + "" iterations alnLen:"" + alnLen + "" rmsd "" + rmsd);
		}

		if  (debug){
			if(i < maxi)    {
				System.out.println(String.format(""   optimize converged at %d iterations\n"", i));
			}
			else    System.out.println(""   optimize stop without convergence\n"");
			System.out.println(""optimization time: "" + (System.currentTimeMillis() - optStart) + "" ms."");
		}

//      if (showAlig)
//         showCurrentAlignment(alnLen, alnList,  ""optimizing alignment - after "" + i + "" iterations alnLen:"" + alnLen + "" rmsd "" + rmsd);
	}",Código com Débito Técnico,
Java,how to get current date,"    public static Date getDateWithPrevDays(int noOfDays) throws ParseException {
        Calendar currentDate = Calendar.getInstance();
        currentDate.add(Calendar.DATE, -noOfDays);
        SimpleDateFormat formatter = new SimpleDateFormat(DATE_yyyyMMddTHHmmssSSSZ);
        String dateNow = formatter.format(currentDate.getTime());
        return getDateFromString(dateNow);
    }",Código em Conformidade,
Java,json to xml conversion,"    private JsonObject convertXmlElementsToJsonObject(final List<Element> xmlElements, final boolean includeAttributes, final String textPropName) {
        JsonObject result = new JsonObject();
        for (final Element xmlElement : xmlElements) {
            result = addXmlElementToJsonObject(result, xmlElement, includeAttributes, textPropName);
        }
        return result;
    }",Código em Conformidade,
Java,unzipping large files,"  private File unzipFile(final File archiveFile) throws IOException {
    final ZipFile zipfile = new ZipFile(archiveFile);
    final File unzipped = Utils.createTempDir(this.tempDir);
    Utils.unzip(zipfile, unzipped);
    zipfile.close();

    return unzipped;
  }",Código em Conformidade,
Java,create cookie,"    public static Cookie createCookie(String cookieName, @Sensitive String cookieValue, HttpServletRequest req) {
        return createCookie(cookieName, cookieValue, -1, req);
    }",Código em Conformidade,
Java,all permutations of a list,"    public List<T> nextPermutationAsList()
    {
        List<T> permutation = new ArrayList<T>(elements.length);
        return nextPermutationAsList(permutation);
    }",Código em Conformidade,
Java,copy to clipboard,"    public static void copyToClipboard(String string) {
        ClipboardContent content = new ClipboardContent();
        content.putString(string);
        Clipboard.getSystemClipboard().setContent(content);
        logger.info(""copy '"" + string + ""' to clipboard"");
    }",Código em Conformidade,
Java,hash set for counting distinct elements,"    public static <T> ArrayList<T> distinct(ArrayList<T> list, HashingStrategy<? super T> hashingStrategy)
    {
        int size = list.size();
        MutableSet<T> seenSoFar = UnifiedSetWithHashingStrategy.newSet(hashingStrategy);
        ArrayList<T> result = new ArrayList<T>();
        if (ArrayListIterate.isOptimizableArrayList(list, size))
        {
            T[] elements = ArrayListIterate.getInternalArray(list);
            for (int i = 0; i < size; i++)
            {
                if (seenSoFar.add(elements[i]))
                {
                    result.add(elements[i]);
                }
            }
        }
        else
        {
            for (int i = 0; i < size; i++)
            {
                T item = list.get(i);
                if (seenSoFar.add(item))
                {
                    result.add(item);
                }
            }
        }
        return result;
    }",Código em Conformidade,
Java,output to html file,"    protected String createHtmlOverviewFile(File parentDir, List<TestReportHtml> htmls) throws IOException {
        return new HtmlOverviewFileWriter(parentDir).write(htmls);
    }",Código em Conformidade,
Java,string similarity levenshtein,"    public static double similarDamerauLevenshtein(String s1, String s2) {
        if (s1.equals(s2)) {
            return 1.0;
        }

        // Make sure s1 is the longest string
        if (s1.length() < s2.length()) {
            String swap = s1;
            s1 = s2;
            s2 = swap;
        }

        int bigLength = s1.length();
        return (bigLength - getDamerauLevenshteinDistance(s2, s1)) / (double) bigLength;
    }",Código em Conformidade,
Java,read properties file,"    private Properties readPropertyFile(String file) throws IOException {
        String fileName = file.startsWith(""/"") ? file : ""/"" + file;
        LOGGER.info(""Reading properties from: "" + fileName + "". Will try classpath, then file system."");
        return Util.readProperties(fileName);
    }",Bug Crítico,
Java,aes encryption,"    public static byte[] decryptAES(SecretKey key, byte[] iv, byte[] encryptedBytes) throws
            NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,
            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {
        Cipher aesCipher = Cipher.getInstance(""AES/CBC/PKCS5Padding"");
        IvParameterSpec ivParameter = new IvParameterSpec(iv);
        // see http://stackoverflow.com/a/11506343
        Key encryptionKey = new SecretKeySpec(key.getEncoded(),""AES"");
        aesCipher.init(Cipher.DECRYPT_MODE, encryptionKey, ivParameter);
        return aesCipher.doFinal(encryptedBytes);
    }",Código em Conformidade,
Java,convert html to pdf,"    private void generatePdf() {
        File pdfFile = new File(directory, filename + "".pdf"");
        try (OutputStream os = new FileOutputStream(pdfFile)) {
            PdfRendererBuilder builder = new PdfRendererBuilder();
            builder.withHtmlContent(getHtmlForPDFConversion(), ""file://"" + pdfFile.getAbsolutePath()
                    .replaceAll("" "", ""%20""));
            builder.toStream(os);
            builder.run();
        } catch (Exception e) {
            log.error(e);
        }
    }",Código em Conformidade,
Java,k means clustering,"    void section(int nclusters)
    {
        if (size() < nclusters)
            return;

        sectioned_clusters_ = new ArrayList<Cluster<K>>(nclusters);
        List<Document> centroids = new ArrayList<Document>(nclusters);
        // choose_randomly(nclusters, centroids);
        choose_smartly(nclusters, centroids);
        for (int i = 0; i < centroids.size(); i++)
        {
            Cluster<K> cluster = new Cluster<K>();
            sectioned_clusters_.add(cluster);
        }

        for (Document<K> d : documents_)
        {
            double max_similarity = -1.0;
            int max_index = 0;
            for (int j = 0; j < centroids.size(); j++)
            {
                double similarity = SparseVector.inner_product(d.feature(), centroids.get(j).feature());
                if (max_similarity < similarity)
                {
                    max_similarity = similarity;
                    max_index = j;
                }
            }
            sectioned_clusters_.get(max_index).add_document(d);
        }
    }",Código em Conformidade,
Java,custom http error response,"    public static boolean isResponseHttpErrorStatus(HttpResponseMessage response) {
        boolean isHttpError = false;
        if (response != null) {
            int status = response.getStatus();
            isHttpError = isResponseHttpErrorStatus(status);
        }
        return isHttpError;
    }",Código em Conformidade,
Java,nelder mead optimize,"    @Override
    public IntermediateQuery optimize(IntermediateQuery query) throws EmptyQueryException {
        IntermediateQuery optimizedQuery = super.optimize(query);
        log.trace(""New query after union flattening: \n"" + optimizedQuery.toString());
        return optimizedQuery;
    }",Código em Conformidade,
Java,save list to file,"    @ShellMethod(value = ""Display or save the history of previously run commands"")
    public List<String> history(@ShellOption(help = ""A file to save history to."", defaultValue = ShellOption.NULL) File file) throws IOException {
        if (file == null) {
            List<String> result = new ArrayList<>(jLineHistory.size());
            jLineHistory.forEach(e -> result.add(e.line()));
            return result;
        } else {
            try (FileWriter w = new FileWriter(file)) {
                for (org.jline.reader.History.Entry entry : jLineHistory) {
                    w.append(entry.line()).append(System.lineSeparator());
                }
            }
            return Collections.singletonList(String.format(""Wrote %d entries to %s"", jLineHistory.size(), file));
        }
    }",Bug Crítico,
Java,convert string to number,,Código em Conformidade,
Java,how to empty array,"    private int[] fillMissingArray(int[] arrayToExtend) {
        int[] extendedArray = new int[buildNumbers.length];
        System.arraycopy(arrayToExtend, 0, extendedArray, buildNumbers.length - arrayToExtend.length, arrayToExtend.length);
        return extendedArray;
    }",Código em Conformidade,
Java,hash set for counting distinct elements,"    public static <Key, Value, DistinctType> Aggregation<Key, Value, Set<DistinctType>> distinctValues() {
        AggType<Key, Value, Integer, DistinctType, Set<DistinctType>, Set<DistinctType>, Set<DistinctType>> aggType;
        aggType = new DistinctValuesAggregation<Key, Value, DistinctType>();
        return new AggregationAdapter<Key, Value, Set<DistinctType>>(aggType);
    }",Código em Conformidade,
Java,how to determine a string is a valid word,"    public int getDimension(DependencyPath path) {
        String endToken = path.last().word();

        // Extract out how the current word is related to the last word in the
        // path.  
        String relation = path.getRelation(path.length() - 1);
        return getDimensionInternal(endToken + ""+"" + relation);
    }",Código em Conformidade,
Java,connect to sql,"    @Override
    public synchronized DBConnect getDBConnect() {
        DBConnect connect = threadConnect.get();
        if (connect == null) {
            connect = useConnect();
            threadConnect.set(connect);
        }
        return connect;
    }",Código em Conformidade,
Java,pretty print json,"	public String prettyPrint (String json, PrettyPrintSettings settings) {
		return new JsonReader().parse(json).prettyPrint(settings);
	}",Código em Conformidade,
Java,how to get current date,"    public static Date getCurrentDateTime() throws ParseException {
        Calendar currentDate = Calendar.getInstance();
        SimpleDateFormat formatter = new SimpleDateFormat(DATE_yyyyMMddTHHmmssSSSZ);
        String dateNow = formatter.format(currentDate.getTime());
        return getDateFromString(dateNow);
    }",Código em Conformidade,
Java,matrix multiply,"    public NDMatrix mul(double x, NDMatrix c) {
        A.muli(x, c.A);
        return c;
    }",Código em Conformidade,
Java,postgresql connection,"    private void postGetConnectionHandling(Connection conn) throws SQLException {
        helper.doConnectionSetup(conn);

        String[] sqlCommands = dsConfig.get().onConnect;
        if (sqlCommands != null && sqlCommands.length > 0)
            onConnect(conn, sqlCommands);

        // Log the database and driver versions on first getConnection.
        if (!wasUsedToGetAConnection) {
            // Wait until after the connection succeeds to set the indicator.
            // This accounts for the scenario where the first connection attempt is bad.
            // The information needs to be read again on the second attempt.
            helper.gatherAndDisplayMetaDataInfo(conn, this);
            wasUsedToGetAConnection = true;
        }
    }",Código em Conformidade,
Java,extracting data from a text file,"  private TextureData loadTexture(GL2 gl, GLProfile profile, final String filename) {
    try (InputStream stream = ScatterPlot.class.getResourceAsStream(filename)) {
      return TextureIO.newTextureData(profile, stream, false, ""png"");
    }
    catch(IOException exc) {
      throw new RuntimeException(""Could not load texture: "" + filename, exc);
    }
  }",Código em Conformidade,
Java,extract latitude and longitude from given input,"    static Double extractLatitude(AisExtractor extractor) {
        int val = extractor.getSignedValue(192, 219);
        if (val == LATITUDE_NOT_AVAILABLE) {
            return null;
        } else {
            Util.checkLat(val / 600000.0);
            return val / 600000.0;
        }
    }",Código em Conformidade,
Java,how to reverse a string,"  public static String reverse(String str) {
      if (str == null) {
          return null;
      }
      return new StringBuffer(str).reverse().toString();
  }",Código em Conformidade,
Java,connect to sql,"  private java.sql.Connection connectToDB(String strJDBCDriver, String strJDBCURL, 
    String strUsername, String strPassword)
  {
      try
      {
          Class.forName(strJDBCDriver); // ""com.informix.jdbc.IfxDriver""
          java.sql.Connection conn = 
            java.sql.DriverManager.getConnection(strJDBCURL, 
                strUsername, strPassword);  // ""jdbc:informix-sqli://moon:1526/bci_test:INFORMIXSERVER=ol_bci"", ""informix"", ""informix""
          return conn;
      }
      catch (java.sql.SQLException sqlEx)
      {
          java.sql.SQLException currentSqlEx = sqlEx;
          System.out.println (sqlEx.getErrorCode() + "":"" + sqlEx.getMessage());
          while (currentSqlEx.getNextException() != null)
          {
            currentSqlEx = currentSqlEx.getNextException();
            System.out.println (sqlEx.getErrorCode() + "":"" + sqlEx.getMessage());
          }
          JOptionPane.showMessageDialog(mainFrame, ""Error connecting to database:\n"" + sqlEx.getMessage(), ""SQL Error"", JOptionPane.ERROR_MESSAGE);          
          return null;
      }
      catch (java.lang.ClassNotFoundException clNotFoundEx)
      {
          clNotFoundEx.printStackTrace();
          JOptionPane.showMessageDialog(mainFrame, ""Cannot find driver class:\n"" + clNotFoundEx.getMessage(), ""Class Not Found"", JOptionPane.ERROR_MESSAGE);
          return null;
      }
      catch (Throwable t)
      {
          t.printStackTrace();
          JOptionPane.showMessageDialog(mainFrame, ""Unknown error:\n"" + t.getMessage(), ""Unknown Error"", JOptionPane.ERROR_MESSAGE);
          return null;
      }              
  }  ",Código com Débito Técnico,
